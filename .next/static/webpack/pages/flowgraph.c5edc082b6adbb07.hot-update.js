"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/flowgraph",{

/***/ "./components/Flow/PrintDataNode.tsx":
/*!*******************************************!*\
  !*** ./components/Flow/PrintDataNode.tsx ***!
  \*******************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_flow_renderer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-flow-renderer */ \"./node_modules/react-flow-renderer/dist/esm/index.js\");\n/* harmony import */ var _FlowContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FlowContext */ \"./components/Flow/FlowContext.js\");\n\nvar _s = $RefreshSig$();\n\n\n // <- new import\nfunction PrintDataNode(param) {\n    let { id } = param;\n    _s();\n    const { nodes } = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(_FlowContext__WEBPACK_IMPORTED_MODULE_2__[\"default\"]); // <- new line\n    const node = nodes.find((node)=>node.id === id);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"p-2 shadow-md rounded-md bg-white border-gray-400 text-xs\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"font-bold text-s mx-1  border-gray-300 pb-2\",\n                children: \"PRINT DATA NODE\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Iver\\\\Documents\\\\energy-flow\\\\components\\\\Flow\\\\PrintDataNode.tsx\",\n                lineNumber: 11,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"border-b border-gray-300 mb-2\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Iver\\\\Documents\\\\energy-flow\\\\components\\\\Flow\\\\PrintDataNode.tsx\",\n                lineNumber: 12,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"font-medium\",\n                        children: \"Data:\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Iver\\\\Documents\\\\energy-flow\\\\components\\\\Flow\\\\PrintDataNode.tsx\",\n                        lineNumber: 15,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: \"[\".concat(node.data.name, \", \").concat(node.data.medium, \", \").concat(node.data.value, \", \").concat(node.data.unit, \", \").concat(node.data.temperature, \", \").concat(node.data.pressure, \"]\")\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Iver\\\\Documents\\\\energy-flow\\\\components\\\\Flow\\\\PrintDataNode.tsx\",\n                        lineNumber: 16,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\Iver\\\\Documents\\\\energy-flow\\\\components\\\\Flow\\\\PrintDataNode.tsx\",\n                lineNumber: 14,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_flow_renderer__WEBPACK_IMPORTED_MODULE_3__.Handle, {\n                type: \"target\",\n                position: react_flow_renderer__WEBPACK_IMPORTED_MODULE_3__.Position.Left,\n                id: \"in\",\n                style: {\n                    background: \"#555\",\n                    width: \"10px\",\n                    height: \"10px\",\n                    top: \"16px\",\n                    left: \"-4px\"\n                }\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Iver\\\\Documents\\\\energy-flow\\\\components\\\\Flow\\\\PrintDataNode.tsx\",\n                lineNumber: 19,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\Iver\\\\Documents\\\\energy-flow\\\\components\\\\Flow\\\\PrintDataNode.tsx\",\n        lineNumber: 10,\n        columnNumber: 5\n    }, this);\n}\n_s(PrintDataNode, \"slpxPeS4PAHFyy/mi2SSjzMDgDo=\");\n_c = PrintDataNode;\n/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/_c1 = (0,react__WEBPACK_IMPORTED_MODULE_1__.memo)(PrintDataNode));\nvar _c, _c1;\n$RefreshReg$(_c, \"PrintDataNode\");\n$RefreshReg$(_c1, \"%default%\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL0Zsb3cvUHJpbnREYXRhTm9kZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQWdEO0FBQ087QUFDZixDQUFDLGdCQUFnQjtBQUV6RCxTQUFTTSxjQUFjLEtBQU07UUFBTixFQUFFQyxFQUFFLEVBQUUsR0FBTjs7SUFDckIsTUFBTSxFQUFFQyxLQUFLLEVBQUUsR0FBR04saURBQVVBLENBQUNHLG9EQUFXQSxHQUFHLGNBQWM7SUFDekQsTUFBTUksT0FBT0QsTUFBTUUsS0FBS0QsQ0FBQUEsT0FBUUEsS0FBS0YsT0FBT0E7SUFFNUMscUJBQ0UsOERBQUNJO1FBQUlDLFdBQVU7OzBCQUNiLDhEQUFDRDtnQkFBSUMsV0FBVTswQkFBOEM7Ozs7OzswQkFDN0QsOERBQUNEO2dCQUFJQyxXQUFVOzs7Ozs7MEJBRWYsOERBQUNEO2dCQUFJQyxXQUFVOztrQ0FDYiw4REFBQ0Q7d0JBQUlDLFdBQVU7a0NBQWM7Ozs7OztrQ0FDN0IsOERBQUNEO2tDQUFLLElBQXVCRixPQUFuQkEsS0FBS0ksS0FBS0MsTUFBSyxNQUF5QkwsT0FBckJBLEtBQUtJLEtBQUtFLFFBQU8sTUFBd0JOLE9BQXBCQSxLQUFLSSxLQUFLRyxPQUFNLE1BQXVCUCxPQUFuQkEsS0FBS0ksS0FBS0ksTUFBSyxNQUE4QlIsT0FBMUJBLEtBQUtJLEtBQUtLLGFBQVksTUFBdUIsT0FBbkJULEtBQUtJLEtBQUtNLFVBQVM7Ozs7Ozs7Ozs7OzswQkFHeEksOERBQUNoQix1REFBTUE7Z0JBQ0xpQixNQUFLO2dCQUNMQyxVQUFVakIseURBQVFBLENBQUNrQjtnQkFDbkJmLElBQUc7Z0JBQ0hnQixPQUFPO29CQUFFQyxZQUFZO29CQUFRQyxPQUFPO29CQUFRQyxRQUFRO29CQUFRQyxLQUFLO29CQUFRQyxNQUFNO2dCQUFPOzs7Ozs7Ozs7Ozs7QUFJOUY7R0F0QlN0QjtLQUFBQTtBQXdCVCxrRkFBZUwsMkNBQUlBLENBQUNLLGNBQWNBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vY29tcG9uZW50cy9GbG93L1ByaW50RGF0YU5vZGUudHN4PzU4NWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IG1lbW8sIHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IEhhbmRsZSwgUG9zaXRpb24gfSBmcm9tICdyZWFjdC1mbG93LXJlbmRlcmVyJztcclxuaW1wb3J0IEZsb3dDb250ZXh0IGZyb20gJy4vRmxvd0NvbnRleHQnOyAvLyA8LSBuZXcgaW1wb3J0XHJcblxyXG5mdW5jdGlvbiBQcmludERhdGFOb2RlKHsgaWQgfSkge1xyXG4gIGNvbnN0IHsgbm9kZXMgfSA9IHVzZUNvbnRleHQoRmxvd0NvbnRleHQpOyAvLyA8LSBuZXcgbGluZVxyXG4gIGNvbnN0IG5vZGUgPSBub2Rlcy5maW5kKG5vZGUgPT4gbm9kZS5pZCA9PT0gaWQpO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwLTIgc2hhZG93LW1kIHJvdW5kZWQtbWQgYmctd2hpdGUgYm9yZGVyLWdyYXktNDAwIHRleHQteHNcIj5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC1zIG14LTEgIGJvcmRlci1ncmF5LTMwMCBwYi0yXCI+UFJJTlQgREFUQSBOT0RFPC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPSdib3JkZXItYiBib3JkZXItZ3JheS0zMDAgbWItMic+PC9kaXY+XHJcbiAgICAgIFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTJcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+RGF0YTo8L2Rpdj5cclxuICAgICAgICA8ZGl2PntgWyR7bm9kZS5kYXRhLm5hbWV9LCAke25vZGUuZGF0YS5tZWRpdW19LCAke25vZGUuZGF0YS52YWx1ZX0sICR7bm9kZS5kYXRhLnVuaXR9LCAke25vZGUuZGF0YS50ZW1wZXJhdHVyZX0sICR7bm9kZS5kYXRhLnByZXNzdXJlfV1gfTwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIDxIYW5kbGVcclxuICAgICAgICB0eXBlPVwidGFyZ2V0XCJcclxuICAgICAgICBwb3NpdGlvbj17UG9zaXRpb24uTGVmdH1cclxuICAgICAgICBpZD1cImluXCJcclxuICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kOiAnIzU1NScsIHdpZHRoOiAnMTBweCcsIGhlaWdodDogJzEwcHgnLCB0b3A6IFwiMTZweFwiLCBsZWZ0OiBcIi00cHhcIiB9fVxyXG4gICAgICAvPlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgbWVtbyhQcmludERhdGFOb2RlKTtcclxuIl0sIm5hbWVzIjpbIlJlYWN0IiwibWVtbyIsInVzZUNvbnRleHQiLCJIYW5kbGUiLCJQb3NpdGlvbiIsIkZsb3dDb250ZXh0IiwiUHJpbnREYXRhTm9kZSIsImlkIiwibm9kZXMiLCJub2RlIiwiZmluZCIsImRpdiIsImNsYXNzTmFtZSIsImRhdGEiLCJuYW1lIiwibWVkaXVtIiwidmFsdWUiLCJ1bml0IiwidGVtcGVyYXR1cmUiLCJwcmVzc3VyZSIsInR5cGUiLCJwb3NpdGlvbiIsIkxlZnQiLCJzdHlsZSIsImJhY2tncm91bmQiLCJ3aWR0aCIsImhlaWdodCIsInRvcCIsImxlZnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./components/Flow/PrintDataNode.tsx\n"));

/***/ }),

/***/ "./components/Flow/index.tsx":
/*!***********************************!*\
  !*** ./components/Flow/index.tsx ***!
  \***********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   edges: function() { return /* binding */ edges; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var reactflow__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! reactflow */ \"./node_modules/reactflow/dist/esm/index.js\");\n/* harmony import */ var _CustomNode__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./CustomNode */ \"./components/Flow/CustomNode.tsx\");\n/* harmony import */ var _InputNode__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./InputNode */ \"./components/Flow/InputNode.tsx\");\n/* harmony import */ var _TextUpdaterNode__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./TextUpdaterNode */ \"./components/Flow/TextUpdaterNode.tsx\");\n/* harmony import */ var _AnnotationNode__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./AnnotationNode */ \"./components/Flow/AnnotationNode.tsx\");\n/* harmony import */ var _OutputNode__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./OutputNode */ \"./components/Flow/OutputNode.tsx\");\n/* harmony import */ var _DefaultNode__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./DefaultNode */ \"./components/Flow/DefaultNode.tsx\");\n/* harmony import */ var _ComponentLibrary__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ComponentLibrary */ \"./components/Flow/ComponentLibrary.tsx\");\n/* harmony import */ var _ProcessNode__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ProcessNode */ \"./components/Flow/ProcessNode.tsx\");\n/* harmony import */ var _InflowAddNode__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./InflowAddNode */ \"./components/Flow/InflowAddNode.tsx\");\n/* harmony import */ var _OutflowAddNode__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./OutflowAddNode */ \"./components/Flow/OutflowAddNode.tsx\");\n/* harmony import */ var _PrintDataNode__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./PrintDataNode */ \"./components/Flow/PrintDataNode.tsx\");\n/* harmony import */ var tailwindcss_tailwind_css__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! tailwindcss/tailwind.css */ \"./node_modules/tailwindcss/tailwind.css\");\n/* harmony import */ var tailwindcss_tailwind_css__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(tailwindcss_tailwind_css__WEBPACK_IMPORTED_MODULE_13__);\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n // <- new import\n\n\n\n\n\nconst initialNodes = [\n    {\n        id: \"1\",\n        type: \"input\",\n        data: {\n            label: \"Input Node\"\n        },\n        position: {\n            x: 250,\n            y: 0\n        }\n    },\n    {\n        id: \"2\",\n        data: {\n            label: \"Default Node\"\n        },\n        position: {\n            x: 100,\n            y: 100\n        }\n    },\n    {\n        id: \"3\",\n        type: \"output\",\n        data: {\n            label: \"Output Node\"\n        },\n        position: {\n            x: 400,\n            y: 100\n        }\n    },\n    {\n        id: \"4\",\n        type: \"custom\",\n        position: {\n            x: 100,\n            y: 200\n        },\n        data: {\n            selects: {\n                \"handle-0\": \"bezier\",\n                \"handle-1\": \"bezier\"\n            }\n        }\n    },\n    {\n        id: \"5\",\n        type: \"default\",\n        className: \"annotation\",\n        data: {\n            label: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                children: [\n                    \"On the bottom left you see the \",\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                        children: \"Controls\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Iver\\\\Documents\\\\energy-flow\\\\components\\\\Flow\\\\index.tsx\",\n                        lineNumber: 75,\n                        columnNumber: 42\n                    }, undefined),\n                    \" and the bottom right the\",\n                    \" \",\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                        children: \"MiniMap\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Iver\\\\Documents\\\\energy-flow\\\\components\\\\Flow\\\\index.tsx\",\n                        lineNumber: 76,\n                        columnNumber: 11\n                    }, undefined),\n                    \". This is also just a node \\uD83E\\uDD73\"\n                ]\n            }, void 0, true)\n        },\n        selectable: false,\n        position: {\n            x: 150,\n            y: 400\n        }\n    }\n];\nconst edges = [\n    {\n        id: \"e1-2\",\n        source: \"1\",\n        target: \"2\",\n        label: \"this is an edge label\"\n    },\n    {\n        id: \"e1-3\",\n        source: \"1\",\n        target: \"3\",\n        animated: true\n    },\n    {\n        id: \"e4-5\",\n        source: \"4\",\n        target: \"5\",\n        type: \"smoothstep\",\n        sourceHandle: \"handle-0\",\n        data: {\n            selectIndex: 0\n        },\n        markerEnd: {\n            type: reactflow__WEBPACK_IMPORTED_MODULE_14__.MarkerType.ArrowClosed\n        }\n    },\n    {\n        id: \"e4-6\",\n        source: \"4\",\n        target: \"6\",\n        type: \"bezier\",\n        sourceHandle: \"handle-1\",\n        data: {\n            selectIndex: 1\n        },\n        markerEnd: {\n            type: reactflow__WEBPACK_IMPORTED_MODULE_14__.MarkerType.ArrowClosed\n        }\n    }\n];\nconst initialEdges = [\n    {\n        id: \"e1-2\",\n        source: \"1\",\n        target: \"2\"\n    },\n    {\n        id: \"e1-3\",\n        source: \"1\",\n        target: \"3\"\n    }\n];\nconst nodeTypes = {\n    custom: _CustomNode__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n    input: _InputNode__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n    textUpdater: _TextUpdaterNode__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n    annotation: _AnnotationNode__WEBPACK_IMPORTED_MODULE_5__[\"default\"],\n    output: _OutputNode__WEBPACK_IMPORTED_MODULE_6__[\"default\"],\n    default: _DefaultNode__WEBPACK_IMPORTED_MODULE_7__[\"default\"],\n    process: _ProcessNode__WEBPACK_IMPORTED_MODULE_9__[\"default\"],\n    inflowAdd: _InflowAddNode__WEBPACK_IMPORTED_MODULE_10__[\"default\"],\n    outflowAdd: _OutflowAddNode__WEBPACK_IMPORTED_MODULE_11__[\"default\"],\n    printData: _PrintDataNode__WEBPACK_IMPORTED_MODULE_12__[\"default\"]\n};\nconst defaultEdgeOptions = {\n    animated: true,\n    type: \"bezier\"\n};\nfunction Flow() {\n    _s();\n    const [nodes, setNodes, onNodesChange] = (0,reactflow__WEBPACK_IMPORTED_MODULE_14__.useNodesState)(initialNodes);\n    const [edges, setEdges, onEdgesChange] = (0,reactflow__WEBPACK_IMPORTED_MODULE_14__.useEdgesState)(initialEdges);\n    const [variant, setVariant] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"dots\");\n    const onConnect = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((params)=>setEdges((eds)=>(0,reactflow__WEBPACK_IMPORTED_MODULE_14__.addEdge)(params, eds)), [\n        setEdges\n    ]);\n    const addNode = (type)=>{\n        const id = (nodes.length + 1).toString();\n        const newNode = {\n            id: id,\n            data: {\n                label: \"Node \".concat(id),\n                selects: type === \"custom\" ? {\n                    \"handle-0\": \"smoothstep\",\n                    \"handle-1\": \"smoothstep\"\n                } : {}\n            },\n            position: {\n                x: Math.random() * window.innerWidth * 0.5,\n                y: Math.random() * window.innerHeight * 0.5\n            },\n            type: type\n        };\n        setNodes((ns)=>ns.concat(newNode));\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"h-screen bg-gray-200 relative\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ComponentLibrary__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                addNode: addNode\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Iver\\\\Documents\\\\energy-flow\\\\components\\\\Flow\\\\index.tsx\",\n                lineNumber: 167,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(reactflow__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                nodes: nodes,\n                onNodesChange: onNodesChange,\n                edges: edges,\n                onEdgesChange: onEdgesChange,\n                onConnect: onConnect,\n                nodeTypes: nodeTypes,\n                defaultEdgeOptions: defaultEdgeOptions,\n                connectionLineType: reactflow__WEBPACK_IMPORTED_MODULE_14__.ConnectionLineType.Bezier,\n                fitView: true,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(reactflow__WEBPACK_IMPORTED_MODULE_14__.Background, {\n                        color: \"#ccc\",\n                        variant: variant\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Iver\\\\Documents\\\\energy-flow\\\\components\\\\Flow\\\\index.tsx\",\n                        lineNumber: 179,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(reactflow__WEBPACK_IMPORTED_MODULE_14__.Controls, {\n                        position: \"top-right\",\n                        \"backgrouns-color\": \"white\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Iver\\\\Documents\\\\energy-flow\\\\components\\\\Flow\\\\index.tsx\",\n                        lineNumber: 180,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\Iver\\\\Documents\\\\energy-flow\\\\components\\\\Flow\\\\index.tsx\",\n                lineNumber: 168,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\Iver\\\\Documents\\\\energy-flow\\\\components\\\\Flow\\\\index.tsx\",\n        lineNumber: 166,\n        columnNumber: 5\n    }, this);\n}\n_s(Flow, \"rjgETLlwiXdUhUJoGukTktPj+p0=\", false, function() {\n    return [\n        reactflow__WEBPACK_IMPORTED_MODULE_14__.useNodesState,\n        reactflow__WEBPACK_IMPORTED_MODULE_14__.useEdgesState\n    ];\n});\n_c = Flow;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Flow);\nvar _c;\n$RefreshReg$(_c, \"Flow\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RS8uL2NvbXBvbmVudHMvRmxvdy9pbmRleC50c3g/NDAxNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBSZWFjdEZsb3csIHtcclxuICBOb2RlLFxyXG4gIHVzZU5vZGVzU3RhdGUsXHJcbiAgdXNlRWRnZXNTdGF0ZSxcclxuICBhZGRFZGdlLFxyXG4gIENvbm5lY3Rpb24sXHJcbiAgRWRnZSxcclxuICBDb25uZWN0aW9uTGluZVR5cGUsXHJcbiAgQ29udHJvbHMsXHJcbiAgQmFja2dyb3VuZCxcclxuICBNaW5pTWFwLFxyXG4gIE1hcmtlclR5cGUsXHJcbiAgUG9zaXRpb24sXHJcbiAgSGFuZGxlLFxyXG4gIHVzZVN0b3JlQXBpLFxyXG4gIHVzZVJlYWN0RmxvdyxcclxufSBmcm9tICdyZWFjdGZsb3cnO1xyXG5pbXBvcnQgQ3VzdG9tTm9kZSBmcm9tICcuL0N1c3RvbU5vZGUnO1xyXG5pbXBvcnQgSW5wdXROb2RlIGZyb20gJy4vSW5wdXROb2RlJztcclxuaW1wb3J0IFRleHRVcGRhdGVyTm9kZSBmcm9tICcuL1RleHRVcGRhdGVyTm9kZSc7XHJcbmltcG9ydCBBbm5vdGF0aW9uTm9kZSBmcm9tICcuL0Fubm90YXRpb25Ob2RlJztcclxuaW1wb3J0IE91dHB1dE5vZGUgZnJvbSAnLi9PdXRwdXROb2RlJztcclxuaW1wb3J0IERlZmF1bHROb2RlIGZyb20gJy4vRGVmYXVsdE5vZGUnO1xyXG5pbXBvcnQgQ29tcG9uZW50TGlicmFyeSBmcm9tICcuL0NvbXBvbmVudExpYnJhcnknOyAvLyA8LSBuZXcgaW1wb3J0XHJcbmltcG9ydCBQcm9jZXNzTm9kZSBmcm9tICcuL1Byb2Nlc3NOb2RlJztcclxuaW1wb3J0IEluZmxvd0FkZE5vZGUgZnJvbSAnLi9JbmZsb3dBZGROb2RlJztcclxuaW1wb3J0IE91dGZsb3dBZGROb2RlIGZyb20gJy4vT3V0Zmxvd0FkZE5vZGUnO1xyXG5pbXBvcnQgUHJpbnREYXRhTm9kZSBmcm9tICcuL1ByaW50RGF0YU5vZGUnO1xyXG5cclxuaW1wb3J0ICd0YWlsd2luZGNzcy90YWlsd2luZC5jc3MnO1xyXG5cclxuY29uc3QgaW5pdGlhbE5vZGVzOiBOb2RlW10gPSBbXHJcbiB7XHJcbiAgICBpZDogJzEnLFxyXG4gICAgdHlwZTogJ2lucHV0JyxcclxuICAgIGRhdGE6IHtcclxuICAgICAgbGFiZWw6ICdJbnB1dCBOb2RlJyxcclxuICAgIH0sXHJcbiAgICBwb3NpdGlvbjogeyB4OiAyNTAsIHk6IDAgfSxcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiAnMicsXHJcbiAgICBkYXRhOiB7XHJcbiAgICAgIGxhYmVsOiAnRGVmYXVsdCBOb2RlJyxcclxuICAgIH0sXHJcbiAgICBwb3NpdGlvbjogeyB4OiAxMDAsIHk6IDEwMCB9LFxyXG4gIH0sXHJcbiAge1xyXG4gICAgaWQ6ICczJyxcclxuICAgIHR5cGU6ICdvdXRwdXQnLFxyXG4gICAgZGF0YToge1xyXG4gICAgICBsYWJlbDogJ091dHB1dCBOb2RlJyxcclxuICAgIH0sXHJcbiAgICBwb3NpdGlvbjogeyB4OiA0MDAsIHk6IDEwMCB9LFxyXG4gIH0sXHJcbiAge1xyXG4gICAgaWQ6ICc0JyxcclxuICAgIHR5cGU6ICdjdXN0b20nLFxyXG4gICAgcG9zaXRpb246IHsgeDogMTAwLCB5OiAyMDAgfSxcclxuICAgIGRhdGE6IHtcclxuICAgICAgc2VsZWN0czoge1xyXG4gICAgICAgICdoYW5kbGUtMCc6ICdiZXppZXInLFxyXG4gICAgICAgICdoYW5kbGUtMSc6ICdiZXppZXInLFxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiAnNScsXHJcbiAgICB0eXBlOiAnZGVmYXVsdCcsXHJcbiAgICBjbGFzc05hbWU6ICdhbm5vdGF0aW9uJyxcclxuICAgIGRhdGE6IHtcclxuICAgICAgbGFiZWw6IChcclxuICAgICAgICA8PlxyXG4gICAgICAgICAgT24gdGhlIGJvdHRvbSBsZWZ0IHlvdSBzZWUgdGhlIDxzdHJvbmc+Q29udHJvbHM8L3N0cm9uZz4gYW5kIHRoZSBib3R0b20gcmlnaHQgdGhleycgJ31cclxuICAgICAgICAgIDxzdHJvbmc+TWluaU1hcDwvc3Ryb25nPi4gVGhpcyBpcyBhbHNvIGp1c3QgYSBub2RlIPCfpbNcclxuICAgICAgICA8Lz5cclxuICAgICAgKSxcclxuICAgIH0sXHJcbiAgICBzZWxlY3RhYmxlOiBmYWxzZSxcclxuICAgIHBvc2l0aW9uOiB7IHg6IDE1MCwgeTogNDAwIH0sXHJcbiAgfSxcclxuXTtcclxuXHJcbmV4cG9ydCBjb25zdCBlZGdlcyA9IFtcclxuICB7IGlkOiAnZTEtMicsIHNvdXJjZTogJzEnLCB0YXJnZXQ6ICcyJywgbGFiZWw6ICd0aGlzIGlzIGFuIGVkZ2UgbGFiZWwnIH0sXHJcbiAgeyBpZDogJ2UxLTMnLCBzb3VyY2U6ICcxJywgdGFyZ2V0OiAnMycsIGFuaW1hdGVkOiB0cnVlIH0sXHJcbiAge1xyXG4gICAgaWQ6ICdlNC01JyxcclxuICAgIHNvdXJjZTogJzQnLFxyXG4gICAgdGFyZ2V0OiAnNScsXHJcbiAgICB0eXBlOiAnc21vb3Roc3RlcCcsXHJcbiAgICBzb3VyY2VIYW5kbGU6ICdoYW5kbGUtMCcsXHJcbiAgICBkYXRhOiB7XHJcbiAgICAgIHNlbGVjdEluZGV4OiAwLFxyXG4gICAgfSxcclxuICAgIG1hcmtlckVuZDoge1xyXG4gICAgICB0eXBlOiBNYXJrZXJUeXBlLkFycm93Q2xvc2VkLFxyXG4gICAgfSxcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiAnZTQtNicsXHJcbiAgICBzb3VyY2U6ICc0JyxcclxuICAgIHRhcmdldDogJzYnLFxyXG4gICAgdHlwZTogJ2JlemllcicsXHJcbiAgICBzb3VyY2VIYW5kbGU6ICdoYW5kbGUtMScsXHJcbiAgICBkYXRhOiB7XHJcbiAgICAgIHNlbGVjdEluZGV4OiAxLFxyXG4gICAgfSxcclxuICAgIG1hcmtlckVuZDoge1xyXG4gICAgICB0eXBlOiBNYXJrZXJUeXBlLkFycm93Q2xvc2VkLFxyXG4gICAgfSxcclxuICB9LFxyXG5cclxuXTtcclxuXHJcbmNvbnN0IGluaXRpYWxFZGdlczogRWRnZVtdID0gW1xyXG4gIHsgaWQ6ICdlMS0yJywgc291cmNlOiAnMScsIHRhcmdldDogJzInIH0sXHJcbiAgeyBpZDogJ2UxLTMnLCBzb3VyY2U6ICcxJywgdGFyZ2V0OiAnMycgfSxcclxuXTtcclxuXHJcbmNvbnN0IG5vZGVUeXBlcyA9IHtcclxuICBjdXN0b206IEN1c3RvbU5vZGUsXHJcbiAgaW5wdXQ6IElucHV0Tm9kZSxcclxuICB0ZXh0VXBkYXRlcjogVGV4dFVwZGF0ZXJOb2RlLFxyXG4gIGFubm90YXRpb246IEFubm90YXRpb25Ob2RlLFxyXG4gIG91dHB1dDogT3V0cHV0Tm9kZSxcclxuICBkZWZhdWx0OiBEZWZhdWx0Tm9kZSxcclxuICBwcm9jZXNzOiBQcm9jZXNzTm9kZSxcclxuICBpbmZsb3dBZGQ6IEluZmxvd0FkZE5vZGUsXHJcbiAgb3V0Zmxvd0FkZDogT3V0Zmxvd0FkZE5vZGUsIFxyXG4gIHByaW50RGF0YTogUHJpbnREYXRhTm9kZSxcclxufTtcclxuXHJcblxyXG5jb25zdCBkZWZhdWx0RWRnZU9wdGlvbnMgPSB7XHJcbiAgYW5pbWF0ZWQ6IHRydWUsXHJcbiAgdHlwZTogJ2JlemllcicsXHJcbn07XHJcblxyXG5mdW5jdGlvbiBGbG93KCkge1xyXG4gIGNvbnN0IFtub2Rlcywgc2V0Tm9kZXMsIG9uTm9kZXNDaGFuZ2VdID0gdXNlTm9kZXNTdGF0ZShpbml0aWFsTm9kZXMpO1xyXG4gIGNvbnN0IFtlZGdlcywgc2V0RWRnZXMsIG9uRWRnZXNDaGFuZ2VdID0gdXNlRWRnZXNTdGF0ZShpbml0aWFsRWRnZXMpO1xyXG4gIGNvbnN0IFt2YXJpYW50LCBzZXRWYXJpYW50XSA9IHVzZVN0YXRlKCdkb3RzJyk7XHJcbiAgY29uc3Qgb25Db25uZWN0ID0gdXNlQ2FsbGJhY2soXHJcbiAgICAocGFyYW1zOiBDb25uZWN0aW9uIHwgRWRnZSkgPT4gc2V0RWRnZXMoKGVkcykgPT4gYWRkRWRnZShwYXJhbXMsIGVkcykpLFxyXG4gICAgW3NldEVkZ2VzXVxyXG4gICk7XHJcblxyXG4gIGNvbnN0IGFkZE5vZGUgPSAodHlwZTogc3RyaW5nKSA9PiB7XHJcbiAgICBjb25zdCBpZCA9IChub2Rlcy5sZW5ndGggKyAxKS50b1N0cmluZygpO1xyXG4gICAgY29uc3QgbmV3Tm9kZSA9IHtcclxuICAgICAgaWQ6IGlkLFxyXG4gICAgICBkYXRhOiB7IFxyXG4gICAgICAgIGxhYmVsOiBgTm9kZSAke2lkfWAsIFxyXG4gICAgICAgIHNlbGVjdHM6IHR5cGUgPT09ICdjdXN0b20nID8geyAnaGFuZGxlLTAnOiAnc21vb3Roc3RlcCcsICdoYW5kbGUtMSc6ICdzbW9vdGhzdGVwJyB9IDoge31cclxuICAgICAgfSxcclxuICAgICAgcG9zaXRpb246IHsgeDogTWF0aC5yYW5kb20oKSAqIHdpbmRvdy5pbm5lcldpZHRoICogMC41LCB5OiBNYXRoLnJhbmRvbSgpICogd2luZG93LmlubmVySGVpZ2h0ICogMC41IH0sXHJcbiAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICB9O1xyXG4gICAgc2V0Tm9kZXMoKG5zKSA9PiBucy5jb25jYXQobmV3Tm9kZSkpO1xyXG4gIH07XHJcbiAgXHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImgtc2NyZWVuIGJnLWdyYXktMjAwIHJlbGF0aXZlXCI+XHJcbiAgICAgIDxDb21wb25lbnRMaWJyYXJ5IGFkZE5vZGU9e2FkZE5vZGV9IC8+XHJcbiAgICAgIDxSZWFjdEZsb3dcclxuICAgICAgICBub2Rlcz17bm9kZXN9XHJcbiAgICAgICAgb25Ob2Rlc0NoYW5nZT17b25Ob2Rlc0NoYW5nZX1cclxuICAgICAgICBlZGdlcz17ZWRnZXN9XHJcbiAgICAgICAgb25FZGdlc0NoYW5nZT17b25FZGdlc0NoYW5nZX1cclxuICAgICAgICBvbkNvbm5lY3Q9e29uQ29ubmVjdH1cclxuICAgICAgICBub2RlVHlwZXM9e25vZGVUeXBlc31cclxuICAgICAgICBkZWZhdWx0RWRnZU9wdGlvbnM9e2RlZmF1bHRFZGdlT3B0aW9uc31cclxuICAgICAgICBjb25uZWN0aW9uTGluZVR5cGU9e0Nvbm5lY3Rpb25MaW5lVHlwZS5CZXppZXJ9XHJcbiAgICAgICAgZml0Vmlld1xyXG4gICAgICA+XHJcbiAgICAgICAgPEJhY2tncm91bmQgY29sb3I9XCIjY2NjXCIgdmFyaWFudD17dmFyaWFudH0gLz5cclxuICAgICAgICA8Q29udHJvbHMgcG9zaXRpb249J3RvcC1yaWdodCcgYmFja2dyb3Vucy1jb2xvcj0nd2hpdGUnIC8+XHJcbiAgICAgIDwvUmVhY3RGbG93PlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRmxvdzsiXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VDYWxsYmFjayIsIlJlYWN0RmxvdyIsInVzZU5vZGVzU3RhdGUiLCJ1c2VFZGdlc1N0YXRlIiwiYWRkRWRnZSIsIkNvbm5lY3Rpb25MaW5lVHlwZSIsIkNvbnRyb2xzIiwiQmFja2dyb3VuZCIsIk1hcmtlclR5cGUiLCJDdXN0b21Ob2RlIiwiSW5wdXROb2RlIiwiVGV4dFVwZGF0ZXJOb2RlIiwiQW5ub3RhdGlvbk5vZGUiLCJPdXRwdXROb2RlIiwiRGVmYXVsdE5vZGUiLCJDb21wb25lbnRMaWJyYXJ5IiwiUHJvY2Vzc05vZGUiLCJJbmZsb3dBZGROb2RlIiwiT3V0Zmxvd0FkZE5vZGUiLCJQcmludERhdGFOb2RlIiwiaW5pdGlhbE5vZGVzIiwiaWQiLCJ0eXBlIiwiZGF0YSIsImxhYmVsIiwicG9zaXRpb24iLCJ4IiwieSIsInNlbGVjdHMiLCJjbGFzc05hbWUiLCJzdHJvbmciLCJzZWxlY3RhYmxlIiwiZWRnZXMiLCJzb3VyY2UiLCJ0YXJnZXQiLCJhbmltYXRlZCIsInNvdXJjZUhhbmRsZSIsInNlbGVjdEluZGV4IiwibWFya2VyRW5kIiwiQXJyb3dDbG9zZWQiLCJpbml0aWFsRWRnZXMiLCJub2RlVHlwZXMiLCJjdXN0b20iLCJpbnB1dCIsInRleHRVcGRhdGVyIiwiYW5ub3RhdGlvbiIsIm91dHB1dCIsImRlZmF1bHQiLCJwcm9jZXNzIiwiaW5mbG93QWRkIiwib3V0Zmxvd0FkZCIsInByaW50RGF0YSIsImRlZmF1bHRFZGdlT3B0aW9ucyIsIkZsb3ciLCJub2RlcyIsInNldE5vZGVzIiwib25Ob2Rlc0NoYW5nZSIsInNldEVkZ2VzIiwib25FZGdlc0NoYW5nZSIsInZhcmlhbnQiLCJzZXRWYXJpYW50Iiwib25Db25uZWN0IiwicGFyYW1zIiwiZWRzIiwiYWRkTm9kZSIsImxlbmd0aCIsInRvU3RyaW5nIiwibmV3Tm9kZSIsIk1hdGgiLCJyYW5kb20iLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJucyIsImNvbmNhdCIsImRpdiIsImNvbm5lY3Rpb25MaW5lVHlwZSIsIkJlemllciIsImZpdFZpZXciLCJjb2xvciIsImJhY2tncm91bnMtY29sb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./components/Flow/index.tsx\n"));

/***/ }),

/***/ "./node_modules/react-flow-renderer/dist/esm/index-20df97c0.js":
/*!*********************************************************************!*\
  !*** ./node_modules/react-flow-renderer/dist/esm/index-20df97c0.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   C: function() { return /* binding */ ControlButton; },\n/* harmony export */   _: function() { return /* binding */ _objectWithoutProperties; },\n/* harmony export */   i: function() { return /* binding */ index; }\n/* harmony export */ });\n/* harmony import */ var _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index-a12c80bd.js */ \"./node_modules/react-flow-renderer/dist/esm/index-a12c80bd.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var classcat__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classcat */ \"./node_modules/classcat/index.js\");\n/* harmony import */ var _useReactFlow_993c30ca_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./useReactFlow-993c30ca.js */ \"./node_modules/react-flow-renderer/dist/esm/useReactFlow-993c30ca.js\");\n\n\n\n\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction PlusIcon() {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 32 32\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"path\", {\n    d: \"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z\"\n  }));\n}\n\nfunction MinusIcon() {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 32 5\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"path\", {\n    d: \"M0 0h32v4.2H0z\"\n  }));\n}\n\nfunction FitViewIcon() {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 32 30\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"path\", {\n    d: \"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z\"\n  }));\n}\n\nfunction LockIcon() {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 25 32\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"path\", {\n    d: \"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z\"\n  }));\n}\n\nfunction UnlockIcon() {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 25 32\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"path\", {\n    d: \"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z\"\n  }));\n}\n\nvar _excluded = [\"children\", \"className\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_2__.a)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar ControlButton = function ControlButton(_ref) {\n  var children = _ref.children,\n      className = _ref.className,\n      rest = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", _objectSpread({\n    type: \"button\",\n    className: (0,classcat__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(['react-flow__controls-button', className])\n  }, rest), children);\n};\n\nvar isInteractiveSelector = function isInteractiveSelector(s) {\n  return s.nodesDraggable && s.nodesConnectable && s.elementsSelectable;\n};\n\nvar Controls = function Controls(_ref2) {\n  var style = _ref2.style,\n      _ref2$showZoom = _ref2.showZoom,\n      showZoom = _ref2$showZoom === void 0 ? true : _ref2$showZoom,\n      _ref2$showFitView = _ref2.showFitView,\n      showFitView = _ref2$showFitView === void 0 ? true : _ref2$showFitView,\n      _ref2$showInteractive = _ref2.showInteractive,\n      showInteractive = _ref2$showInteractive === void 0 ? true : _ref2$showInteractive,\n      fitViewOptions = _ref2.fitViewOptions,\n      onZoomIn = _ref2.onZoomIn,\n      onZoomOut = _ref2.onZoomOut,\n      onFitView = _ref2.onFitView,\n      onInteractiveChange = _ref2.onInteractiveChange,\n      className = _ref2.className,\n      children = _ref2.children;\n  var store = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_2__.u)();\n\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false),\n      _useState2 = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_2__._)(_useState, 2),\n      isVisible = _useState2[0],\n      setIsVisible = _useState2[1];\n\n  var isInteractive = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_2__.b)(isInteractiveSelector);\n\n  var _useReactFlow = (0,_useReactFlow_993c30ca_js__WEBPACK_IMPORTED_MODULE_3__.u)(),\n      zoomIn = _useReactFlow.zoomIn,\n      zoomOut = _useReactFlow.zoomOut,\n      fitView = _useReactFlow.fitView;\n\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    setIsVisible(true);\n  }, []);\n\n  if (!isVisible) {\n    return null;\n  }\n\n  var onZoomInHandler = function onZoomInHandler() {\n    zoomIn === null || zoomIn === void 0 ? void 0 : zoomIn();\n    onZoomIn === null || onZoomIn === void 0 ? void 0 : onZoomIn();\n  };\n\n  var onZoomOutHandler = function onZoomOutHandler() {\n    zoomOut === null || zoomOut === void 0 ? void 0 : zoomOut();\n    onZoomOut === null || onZoomOut === void 0 ? void 0 : onZoomOut();\n  };\n\n  var onFitViewHandler = function onFitViewHandler() {\n    fitView === null || fitView === void 0 ? void 0 : fitView(fitViewOptions);\n    onFitView === null || onFitView === void 0 ? void 0 : onFitView();\n  };\n\n  var onToggleInteractivity = function onToggleInteractivity() {\n    store.setState({\n      nodesDraggable: !isInteractive,\n      nodesConnectable: !isInteractive,\n      elementsSelectable: !isInteractive\n    });\n    onInteractiveChange === null || onInteractiveChange === void 0 ? void 0 : onInteractiveChange(!isInteractive);\n  };\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: (0,classcat__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(['react-flow__controls', className]),\n    style: style\n  }, showZoom && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ControlButton, {\n    onClick: onZoomInHandler,\n    className: \"react-flow__controls-zoomin\",\n    title: \"zoom in\",\n    \"aria-label\": \"zoom in\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(PlusIcon, null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ControlButton, {\n    onClick: onZoomOutHandler,\n    className: \"react-flow__controls-zoomout\",\n    title: \"zoom out\",\n    \"aria-label\": \"zoom out\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(MinusIcon, null))), showFitView && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ControlButton, {\n    className: \"react-flow__controls-fitview\",\n    onClick: onFitViewHandler,\n    title: \"fit view\",\n    \"aria-label\": \"fit view\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(FitViewIcon, null)), showInteractive && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ControlButton, {\n    className: \"react-flow__controls-interactive\",\n    onClick: onToggleInteractivity,\n    title: \"toggle interactivity\",\n    \"aria-label\": \"toggle interactivity\"\n  }, isInteractive ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(UnlockIcon, null) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(LockIcon, null)), children);\n};\n\nControls.displayName = 'Controls';\nvar index = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(Controls);\n\n\n//# sourceMappingURL=index-20df97c0.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtZmxvdy1yZW5kZXJlci9kaXN0L2VzbS9pbmRleC0yMGRmOTdjMC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFpSDtBQUN4RDtBQUMvQjtBQUNxQzs7QUFFL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxjQUFjLHVCQUF1QjtBQUNyQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsZ0JBQWdCLDZCQUE2QjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLHNCQUFzQiwwREFBbUI7QUFDekM7QUFDQTtBQUNBLEdBQUcsZUFBZSwwREFBbUI7QUFDckM7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQSxzQkFBc0IsMERBQW1CO0FBQ3pDO0FBQ0E7QUFDQSxHQUFHLGVBQWUsMERBQW1CO0FBQ3JDO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0Esc0JBQXNCLDBEQUFtQjtBQUN6QztBQUNBO0FBQ0EsR0FBRyxlQUFlLDBEQUFtQjtBQUNyQztBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBLHNCQUFzQiwwREFBbUI7QUFDekM7QUFDQTtBQUNBLEdBQUcsZUFBZSwwREFBbUI7QUFDckM7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQSxzQkFBc0IsMERBQW1CO0FBQ3pDO0FBQ0E7QUFDQSxHQUFHLGVBQWUsMERBQW1CO0FBQ3JDO0FBQ0EsR0FBRztBQUNIOztBQUVBOztBQUVBLDJDQUEyQyxnQ0FBZ0Msb0NBQW9DLG9EQUFvRCw2REFBNkQsaUVBQWlFLHNDQUFzQzs7QUFFdlUsaUNBQWlDLGdCQUFnQixzQkFBc0IsT0FBTyx1REFBdUQsNkRBQTZELHFEQUFlLDZCQUE2QixvS0FBb0ssbUZBQW1GLEtBQUs7QUFDMWU7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsc0JBQXNCLDBEQUFtQjtBQUN6QztBQUNBLGVBQWUsb0RBQUU7QUFDakIsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHFEQUFXOztBQUV6QixrQkFBa0IsK0NBQVE7QUFDMUIsbUJBQW1CLHFEQUFjO0FBQ2pDO0FBQ0E7O0FBRUEsc0JBQXNCLHFEQUFROztBQUU5QixzQkFBc0IsNERBQVk7QUFDbEM7QUFDQTtBQUNBOztBQUVBLEVBQUUsZ0RBQVM7QUFDWDtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQSxzQkFBc0IsMERBQW1CO0FBQ3pDLGVBQWUsb0RBQUU7QUFDakI7QUFDQSxHQUFHLDJCQUEyQiwwREFBbUIsQ0FBQyx1REFBYyxxQkFBcUIsMERBQW1CO0FBQ3hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxlQUFlLDBEQUFtQixnQ0FBZ0MsMERBQW1CO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxlQUFlLDBEQUFtQixpREFBaUQsMERBQW1CO0FBQ3pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxlQUFlLDBEQUFtQixzREFBc0QsMERBQW1CO0FBQzlHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRywrQkFBK0IsMERBQW1CLGtDQUFrQywwREFBbUI7QUFDMUc7O0FBRUE7QUFDQSx5QkFBeUIsMkNBQUk7O0FBRTRDO0FBQ3pFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9yZWFjdC1mbG93LXJlbmRlcmVyL2Rpc3QvZXNtL2luZGV4LTIwZGY5N2MwLmpzPzliYjciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdSBhcyB1c2VTdG9yZUFwaSwgXyBhcyBfc2xpY2VkVG9BcnJheSwgYiBhcyB1c2VTdG9yZSwgYSBhcyBfZGVmaW5lUHJvcGVydHkgfSBmcm9tICcuL2luZGV4LWExMmM4MGJkLmpzJztcbmltcG9ydCBSZWFjdCwgeyBtZW1vLCB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IGNjIGZyb20gJ2NsYXNzY2F0JztcbmltcG9ydCB7IHUgYXMgdXNlUmVhY3RGbG93IH0gZnJvbSAnLi91c2VSZWFjdEZsb3ctOTkzYzMwY2EuanMnO1xuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgdmFyIGtleSwgaTtcblxuICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGtleSA9IHNvdXJjZUtleXNbaV07XG4gICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHNvdXJjZSwgZXhjbHVkZWQpIHtcbiAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307XG4gIHZhciB0YXJnZXQgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKTtcbiAgdmFyIGtleSwgaTtcblxuICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgIHZhciBzb3VyY2VTeW1ib2xLZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IHNvdXJjZVN5bWJvbEtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGtleSA9IHNvdXJjZVN5bWJvbEtleXNbaV07XG4gICAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlO1xuICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoc291cmNlLCBrZXkpKSBjb250aW51ZTtcbiAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZnVuY3Rpb24gUGx1c0ljb24oKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInN2Z1wiLCB7XG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICB2aWV3Qm94OiBcIjAgMCAzMiAzMlwiXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNMzIgMTguMTMzSDE4LjEzM1YzMmgtNC4yNjZWMTguMTMzSDB2LTQuMjY2aDEzLjg2N1YwaDQuMjY2djEzLjg2N0gzMnpcIlxuICB9KSk7XG59XG5cbmZ1bmN0aW9uIE1pbnVzSWNvbigpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHtcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDMyIDVcIlxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTAgMGgzMnY0LjJIMHpcIlxuICB9KSk7XG59XG5cbmZ1bmN0aW9uIEZpdFZpZXdJY29uKCkge1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwge1xuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgdmlld0JveDogXCIwIDAgMzIgMzBcIlxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTMuNjkyIDQuNjNjMC0uNTMuNC0uOTM4LjkzOS0uOTM4aDUuMjE1VjBINC43MDhDMi4xMyAwIDAgMi4wNTQgMCA0LjYzdjUuMjE2aDMuNjkyVjQuNjMxek0yNy4zNTQgMGgtNS4ydjMuNjkyaDUuMTdjLjUzIDAgLjk4NC40Ljk4NC45Mzl2NS4yMTVIMzJWNC42MzFBNC42MjQgNC42MjQgMCAwMDI3LjM1NCAwem0uOTU0IDI0LjgzYzAgLjUzMi0uNC45NC0uOTM5Ljk0aC01LjIxNXYzLjc2OGg1LjIxNWMyLjU3NyAwIDQuNjMxLTIuMTMgNC42MzEtNC43MDd2LTUuMTM5aC0zLjY5MnY1LjEzOXptLTIzLjY3Ny45NGMtLjUzMSAwLS45MzktLjQtLjkzOS0uOTR2LTUuMTM4SDB2NS4xMzljMCAyLjU3NyAyLjEzIDQuNzA3IDQuNzA4IDQuNzA3aDUuMTM4VjI1Ljc3SDQuNjMxelwiXG4gIH0pKTtcbn1cblxuZnVuY3Rpb24gTG9ja0ljb24oKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInN2Z1wiLCB7XG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICB2aWV3Qm94OiBcIjAgMCAyNSAzMlwiXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNMjEuMzMzIDEwLjY2N0gxOS44MVY3LjYxOUMxOS44MSAzLjQyOSAxNi4zOCAwIDEyLjE5IDAgOCAwIDQuNTcxIDMuNDI5IDQuNTcxIDcuNjE5djMuMDQ4SDMuMDQ4QTMuMDU2IDMuMDU2IDAgMDAwIDEzLjcxNHYxNS4yMzhBMy4wNTYgMy4wNTYgMCAwMDMuMDQ4IDMyaDE4LjI4NWEzLjA1NiAzLjA1NiAwIDAwMy4wNDgtMy4wNDhWMTMuNzE0YTMuMDU2IDMuMDU2IDAgMDAtMy4wNDgtMy4wNDd6TTEyLjE5IDI0LjUzM2EzLjA1NiAzLjA1NiAwIDAxLTMuMDQ3LTMuMDQ3IDMuMDU2IDMuMDU2IDAgMDEzLjA0Ny0zLjA0OCAzLjA1NiAzLjA1NiAwIDAxMy4wNDggMy4wNDggMy4wNTYgMy4wNTYgMCAwMS0zLjA0OCAzLjA0N3ptNC43MjQtMTMuODY2SDcuNDY3VjcuNjE5YzAtMi41OSAyLjEzMy00LjcyNCA0LjcyMy00LjcyNCAyLjU5MSAwIDQuNzI0IDIuMTMzIDQuNzI0IDQuNzI0djMuMDQ4elwiXG4gIH0pKTtcbn1cblxuZnVuY3Rpb24gVW5sb2NrSWNvbigpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHtcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDI1IDMyXCJcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk0yMS4zMzMgMTAuNjY3SDE5LjgxVjcuNjE5QzE5LjgxIDMuNDI5IDE2LjM4IDAgMTIuMTkgMGMtNC4xMTQgMS44MjgtMS4zNyAyLjEzMy4zMDUgMi40MzggMS42NzYuMzA1IDQuNDIgMi41OSA0LjQyIDUuMTgxdjMuMDQ4SDMuMDQ3QTMuMDU2IDMuMDU2IDAgMDAwIDEzLjcxNHYxNS4yMzhBMy4wNTYgMy4wNTYgMCAwMDMuMDQ4IDMyaDE4LjI4NWEzLjA1NiAzLjA1NiAwIDAwMy4wNDgtMy4wNDhWMTMuNzE0YTMuMDU2IDMuMDU2IDAgMDAtMy4wNDgtMy4wNDd6TTEyLjE5IDI0LjUzM2EzLjA1NiAzLjA1NiAwIDAxLTMuMDQ3LTMuMDQ3IDMuMDU2IDMuMDU2IDAgMDEzLjA0Ny0zLjA0OCAzLjA1NiAzLjA1NiAwIDAxMy4wNDggMy4wNDggMy4wNTYgMy4wNTYgMCAwMS0zLjA0OCAzLjA0N3pcIlxuICB9KSk7XG59XG5cbnZhciBfZXhjbHVkZWQgPSBbXCJjaGlsZHJlblwiLCBcImNsYXNzTmFtZVwiXTtcblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGVudW1lcmFibGVPbmx5ICYmIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSkpLCBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IG51bGwgIT0gYXJndW1lbnRzW2ldID8gYXJndW1lbnRzW2ldIDoge307IGkgJSAyID8gb3duS2V5cyhPYmplY3Qoc291cmNlKSwgITApLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSkgOiBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cbnZhciBDb250cm9sQnV0dG9uID0gZnVuY3Rpb24gQ29udHJvbEJ1dHRvbihfcmVmKSB7XG4gIHZhciBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW4sXG4gICAgICBjbGFzc05hbWUgPSBfcmVmLmNsYXNzTmFtZSxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZiwgX2V4Y2x1ZGVkKTtcblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwgX29iamVjdFNwcmVhZCh7XG4gICAgdHlwZTogXCJidXR0b25cIixcbiAgICBjbGFzc05hbWU6IGNjKFsncmVhY3QtZmxvd19fY29udHJvbHMtYnV0dG9uJywgY2xhc3NOYW1lXSlcbiAgfSwgcmVzdCksIGNoaWxkcmVuKTtcbn07XG5cbnZhciBpc0ludGVyYWN0aXZlU2VsZWN0b3IgPSBmdW5jdGlvbiBpc0ludGVyYWN0aXZlU2VsZWN0b3Iocykge1xuICByZXR1cm4gcy5ub2Rlc0RyYWdnYWJsZSAmJiBzLm5vZGVzQ29ubmVjdGFibGUgJiYgcy5lbGVtZW50c1NlbGVjdGFibGU7XG59O1xuXG52YXIgQ29udHJvbHMgPSBmdW5jdGlvbiBDb250cm9scyhfcmVmMikge1xuICB2YXIgc3R5bGUgPSBfcmVmMi5zdHlsZSxcbiAgICAgIF9yZWYyJHNob3dab29tID0gX3JlZjIuc2hvd1pvb20sXG4gICAgICBzaG93Wm9vbSA9IF9yZWYyJHNob3dab29tID09PSB2b2lkIDAgPyB0cnVlIDogX3JlZjIkc2hvd1pvb20sXG4gICAgICBfcmVmMiRzaG93Rml0VmlldyA9IF9yZWYyLnNob3dGaXRWaWV3LFxuICAgICAgc2hvd0ZpdFZpZXcgPSBfcmVmMiRzaG93Rml0VmlldyA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9yZWYyJHNob3dGaXRWaWV3LFxuICAgICAgX3JlZjIkc2hvd0ludGVyYWN0aXZlID0gX3JlZjIuc2hvd0ludGVyYWN0aXZlLFxuICAgICAgc2hvd0ludGVyYWN0aXZlID0gX3JlZjIkc2hvd0ludGVyYWN0aXZlID09PSB2b2lkIDAgPyB0cnVlIDogX3JlZjIkc2hvd0ludGVyYWN0aXZlLFxuICAgICAgZml0Vmlld09wdGlvbnMgPSBfcmVmMi5maXRWaWV3T3B0aW9ucyxcbiAgICAgIG9uWm9vbUluID0gX3JlZjIub25ab29tSW4sXG4gICAgICBvblpvb21PdXQgPSBfcmVmMi5vblpvb21PdXQsXG4gICAgICBvbkZpdFZpZXcgPSBfcmVmMi5vbkZpdFZpZXcsXG4gICAgICBvbkludGVyYWN0aXZlQ2hhbmdlID0gX3JlZjIub25JbnRlcmFjdGl2ZUNoYW5nZSxcbiAgICAgIGNsYXNzTmFtZSA9IF9yZWYyLmNsYXNzTmFtZSxcbiAgICAgIGNoaWxkcmVuID0gX3JlZjIuY2hpbGRyZW47XG4gIHZhciBzdG9yZSA9IHVzZVN0b3JlQXBpKCk7XG5cbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKGZhbHNlKSxcbiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLFxuICAgICAgaXNWaXNpYmxlID0gX3VzZVN0YXRlMlswXSxcbiAgICAgIHNldElzVmlzaWJsZSA9IF91c2VTdGF0ZTJbMV07XG5cbiAgdmFyIGlzSW50ZXJhY3RpdmUgPSB1c2VTdG9yZShpc0ludGVyYWN0aXZlU2VsZWN0b3IpO1xuXG4gIHZhciBfdXNlUmVhY3RGbG93ID0gdXNlUmVhY3RGbG93KCksXG4gICAgICB6b29tSW4gPSBfdXNlUmVhY3RGbG93Lnpvb21JbixcbiAgICAgIHpvb21PdXQgPSBfdXNlUmVhY3RGbG93Lnpvb21PdXQsXG4gICAgICBmaXRWaWV3ID0gX3VzZVJlYWN0Rmxvdy5maXRWaWV3O1xuXG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgc2V0SXNWaXNpYmxlKHRydWUpO1xuICB9LCBbXSk7XG5cbiAgaWYgKCFpc1Zpc2libGUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBvblpvb21JbkhhbmRsZXIgPSBmdW5jdGlvbiBvblpvb21JbkhhbmRsZXIoKSB7XG4gICAgem9vbUluID09PSBudWxsIHx8IHpvb21JbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogem9vbUluKCk7XG4gICAgb25ab29tSW4gPT09IG51bGwgfHwgb25ab29tSW4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uWm9vbUluKCk7XG4gIH07XG5cbiAgdmFyIG9uWm9vbU91dEhhbmRsZXIgPSBmdW5jdGlvbiBvblpvb21PdXRIYW5kbGVyKCkge1xuICAgIHpvb21PdXQgPT09IG51bGwgfHwgem9vbU91dCA9PT0gdm9pZCAwID8gdm9pZCAwIDogem9vbU91dCgpO1xuICAgIG9uWm9vbU91dCA9PT0gbnVsbCB8fCBvblpvb21PdXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uWm9vbU91dCgpO1xuICB9O1xuXG4gIHZhciBvbkZpdFZpZXdIYW5kbGVyID0gZnVuY3Rpb24gb25GaXRWaWV3SGFuZGxlcigpIHtcbiAgICBmaXRWaWV3ID09PSBudWxsIHx8IGZpdFZpZXcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZpdFZpZXcoZml0Vmlld09wdGlvbnMpO1xuICAgIG9uRml0VmlldyA9PT0gbnVsbCB8fCBvbkZpdFZpZXcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uRml0VmlldygpO1xuICB9O1xuXG4gIHZhciBvblRvZ2dsZUludGVyYWN0aXZpdHkgPSBmdW5jdGlvbiBvblRvZ2dsZUludGVyYWN0aXZpdHkoKSB7XG4gICAgc3RvcmUuc2V0U3RhdGUoe1xuICAgICAgbm9kZXNEcmFnZ2FibGU6ICFpc0ludGVyYWN0aXZlLFxuICAgICAgbm9kZXNDb25uZWN0YWJsZTogIWlzSW50ZXJhY3RpdmUsXG4gICAgICBlbGVtZW50c1NlbGVjdGFibGU6ICFpc0ludGVyYWN0aXZlXG4gICAgfSk7XG4gICAgb25JbnRlcmFjdGl2ZUNoYW5nZSA9PT0gbnVsbCB8fCBvbkludGVyYWN0aXZlQ2hhbmdlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbkludGVyYWN0aXZlQ2hhbmdlKCFpc0ludGVyYWN0aXZlKTtcbiAgfTtcblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2MoWydyZWFjdC1mbG93X19jb250cm9scycsIGNsYXNzTmFtZV0pLFxuICAgIHN0eWxlOiBzdHlsZVxuICB9LCBzaG93Wm9vbSAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ29udHJvbEJ1dHRvbiwge1xuICAgIG9uQ2xpY2s6IG9uWm9vbUluSGFuZGxlcixcbiAgICBjbGFzc05hbWU6IFwicmVhY3QtZmxvd19fY29udHJvbHMtem9vbWluXCIsXG4gICAgdGl0bGU6IFwiem9vbSBpblwiLFxuICAgIFwiYXJpYS1sYWJlbFwiOiBcInpvb20gaW5cIlxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChQbHVzSWNvbiwgbnVsbCkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDb250cm9sQnV0dG9uLCB7XG4gICAgb25DbGljazogb25ab29tT3V0SGFuZGxlcixcbiAgICBjbGFzc05hbWU6IFwicmVhY3QtZmxvd19fY29udHJvbHMtem9vbW91dFwiLFxuICAgIHRpdGxlOiBcInpvb20gb3V0XCIsXG4gICAgXCJhcmlhLWxhYmVsXCI6IFwiem9vbSBvdXRcIlxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChNaW51c0ljb24sIG51bGwpKSksIHNob3dGaXRWaWV3ICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENvbnRyb2xCdXR0b24sIHtcbiAgICBjbGFzc05hbWU6IFwicmVhY3QtZmxvd19fY29udHJvbHMtZml0dmlld1wiLFxuICAgIG9uQ2xpY2s6IG9uRml0Vmlld0hhbmRsZXIsXG4gICAgdGl0bGU6IFwiZml0IHZpZXdcIixcbiAgICBcImFyaWEtbGFiZWxcIjogXCJmaXQgdmlld1wiXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEZpdFZpZXdJY29uLCBudWxsKSksIHNob3dJbnRlcmFjdGl2ZSAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDb250cm9sQnV0dG9uLCB7XG4gICAgY2xhc3NOYW1lOiBcInJlYWN0LWZsb3dfX2NvbnRyb2xzLWludGVyYWN0aXZlXCIsXG4gICAgb25DbGljazogb25Ub2dnbGVJbnRlcmFjdGl2aXR5LFxuICAgIHRpdGxlOiBcInRvZ2dsZSBpbnRlcmFjdGl2aXR5XCIsXG4gICAgXCJhcmlhLWxhYmVsXCI6IFwidG9nZ2xlIGludGVyYWN0aXZpdHlcIlxuICB9LCBpc0ludGVyYWN0aXZlID8gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVW5sb2NrSWNvbiwgbnVsbCkgOiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChMb2NrSWNvbiwgbnVsbCkpLCBjaGlsZHJlbik7XG59O1xuXG5Db250cm9scy5kaXNwbGF5TmFtZSA9ICdDb250cm9scyc7XG52YXIgaW5kZXggPSAvKiNfX1BVUkVfXyovbWVtbyhDb250cm9scyk7XG5cbmV4cG9ydCB7IENvbnRyb2xCdXR0b24gYXMgQywgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIGFzIF8sIGluZGV4IGFzIGkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LTIwZGY5N2MwLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/react-flow-renderer/dist/esm/index-20df97c0.js\n"));

/***/ }),

/***/ "./node_modules/react-flow-renderer/dist/esm/index-a12c80bd.js":
/*!*********************************************************************!*\
  !*** ./node_modules/react-flow-renderer/dist/esm/index-a12c80bd.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   A: function() { return /* binding */ isNode; },\n/* harmony export */   B: function() { return /* binding */ isEdge; },\n/* harmony export */   C: function() { return /* binding */ ConnectionMode; },\n/* harmony export */   D: function() { return /* binding */ getOutgoers; },\n/* harmony export */   E: function() { return /* binding */ getIncomers; },\n/* harmony export */   F: function() { return /* binding */ updateEdge; },\n/* harmony export */   G: function() { return /* binding */ getTransformForBounds; },\n/* harmony export */   H: function() { return /* binding */ BackgroundVariant; },\n/* harmony export */   I: function() { return /* binding */ getBoundsofRects; },\n/* harmony export */   J: function() { return /* binding */ _arrayLikeToArray; },\n/* harmony export */   K: function() { return /* binding */ _unsupportedIterableToArray; },\n/* harmony export */   L: function() { return /* binding */ getD3Transition; },\n/* harmony export */   M: function() { return /* binding */ MarkerType; },\n/* harmony export */   N: function() { return /* binding */ fitView; },\n/* harmony export */   P: function() { return /* binding */ Position; },\n/* harmony export */   _: function() { return /* binding */ _slicedToArray; },\n/* harmony export */   a: function() { return /* binding */ _defineProperty; },\n/* harmony export */   b: function() { return /* binding */ useStore; },\n/* harmony export */   c: function() { return /* binding */ addEdge; },\n/* harmony export */   d: function() { return /* binding */ getMarkerId; },\n/* harmony export */   e: function() { return /* binding */ getConnectedEdges; },\n/* harmony export */   f: function() { return /* binding */ getDimensions; },\n/* harmony export */   g: function() { return /* binding */ getHostForElement; },\n/* harmony export */   h: function() { return /* binding */ PanOnScrollMode; },\n/* harmony export */   i: function() { return /* binding */ internalsSymbol; },\n/* harmony export */   j: function() { return /* binding */ clamp; },\n/* harmony export */   k: function() { return /* binding */ getNodesInside; },\n/* harmony export */   l: function() { return /* binding */ getSelectionChanges; },\n/* harmony export */   m: function() { return /* binding */ clampPosition; },\n/* harmony export */   n: function() { return /* binding */ handleNodeClick; },\n/* harmony export */   o: function() { return /* binding */ getRectOfNodes; },\n/* harmony export */   p: function() { return /* binding */ pointToRendererPoint; },\n/* harmony export */   q: function() { return /* binding */ ConnectionLineType; },\n/* harmony export */   r: function() { return /* binding */ rectToBox; },\n/* harmony export */   s: function() { return /* binding */ isNumeric; },\n/* harmony export */   t: function() { return /* binding */ getMouseHandler; },\n/* harmony export */   u: function() { return /* binding */ useStoreApi; },\n/* harmony export */   v: function() { return /* binding */ Provider; },\n/* harmony export */   w: function() { return /* binding */ createStore; },\n/* harmony export */   x: function() { return /* binding */ infiniteExtent; },\n/* harmony export */   y: function() { return /* binding */ applyNodeChanges; },\n/* harmony export */   z: function() { return /* binding */ applyEdgeChanges; }\n/* harmony export */ });\n/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! zustand */ \"./node_modules/react-flow-renderer/node_modules/zustand/esm/index.js\");\n/* harmony import */ var zustand_context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! zustand/context */ \"./node_modules/react-flow-renderer/node_modules/zustand/esm/context.js\");\n/* harmony import */ var d3_zoom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! d3-zoom */ \"./node_modules/d3-zoom/src/index.js\");\n\n\n\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nvar ConnectionMode;\n\n(function (ConnectionMode) {\n  ConnectionMode[\"Strict\"] = \"strict\";\n  ConnectionMode[\"Loose\"] = \"loose\";\n})(ConnectionMode || (ConnectionMode = {}));\n\nvar BackgroundVariant;\n\n(function (BackgroundVariant) {\n  BackgroundVariant[\"Lines\"] = \"lines\";\n  BackgroundVariant[\"Dots\"] = \"dots\";\n})(BackgroundVariant || (BackgroundVariant = {}));\n\nvar PanOnScrollMode;\n\n(function (PanOnScrollMode) {\n  PanOnScrollMode[\"Free\"] = \"free\";\n  PanOnScrollMode[\"Vertical\"] = \"vertical\";\n  PanOnScrollMode[\"Horizontal\"] = \"horizontal\";\n})(PanOnScrollMode || (PanOnScrollMode = {}));\n\nvar ConnectionLineType;\n\n(function (ConnectionLineType) {\n  ConnectionLineType[\"Bezier\"] = \"default\";\n  ConnectionLineType[\"Straight\"] = \"straight\";\n  ConnectionLineType[\"Step\"] = \"step\";\n  ConnectionLineType[\"SmoothStep\"] = \"smoothstep\";\n  ConnectionLineType[\"SimpleBezier\"] = \"simplebezier\";\n})(ConnectionLineType || (ConnectionLineType = {}));\n\nvar MarkerType;\n\n(function (MarkerType) {\n  MarkerType[\"Arrow\"] = \"arrow\";\n  MarkerType[\"ArrowClosed\"] = \"arrowclosed\";\n})(MarkerType || (MarkerType = {}));\n\nvar Position;\n\n(function (Position) {\n  Position[\"Left\"] = \"left\";\n  Position[\"Top\"] = \"top\";\n  Position[\"Right\"] = \"right\";\n  Position[\"Bottom\"] = \"bottom\";\n})(Position || (Position = {}));\n\nvar getDimensions = function getDimensions(node) {\n  return {\n    width: node.offsetWidth,\n    height: node.offsetHeight\n  };\n};\nvar clamp = function clamp(val) {\n  var min = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var max = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  return Math.min(Math.max(val, min), max);\n};\nvar clampPosition = function clampPosition(position, extent) {\n  return {\n    x: clamp(position.x, extent[0][0], extent[1][0]),\n    y: clamp(position.y, extent[0][1], extent[1][1])\n  };\n};\nvar getHostForElement = function getHostForElement(element) {\n  var _element$getRootNode, _window;\n\n  return ((_element$getRootNode = element.getRootNode) === null || _element$getRootNode === void 0 ? void 0 : _element$getRootNode.call(element)) || ((_window = window) === null || _window === void 0 ? void 0 : _window.document);\n};\nvar getBoundsOfBoxes = function getBoundsOfBoxes(box1, box2) {\n  return {\n    x: Math.min(box1.x, box2.x),\n    y: Math.min(box1.y, box2.y),\n    x2: Math.max(box1.x2, box2.x2),\n    y2: Math.max(box1.y2, box2.y2)\n  };\n};\nvar rectToBox = function rectToBox(_ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      width = _ref.width,\n      height = _ref.height;\n  return {\n    x: x,\n    y: y,\n    x2: x + width,\n    y2: y + height\n  };\n};\nvar boxToRect = function boxToRect(_ref2) {\n  var x = _ref2.x,\n      y = _ref2.y,\n      x2 = _ref2.x2,\n      y2 = _ref2.y2;\n  return {\n    x: x,\n    y: y,\n    width: x2 - x,\n    height: y2 - y\n  };\n};\nvar getBoundsofRects = function getBoundsofRects(rect1, rect2) {\n  return boxToRect(getBoundsOfBoxes(rectToBox(rect1), rectToBox(rect2)));\n};\nvar isNumeric = function isNumeric(n) {\n  return !isNaN(n) && isFinite(n);\n};\nvar internalsSymbol = Symbol('internals');\n\nfunction ownKeys$4(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$4(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$4(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$4(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction handleParentExpand(res, updateItem) {\n  var parent = res.find(function (e) {\n    return e.id === updateItem.parentNode;\n  });\n\n  if (parent) {\n    var extendWidth = updateItem.position.x + updateItem.width - parent.width;\n    var extendHeight = updateItem.position.y + updateItem.height - parent.height;\n\n    if (extendWidth > 0 || extendHeight > 0 || updateItem.position.x < 0 || updateItem.position.y < 0) {\n      var _parent$style$width, _parent$style$height;\n\n      parent.style = _objectSpread$4({}, parent.style) || {};\n      parent.style.width = (_parent$style$width = parent.style.width) !== null && _parent$style$width !== void 0 ? _parent$style$width : parent.width;\n      parent.style.height = (_parent$style$height = parent.style.height) !== null && _parent$style$height !== void 0 ? _parent$style$height : parent.height;\n\n      if (extendWidth > 0) {\n        parent.style.width += extendWidth;\n      }\n\n      if (extendHeight > 0) {\n        parent.style.height += extendHeight;\n      }\n\n      if (updateItem.position.x < 0) {\n        var xDiff = Math.abs(updateItem.position.x);\n        parent.position.x = parent.position.x - xDiff;\n        parent.style.width += xDiff;\n        updateItem.position.x = 0;\n      }\n\n      if (updateItem.position.y < 0) {\n        var yDiff = Math.abs(updateItem.position.y);\n        parent.position.y = parent.position.y - yDiff;\n        parent.style.height += yDiff;\n        updateItem.position.y = 0;\n      }\n\n      parent.width = parent.style.width;\n      parent.height = parent.style.height;\n    }\n  }\n}\n\nfunction applyChanges(changes, elements) {\n  // we need this hack to handle the setNodes and setEdges function of the useReactFlow hook for controlled flows\n  if (changes.some(function (c) {\n    return c.type === 'reset';\n  })) {\n    return changes.filter(function (c) {\n      return c.type === 'reset';\n    }).map(function (c) {\n      return c.item;\n    });\n  }\n\n  var initElements = changes.filter(function (c) {\n    return c.type === 'add';\n  }).map(function (c) {\n    return c.item;\n  });\n  return elements.reduce(function (res, item) {\n    var currentChange = changes.find(function (c) {\n      return c.id === item.id;\n    });\n\n    if (currentChange) {\n      switch (currentChange.type) {\n        case 'select':\n          {\n            res.push(_objectSpread$4(_objectSpread$4({}, item), {}, {\n              selected: currentChange.selected\n            }));\n            return res;\n          }\n\n        case 'position':\n          {\n            var updateItem = _objectSpread$4({}, item);\n\n            if (typeof currentChange.position !== 'undefined') {\n              updateItem.position = currentChange.position;\n            }\n\n            if (typeof currentChange.positionAbsolute !== 'undefined') {\n              updateItem.positionAbsolute = currentChange.positionAbsolute;\n            }\n\n            if (typeof currentChange.dragging !== 'undefined') {\n              updateItem.dragging = currentChange.dragging;\n            }\n\n            if (updateItem.expandParent) {\n              handleParentExpand(res, updateItem);\n            }\n\n            res.push(updateItem);\n            return res;\n          }\n\n        case 'dimensions':\n          {\n            var _updateItem = _objectSpread$4({}, item);\n\n            if (typeof currentChange.dimensions !== 'undefined') {\n              _updateItem.width = currentChange.dimensions.width;\n              _updateItem.height = currentChange.dimensions.height;\n            }\n\n            if (_updateItem.expandParent) {\n              handleParentExpand(res, _updateItem);\n            }\n\n            res.push(_updateItem);\n            return res;\n          }\n\n        case 'remove':\n          {\n            return res;\n          }\n      }\n    }\n\n    res.push(item);\n    return res;\n  }, initElements);\n}\n\nfunction applyNodeChanges(changes, nodes) {\n  return applyChanges(changes, nodes);\n}\nfunction applyEdgeChanges(changes, edges) {\n  return applyChanges(changes, edges);\n}\nvar createSelectionChange = function createSelectionChange(id, selected) {\n  return {\n    id: id,\n    type: 'select',\n    selected: selected\n  };\n};\nfunction getSelectionChanges(items, selectedIds) {\n  return items.reduce(function (res, item) {\n    var willBeSelected = selectedIds.includes(item.id);\n\n    if (!item.selected && willBeSelected) {\n      item.selected = true;\n      res.push(createSelectionChange(item.id, true));\n    } else if (item.selected && !willBeSelected) {\n      item.selected = false;\n      res.push(createSelectionChange(item.id, false));\n    }\n\n    return res;\n  }, []);\n}\n\nfunction ownKeys$3(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$3(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$3(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$3(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar getHandleBounds = function getHandleBounds(selector, nodeElement, zoom) {\n  var handles = nodeElement.querySelectorAll(selector);\n\n  if (!handles || !handles.length) {\n    return null;\n  }\n\n  var handlesArray = Array.from(handles);\n  var nodeBounds = nodeElement.getBoundingClientRect();\n  return handlesArray.map(function (handle) {\n    var handleBounds = handle.getBoundingClientRect();\n    return _objectSpread$3({\n      id: handle.getAttribute('data-handleid'),\n      position: handle.getAttribute('data-handlepos'),\n      x: (handleBounds.left - nodeBounds.left) / zoom,\n      y: (handleBounds.top - nodeBounds.top) / zoom\n    }, getDimensions(handle));\n  });\n};\nfunction getMouseHandler(id, getState, handler) {\n  return handler === undefined ? handler : function (event) {\n    var node = getState().nodeInternals.get(id);\n    handler(event, _objectSpread$3({}, node));\n  };\n} // this handler is called by\n// 1. the click handler when node is not draggable or selectNodesOnDrag = false\n// or\n// 2. the on drag start handler when node is draggable and selectNodesOnDrag = true\n\nfunction handleNodeClick(_ref) {\n  var id = _ref.id,\n      store = _ref.store;\n\n  var _store$getState = store.getState(),\n      addSelectedNodes = _store$getState.addSelectedNodes,\n      unselectNodesAndEdges = _store$getState.unselectNodesAndEdges,\n      multiSelectionActive = _store$getState.multiSelectionActive,\n      nodeInternals = _store$getState.nodeInternals;\n\n  var node = nodeInternals.get(id);\n  store.setState({\n    nodesSelectionActive: false\n  });\n\n  if (!node.selected) {\n    addSelectedNodes([id]);\n  } else if (node.selected && multiSelectionActive) {\n    unselectNodesAndEdges({\n      nodes: [node]\n    });\n  }\n}\n\nfunction ownKeys$2(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$2(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$2(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar isEdge = function isEdge(element) {\n  return 'id' in element && 'source' in element && 'target' in element;\n};\nvar isNode = function isNode(element) {\n  return 'id' in element && !('source' in element) && !('target' in element);\n};\nvar getOutgoers = function getOutgoers(node, nodes, edges) {\n  if (!isNode(node)) {\n    return [];\n  }\n\n  var outgoerIds = edges.filter(function (e) {\n    return e.source === node.id;\n  }).map(function (e) {\n    return e.target;\n  });\n  return nodes.filter(function (n) {\n    return outgoerIds.includes(n.id);\n  });\n};\nvar getIncomers = function getIncomers(node, nodes, edges) {\n  if (!isNode(node)) {\n    return [];\n  }\n\n  var incomersIds = edges.filter(function (e) {\n    return e.target === node.id;\n  }).map(function (e) {\n    return e.source;\n  });\n  return nodes.filter(function (n) {\n    return incomersIds.includes(n.id);\n  });\n};\n\nvar getEdgeId = function getEdgeId(_ref) {\n  var source = _ref.source,\n      sourceHandle = _ref.sourceHandle,\n      target = _ref.target,\n      targetHandle = _ref.targetHandle;\n  return \"reactflow__edge-\".concat(source).concat(sourceHandle || '', \"-\").concat(target).concat(targetHandle || '');\n};\n\nvar getMarkerId = function getMarkerId(marker, rfId) {\n  if (typeof marker === 'undefined') {\n    return '';\n  }\n\n  if (typeof marker === 'string') {\n    return marker;\n  }\n\n  var idPrefix = rfId ? \"\".concat(rfId, \"__\") : '';\n  return \"\".concat(idPrefix).concat(Object.keys(marker).sort().map(function (key) {\n    return \"\".concat(key, \"=\").concat(marker[key]);\n  }).join('&'));\n};\n\nvar connectionExists = function connectionExists(edge, edges) {\n  return edges.some(function (el) {\n    return el.source === edge.source && el.target === edge.target && (el.sourceHandle === edge.sourceHandle || !el.sourceHandle && !edge.sourceHandle) && (el.targetHandle === edge.targetHandle || !el.targetHandle && !edge.targetHandle);\n  });\n};\n\nvar addEdge = function addEdge(edgeParams, edges) {\n  if (!edgeParams.source || !edgeParams.target) {\n    // @ts-ignore\n    if (true) {\n      console.warn(\"[React Flow]: Can't create edge. An edge needs a source and a target. Help: https://reactflow.dev/error#600\");\n    }\n\n    return edges;\n  }\n\n  var edge;\n\n  if (isEdge(edgeParams)) {\n    edge = _objectSpread$2({}, edgeParams);\n  } else {\n    edge = _objectSpread$2(_objectSpread$2({}, edgeParams), {}, {\n      id: getEdgeId(edgeParams)\n    });\n  }\n\n  if (connectionExists(edge, edges)) {\n    return edges;\n  }\n\n  return edges.concat(edge);\n};\nvar updateEdge = function updateEdge(oldEdge, newConnection, edges) {\n  if (!newConnection.source || !newConnection.target) {\n    // @ts-ignore\n    if (true) {\n      console.warn(\"[React Flow]: Can't create a new edge. An edge needs a source and a target. Help: https://reactflow.dev/error#600\");\n    }\n\n    return edges;\n  }\n\n  var foundEdge = edges.find(function (e) {\n    return e.id === oldEdge.id;\n  });\n\n  if (!foundEdge) {\n    // @ts-ignore\n    if (true) {\n      console.warn(\"[React Flow]: The old edge with id=\".concat(oldEdge.id, \" does not exist. Help: https://reactflow.dev/error#700\"));\n    }\n\n    return edges;\n  } // Remove old edge and create the new edge with parameters of old edge.\n\n\n  var edge = _objectSpread$2(_objectSpread$2({}, oldEdge), {}, {\n    id: getEdgeId(newConnection),\n    source: newConnection.source,\n    target: newConnection.target,\n    sourceHandle: newConnection.sourceHandle,\n    targetHandle: newConnection.targetHandle\n  });\n\n  return edges.filter(function (e) {\n    return e.id !== oldEdge.id;\n  }).concat(edge);\n};\nvar pointToRendererPoint = function pointToRendererPoint(_ref2, _ref3, snapToGrid, _ref4) {\n  var x = _ref2.x,\n      y = _ref2.y;\n\n  var _ref5 = _slicedToArray(_ref3, 3),\n      tx = _ref5[0],\n      ty = _ref5[1],\n      tScale = _ref5[2];\n\n  var _ref6 = _slicedToArray(_ref4, 2),\n      snapX = _ref6[0],\n      snapY = _ref6[1];\n\n  var position = {\n    x: (x - tx) / tScale,\n    y: (y - ty) / tScale\n  };\n\n  if (snapToGrid) {\n    return {\n      x: snapX * Math.round(position.x / snapX),\n      y: snapY * Math.round(position.y / snapY)\n    };\n  }\n\n  return position;\n};\nvar getRectOfNodes = function getRectOfNodes(nodes) {\n  if (nodes.length === 0) {\n    return {\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0\n    };\n  }\n\n  var box = nodes.reduce(function (currBox, _ref7) {\n    var positionAbsolute = _ref7.positionAbsolute,\n        position = _ref7.position,\n        width = _ref7.width,\n        height = _ref7.height;\n    return getBoundsOfBoxes(currBox, rectToBox({\n      x: positionAbsolute ? positionAbsolute.x : position.x,\n      y: positionAbsolute ? positionAbsolute.y : position.y,\n      width: width || 0,\n      height: height || 0\n    }));\n  }, {\n    x: Infinity,\n    y: Infinity,\n    x2: -Infinity,\n    y2: -Infinity\n  });\n  return boxToRect(box);\n};\nvar getNodesInside = function getNodesInside(nodeInternals, rect) {\n  var _ref8 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [0, 0, 1],\n      _ref9 = _slicedToArray(_ref8, 3),\n      tx = _ref9[0],\n      ty = _ref9[1],\n      tScale = _ref9[2];\n\n  var partially = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var excludeNonSelectableNodes = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n  var rBox = rectToBox({\n    x: (rect.x - tx) / tScale,\n    y: (rect.y - ty) / tScale,\n    width: rect.width / tScale,\n    height: rect.height / tScale\n  });\n  var visibleNodes = [];\n  nodeInternals.forEach(function (node) {\n    var positionAbsolute = node.positionAbsolute,\n        width = node.width,\n        height = node.height,\n        _node$selectable = node.selectable,\n        selectable = _node$selectable === void 0 ? true : _node$selectable;\n\n    if (excludeNonSelectableNodes && !selectable) {\n      return false;\n    }\n\n    var nBox = rectToBox(_objectSpread$2(_objectSpread$2({}, positionAbsolute), {}, {\n      width: width || 0,\n      height: height || 0\n    }));\n    var xOverlap = Math.max(0, Math.min(rBox.x2, nBox.x2) - Math.max(rBox.x, nBox.x));\n    var yOverlap = Math.max(0, Math.min(rBox.y2, nBox.y2) - Math.max(rBox.y, nBox.y));\n    var overlappingArea = Math.ceil(xOverlap * yOverlap);\n    var notInitialized = typeof width === 'undefined' || typeof height === 'undefined' || width === null || height === null;\n    var partiallyVisible = partially && overlappingArea > 0;\n    var area = (width || 0) * (height || 0);\n    var isVisible = notInitialized || partiallyVisible || overlappingArea >= area;\n\n    if (isVisible) {\n      visibleNodes.push(node);\n    }\n  });\n  return visibleNodes;\n};\nvar getConnectedEdges = function getConnectedEdges(nodes, edges) {\n  var nodeIds = nodes.map(function (node) {\n    return node.id;\n  });\n  return edges.filter(function (edge) {\n    return nodeIds.includes(edge.source) || nodeIds.includes(edge.target);\n  });\n};\nvar getTransformForBounds = function getTransformForBounds(bounds, width, height, minZoom, maxZoom) {\n  var padding = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0.1;\n  var xZoom = width / (bounds.width * (1 + padding));\n  var yZoom = height / (bounds.height * (1 + padding));\n  var zoom = Math.min(xZoom, yZoom);\n  var clampedZoom = clamp(zoom, minZoom, maxZoom);\n  var boundsCenterX = bounds.x + bounds.width / 2;\n  var boundsCenterY = bounds.y + bounds.height / 2;\n  var x = width / 2 - boundsCenterX * clampedZoom;\n  var y = height / 2 - boundsCenterY * clampedZoom;\n  return [x, y, clampedZoom];\n};\nvar getD3Transition = function getD3Transition(selection) {\n  var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  return selection.transition().duration(duration);\n};\n\nfunction ownKeys$1(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$1(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$1(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction calculateXYZPosition(node, nodeInternals, parentNodes, result) {\n  var _result$x, _parentNode$position$, _parentNode$position, _result$y, _parentNode$position$2, _parentNode$position2, _parentNode$internals, _parentNode$internals2, _result$z, _parentNode$internals3, _parentNode$internals4, _result$z2;\n\n  if (!node.parentNode) {\n    return result;\n  }\n\n  var parentNode = nodeInternals.get(node.parentNode);\n  return calculateXYZPosition(parentNode, nodeInternals, parentNodes, {\n    x: ((_result$x = result.x) !== null && _result$x !== void 0 ? _result$x : 0) + ((_parentNode$position$ = (_parentNode$position = parentNode.position) === null || _parentNode$position === void 0 ? void 0 : _parentNode$position.x) !== null && _parentNode$position$ !== void 0 ? _parentNode$position$ : 0),\n    y: ((_result$y = result.y) !== null && _result$y !== void 0 ? _result$y : 0) + ((_parentNode$position$2 = (_parentNode$position2 = parentNode.position) === null || _parentNode$position2 === void 0 ? void 0 : _parentNode$position2.y) !== null && _parentNode$position$2 !== void 0 ? _parentNode$position$2 : 0),\n    z: ((_parentNode$internals = (_parentNode$internals2 = parentNode[internalsSymbol]) === null || _parentNode$internals2 === void 0 ? void 0 : _parentNode$internals2.z) !== null && _parentNode$internals !== void 0 ? _parentNode$internals : 0) > ((_result$z = result.z) !== null && _result$z !== void 0 ? _result$z : 0) ? (_parentNode$internals3 = (_parentNode$internals4 = parentNode[internalsSymbol]) === null || _parentNode$internals4 === void 0 ? void 0 : _parentNode$internals4.z) !== null && _parentNode$internals3 !== void 0 ? _parentNode$internals3 : 0 : (_result$z2 = result.z) !== null && _result$z2 !== void 0 ? _result$z2 : 0\n  });\n}\n\nfunction createNodeInternals(nodes, nodeInternals) {\n  var nextNodeInternals = new Map();\n  var parentNodes = {};\n  nodes.forEach(function (node) {\n    var _currInternals$intern;\n\n    var z = isNumeric(node.zIndex) ? node.zIndex : node.selected ? 1000 : 0;\n    var currInternals = nodeInternals.get(node.id);\n\n    var internals = _objectSpread$1(_objectSpread$1({\n      width: currInternals === null || currInternals === void 0 ? void 0 : currInternals.width,\n      height: currInternals === null || currInternals === void 0 ? void 0 : currInternals.height\n    }, node), {}, {\n      positionAbsolute: {\n        x: node.position.x,\n        y: node.position.y\n      }\n    });\n\n    if (node.parentNode) {\n      internals.parentNode = node.parentNode;\n      parentNodes[node.parentNode] = true;\n    }\n\n    Object.defineProperty(internals, internalsSymbol, {\n      enumerable: false,\n      value: {\n        handleBounds: currInternals === null || currInternals === void 0 ? void 0 : (_currInternals$intern = currInternals[internalsSymbol]) === null || _currInternals$intern === void 0 ? void 0 : _currInternals$intern.handleBounds,\n        z: z\n      }\n    });\n    nextNodeInternals.set(node.id, internals);\n  });\n  nextNodeInternals.forEach(function (node) {\n    if (node.parentNode && !nextNodeInternals.has(node.parentNode)) {\n      throw new Error(\"Parent node \".concat(node.parentNode, \" not found\"));\n    }\n\n    if (node.parentNode || parentNodes[node.id]) {\n      var _node$internalsSymbol, _node$internalsSymbol2;\n\n      var _calculateXYZPosition = calculateXYZPosition(node, nextNodeInternals, parentNodes, _objectSpread$1(_objectSpread$1({}, node.position), {}, {\n        z: (_node$internalsSymbol = (_node$internalsSymbol2 = node[internalsSymbol]) === null || _node$internalsSymbol2 === void 0 ? void 0 : _node$internalsSymbol2.z) !== null && _node$internalsSymbol !== void 0 ? _node$internalsSymbol : 0\n      })),\n          x = _calculateXYZPosition.x,\n          y = _calculateXYZPosition.y,\n          z = _calculateXYZPosition.z;\n\n      node.positionAbsolute = {\n        x: x,\n        y: y\n      };\n      node[internalsSymbol].z = z;\n\n      if (parentNodes[node.id]) {\n        node[internalsSymbol].isParent = true;\n      }\n    }\n  });\n  return nextNodeInternals;\n}\nfunction fitView(get) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var _get = get(),\n      nodeInternals = _get.nodeInternals,\n      width = _get.width,\n      height = _get.height,\n      minZoom = _get.minZoom,\n      maxZoom = _get.maxZoom,\n      d3Zoom = _get.d3Zoom,\n      d3Selection = _get.d3Selection,\n      fitViewOnInitDone = _get.fitViewOnInitDone,\n      fitViewOnInit = _get.fitViewOnInit;\n\n  if (options.initial && !fitViewOnInitDone && fitViewOnInit || !options.initial) {\n    if (d3Zoom && d3Selection) {\n      var nodes = Array.from(nodeInternals.values()).filter(function (n) {\n        return options.includeHiddenNodes ? n.width && n.height : !n.hidden;\n      });\n      var nodesInitialized = nodes.every(function (n) {\n        return n.width && n.height;\n      });\n\n      if (nodes.length > 0 && nodesInitialized) {\n        var _options$minZoom, _options$maxZoom, _options$padding;\n\n        var bounds = getRectOfNodes(nodes);\n\n        var _getTransformForBound = getTransformForBounds(bounds, width, height, (_options$minZoom = options.minZoom) !== null && _options$minZoom !== void 0 ? _options$minZoom : minZoom, (_options$maxZoom = options.maxZoom) !== null && _options$maxZoom !== void 0 ? _options$maxZoom : maxZoom, (_options$padding = options.padding) !== null && _options$padding !== void 0 ? _options$padding : 0.1),\n            _getTransformForBound2 = _slicedToArray(_getTransformForBound, 3),\n            x = _getTransformForBound2[0],\n            y = _getTransformForBound2[1],\n            zoom = _getTransformForBound2[2];\n\n        var nextTransform = d3_zoom__WEBPACK_IMPORTED_MODULE_0__.zoomIdentity.translate(x, y).scale(zoom);\n\n        if (typeof options.duration === 'number' && options.duration > 0) {\n          d3Zoom.transform(getD3Transition(d3Selection, options.duration), nextTransform);\n        } else {\n          d3Zoom.transform(d3Selection, nextTransform);\n        }\n\n        return true;\n      }\n    }\n  }\n\n  return false;\n}\nfunction handleControlledNodeSelectionChange(nodeChanges, nodeInternals) {\n  nodeChanges.forEach(function (change) {\n    var node = nodeInternals.get(change.id);\n\n    if (node) {\n      var _objectSpread2;\n\n      nodeInternals.set(node.id, _objectSpread$1(_objectSpread$1({}, node), {}, (_objectSpread2 = {}, _defineProperty(_objectSpread2, internalsSymbol, node[internalsSymbol]), _defineProperty(_objectSpread2, \"selected\", change.selected), _objectSpread2)));\n    }\n  });\n  return new Map(nodeInternals);\n}\nfunction handleControlledEdgeSelectionChange(edgeChanges, edges) {\n  return edges.map(function (e) {\n    var change = edgeChanges.find(function (change) {\n      return change.id === e.id;\n    });\n\n    if (change) {\n      e.selected = change.selected;\n    }\n\n    return e;\n  });\n}\nfunction updateNodesAndEdgesSelections(_ref) {\n  var changedNodes = _ref.changedNodes,\n      changedEdges = _ref.changedEdges,\n      get = _ref.get,\n      set = _ref.set;\n\n  var _get2 = get(),\n      nodeInternals = _get2.nodeInternals,\n      edges = _get2.edges,\n      onNodesChange = _get2.onNodesChange,\n      onEdgesChange = _get2.onEdgesChange,\n      hasDefaultNodes = _get2.hasDefaultNodes,\n      hasDefaultEdges = _get2.hasDefaultEdges;\n\n  if (changedNodes !== null && changedNodes !== void 0 && changedNodes.length) {\n    if (hasDefaultNodes) {\n      set({\n        nodeInternals: handleControlledNodeSelectionChange(changedNodes, nodeInternals)\n      });\n    }\n\n    onNodesChange === null || onNodesChange === void 0 ? void 0 : onNodesChange(changedNodes);\n  }\n\n  if (changedEdges !== null && changedEdges !== void 0 && changedEdges.length) {\n    if (hasDefaultEdges) {\n      set({\n        edges: handleControlledEdgeSelectionChange(changedEdges, edges)\n      });\n    }\n\n    onEdgesChange === null || onEdgesChange === void 0 ? void 0 : onEdgesChange(changedEdges);\n  }\n}\n\nvar infiniteExtent = [[Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY], [Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY]];\nvar initialState = {\n  width: 0,\n  height: 0,\n  transform: [0, 0, 1],\n  nodeInternals: new Map(),\n  edges: [],\n  onNodesChange: null,\n  onEdgesChange: null,\n  hasDefaultNodes: false,\n  hasDefaultEdges: false,\n  d3Zoom: null,\n  d3Selection: null,\n  d3ZoomHandler: undefined,\n  minZoom: 0.5,\n  maxZoom: 2,\n  translateExtent: infiniteExtent,\n  nodeExtent: infiniteExtent,\n  nodesSelectionActive: false,\n  userSelectionActive: false,\n  connectionNodeId: null,\n  connectionHandleId: null,\n  connectionHandleType: 'source',\n  connectionPosition: {\n    x: 0,\n    y: 0\n  },\n  connectionMode: ConnectionMode.Strict,\n  domNode: null,\n  snapGrid: [15, 15],\n  snapToGrid: false,\n  nodesDraggable: true,\n  nodesConnectable: true,\n  elementsSelectable: true,\n  fitViewOnInit: false,\n  fitViewOnInitDone: false,\n  fitViewOnInitOptions: undefined,\n  multiSelectionActive: false,\n  reactFlowVersion: \"10.3.17\" ,\n  connectionStartHandle: null,\n  connectOnClick: true\n};\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nvar _createContext = (0,zustand_context__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(),\n    Provider = _createContext.Provider,\n    useStore = _createContext.useStore,\n    useStoreApi = _createContext.useStoreApi;\n\nvar createStore = function createStore() {\n  return (0,zustand__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(function (set, get) {\n    return _objectSpread(_objectSpread({}, initialState), {}, {\n      setNodes: function setNodes(nodes) {\n        set({\n          nodeInternals: createNodeInternals(nodes, get().nodeInternals)\n        });\n      },\n      setEdges: function setEdges(edges) {\n        var _get = get(),\n            _get$defaultEdgeOptio = _get.defaultEdgeOptions,\n            defaultEdgeOptions = _get$defaultEdgeOptio === void 0 ? {} : _get$defaultEdgeOptio;\n\n        set({\n          edges: edges.map(function (e) {\n            return _objectSpread(_objectSpread({}, defaultEdgeOptions), e);\n          })\n        });\n      },\n      setDefaultNodesAndEdges: function setDefaultNodesAndEdges(nodes, edges) {\n        var hasDefaultNodes = typeof nodes !== 'undefined';\n        var hasDefaultEdges = typeof edges !== 'undefined';\n        var nodeInternals = hasDefaultNodes ? createNodeInternals(nodes, new Map()) : new Map();\n        var nextEdges = hasDefaultEdges ? edges : [];\n        set({\n          nodeInternals: nodeInternals,\n          edges: nextEdges,\n          hasDefaultNodes: hasDefaultNodes,\n          hasDefaultEdges: hasDefaultEdges\n        });\n      },\n      updateNodeDimensions: function updateNodeDimensions(updates) {\n        var _get2 = get(),\n            onNodesChange = _get2.onNodesChange,\n            nodeInternals = _get2.nodeInternals,\n            fitViewOnInit = _get2.fitViewOnInit,\n            fitViewOnInitDone = _get2.fitViewOnInitDone,\n            fitViewOnInitOptions = _get2.fitViewOnInitOptions,\n            domNode = _get2.domNode;\n\n        var viewportNode = domNode === null || domNode === void 0 ? void 0 : domNode.querySelector('.react-flow__viewport');\n\n        if (!viewportNode) {\n          return;\n        }\n\n        var style = window.getComputedStyle(viewportNode);\n\n        var _window$DOMMatrixRead = new window.DOMMatrixReadOnly(style.transform),\n            zoom = _window$DOMMatrixRead.m22;\n\n        var changes = updates.reduce(function (res, update) {\n          var node = nodeInternals.get(update.id);\n\n          if (node) {\n            var dimensions = getDimensions(update.nodeElement);\n            var doUpdate = !!(dimensions.width && dimensions.height && (node.width !== dimensions.width || node.height !== dimensions.height || update.forceUpdate));\n\n            if (doUpdate) {\n              nodeInternals.set(node.id, _objectSpread(_objectSpread({}, node), {}, _defineProperty({}, internalsSymbol, _objectSpread(_objectSpread({}, node[internalsSymbol]), {}, {\n                handleBounds: {\n                  source: getHandleBounds('.source', update.nodeElement, zoom),\n                  target: getHandleBounds('.target', update.nodeElement, zoom)\n                }\n              })), dimensions));\n              res.push({\n                id: node.id,\n                type: 'dimensions',\n                dimensions: dimensions\n              });\n            }\n          }\n\n          return res;\n        }, []);\n        var nextFitViewOnInitDone = fitViewOnInitDone || fitViewOnInit && !fitViewOnInitDone && fitView(get, _objectSpread({\n          initial: true\n        }, fitViewOnInitOptions));\n        set({\n          nodeInternals: new Map(nodeInternals),\n          fitViewOnInitDone: nextFitViewOnInitDone\n        });\n\n        if ((changes === null || changes === void 0 ? void 0 : changes.length) > 0) {\n          onNodesChange === null || onNodesChange === void 0 ? void 0 : onNodesChange(changes);\n        }\n      },\n      updateNodePositions: function updateNodePositions(nodeDragItems) {\n        var positionChanged = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n        var dragging = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n        var _get3 = get(),\n            onNodesChange = _get3.onNodesChange,\n            nodeInternals = _get3.nodeInternals,\n            hasDefaultNodes = _get3.hasDefaultNodes;\n\n        if (hasDefaultNodes || onNodesChange) {\n          var changes = nodeDragItems.map(function (node) {\n            var change = {\n              id: node.id,\n              type: 'position',\n              dragging: dragging\n            };\n\n            if (positionChanged) {\n              change.positionAbsolute = node.positionAbsolute;\n              change.position = node.position;\n            }\n\n            return change;\n          });\n\n          if (changes !== null && changes !== void 0 && changes.length) {\n            if (hasDefaultNodes) {\n              var nodes = applyNodeChanges(changes, Array.from(nodeInternals.values()));\n              var nextNodeInternals = createNodeInternals(nodes, nodeInternals);\n              set({\n                nodeInternals: nextNodeInternals\n              });\n            }\n\n            onNodesChange === null || onNodesChange === void 0 ? void 0 : onNodesChange(changes);\n          }\n        }\n      },\n      addSelectedNodes: function addSelectedNodes(selectedNodeIds) {\n        var _get4 = get(),\n            multiSelectionActive = _get4.multiSelectionActive,\n            nodeInternals = _get4.nodeInternals,\n            edges = _get4.edges;\n\n        var changedNodes;\n        var changedEdges = null;\n\n        if (multiSelectionActive) {\n          changedNodes = selectedNodeIds.map(function (nodeId) {\n            return createSelectionChange(nodeId, true);\n          });\n        } else {\n          changedNodes = getSelectionChanges(Array.from(nodeInternals.values()), selectedNodeIds);\n          changedEdges = getSelectionChanges(edges, []);\n        }\n\n        updateNodesAndEdgesSelections({\n          changedNodes: changedNodes,\n          changedEdges: changedEdges,\n          get: get,\n          set: set\n        });\n      },\n      addSelectedEdges: function addSelectedEdges(selectedEdgeIds) {\n        var _get5 = get(),\n            multiSelectionActive = _get5.multiSelectionActive,\n            edges = _get5.edges,\n            nodeInternals = _get5.nodeInternals;\n\n        var changedEdges;\n        var changedNodes = null;\n\n        if (multiSelectionActive) {\n          changedEdges = selectedEdgeIds.map(function (edgeId) {\n            return createSelectionChange(edgeId, true);\n          });\n        } else {\n          changedEdges = getSelectionChanges(edges, selectedEdgeIds);\n          changedNodes = getSelectionChanges(Array.from(nodeInternals.values()), []);\n        }\n\n        updateNodesAndEdgesSelections({\n          changedNodes: changedNodes,\n          changedEdges: changedEdges,\n          get: get,\n          set: set\n        });\n      },\n      unselectNodesAndEdges: function unselectNodesAndEdges() {\n        var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            nodes = _ref.nodes,\n            edges = _ref.edges;\n\n        var _get6 = get(),\n            nodeInternals = _get6.nodeInternals,\n            storeEdges = _get6.edges;\n\n        var nodesToUnselect = nodes ? nodes : Array.from(nodeInternals.values());\n        var edgesToUnselect = edges ? edges : storeEdges;\n        var changedNodes = nodesToUnselect.map(function (n) {\n          n.selected = false;\n          return createSelectionChange(n.id, false);\n        });\n        var changedEdges = edgesToUnselect.map(function (edge) {\n          return createSelectionChange(edge.id, false);\n        });\n        updateNodesAndEdgesSelections({\n          changedNodes: changedNodes,\n          changedEdges: changedEdges,\n          get: get,\n          set: set\n        });\n      },\n      setMinZoom: function setMinZoom(minZoom) {\n        var _get7 = get(),\n            d3Zoom = _get7.d3Zoom,\n            maxZoom = _get7.maxZoom;\n\n        d3Zoom === null || d3Zoom === void 0 ? void 0 : d3Zoom.scaleExtent([minZoom, maxZoom]);\n        set({\n          minZoom: minZoom\n        });\n      },\n      setMaxZoom: function setMaxZoom(maxZoom) {\n        var _get8 = get(),\n            d3Zoom = _get8.d3Zoom,\n            minZoom = _get8.minZoom;\n\n        d3Zoom === null || d3Zoom === void 0 ? void 0 : d3Zoom.scaleExtent([minZoom, maxZoom]);\n        set({\n          maxZoom: maxZoom\n        });\n      },\n      setTranslateExtent: function setTranslateExtent(translateExtent) {\n        var _get9 = get(),\n            d3Zoom = _get9.d3Zoom;\n\n        d3Zoom === null || d3Zoom === void 0 ? void 0 : d3Zoom.translateExtent(translateExtent);\n        set({\n          translateExtent: translateExtent\n        });\n      },\n      resetSelectedElements: function resetSelectedElements() {\n        var _get10 = get(),\n            nodeInternals = _get10.nodeInternals,\n            edges = _get10.edges;\n\n        var nodes = Array.from(nodeInternals.values());\n        var nodesToUnselect = nodes.filter(function (e) {\n          return e.selected;\n        }).map(function (n) {\n          return createSelectionChange(n.id, false);\n        });\n        var edgesToUnselect = edges.filter(function (e) {\n          return e.selected;\n        }).map(function (e) {\n          return createSelectionChange(e.id, false);\n        });\n        updateNodesAndEdgesSelections({\n          changedNodes: nodesToUnselect,\n          changedEdges: edgesToUnselect,\n          get: get,\n          set: set\n        });\n      },\n      setNodeExtent: function setNodeExtent(nodeExtent) {\n        var _get11 = get(),\n            nodeInternals = _get11.nodeInternals;\n\n        nodeInternals.forEach(function (node) {\n          node.positionAbsolute = clampPosition(node.position, nodeExtent);\n        });\n        set({\n          nodeExtent: nodeExtent,\n          nodeInternals: new Map(nodeInternals)\n        });\n      },\n      reset: function reset() {\n        return set(_objectSpread({}, initialState));\n      }\n    });\n  });\n};\n\n\n//# sourceMappingURL=index-a12c80bd.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtZmxvdy1yZW5kZXJlci9kaXN0L2VzbS9pbmRleC1hMTJjODBiZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBNkI7QUFDZTtBQUNMOztBQUV2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEseUNBQXlDLFNBQVM7QUFDbEQ7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSw0QkFBNEIsK0JBQStCO0FBQzNEOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQyx3Q0FBd0M7O0FBRXpDOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUMsOENBQThDOztBQUUvQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsMENBQTBDOztBQUUzQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLGdEQUFnRDs7QUFFakQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxnQ0FBZ0M7O0FBRWpDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDRCQUE0Qjs7QUFFN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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O0FBQ1A7QUFDQSx5RkFBeUY7QUFDekY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDs7QUFFMjFCO0FBQzMxQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcmVhY3QtZmxvdy1yZW5kZXJlci9kaXN0L2VzbS9pbmRleC1hMTJjODBiZC5qcz8xMDRhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjcmVhdGUgZnJvbSAnenVzdGFuZCc7XG5pbXBvcnQgY3JlYXRlQ29udGV4dCBmcm9tICd6dXN0YW5kL2NvbnRleHQnO1xuaW1wb3J0IHsgem9vbUlkZW50aXR5IH0gZnJvbSAnZDMtem9vbSc7XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAgaWYgKGtleSBpbiBvYmopIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9ialtrZXldID0gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikge1xuICBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDtcblxuICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHtcbiAgICBhcnIyW2ldID0gYXJyW2ldO1xuICB9XG5cbiAgcmV0dXJuIGFycjI7XG59XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHtcbiAgaWYgKCFvKSByZXR1cm47XG4gIGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG4gIHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTtcbiAgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTtcbiAgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7XG4gIGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbn1cblxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyO1xufVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7XG4gIHZhciBfaSA9IGFyciA9PSBudWxsID8gbnVsbCA6IHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgYXJyW1N5bWJvbC5pdGVyYXRvcl0gfHwgYXJyW1wiQEBpdGVyYXRvclwiXTtcblxuICBpZiAoX2kgPT0gbnVsbCkgcmV0dXJuO1xuICB2YXIgX2FyciA9IFtdO1xuICB2YXIgX24gPSB0cnVlO1xuICB2YXIgX2QgPSBmYWxzZTtcblxuICB2YXIgX3MsIF9lO1xuXG4gIHRyeSB7XG4gICAgZm9yIChfaSA9IF9pLmNhbGwoYXJyKTsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkge1xuICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTtcblxuICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgX2QgPSB0cnVlO1xuICAgIF9lID0gZXJyO1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChfZCkgdGhyb3cgX2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIF9hcnI7XG59XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59XG5cbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkge1xuICByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpO1xufVxuXG52YXIgQ29ubmVjdGlvbk1vZGU7XG5cbihmdW5jdGlvbiAoQ29ubmVjdGlvbk1vZGUpIHtcbiAgQ29ubmVjdGlvbk1vZGVbXCJTdHJpY3RcIl0gPSBcInN0cmljdFwiO1xuICBDb25uZWN0aW9uTW9kZVtcIkxvb3NlXCJdID0gXCJsb29zZVwiO1xufSkoQ29ubmVjdGlvbk1vZGUgfHwgKENvbm5lY3Rpb25Nb2RlID0ge30pKTtcblxudmFyIEJhY2tncm91bmRWYXJpYW50O1xuXG4oZnVuY3Rpb24gKEJhY2tncm91bmRWYXJpYW50KSB7XG4gIEJhY2tncm91bmRWYXJpYW50W1wiTGluZXNcIl0gPSBcImxpbmVzXCI7XG4gIEJhY2tncm91bmRWYXJpYW50W1wiRG90c1wiXSA9IFwiZG90c1wiO1xufSkoQmFja2dyb3VuZFZhcmlhbnQgfHwgKEJhY2tncm91bmRWYXJpYW50ID0ge30pKTtcblxudmFyIFBhbk9uU2Nyb2xsTW9kZTtcblxuKGZ1bmN0aW9uIChQYW5PblNjcm9sbE1vZGUpIHtcbiAgUGFuT25TY3JvbGxNb2RlW1wiRnJlZVwiXSA9IFwiZnJlZVwiO1xuICBQYW5PblNjcm9sbE1vZGVbXCJWZXJ0aWNhbFwiXSA9IFwidmVydGljYWxcIjtcbiAgUGFuT25TY3JvbGxNb2RlW1wiSG9yaXpvbnRhbFwiXSA9IFwiaG9yaXpvbnRhbFwiO1xufSkoUGFuT25TY3JvbGxNb2RlIHx8IChQYW5PblNjcm9sbE1vZGUgPSB7fSkpO1xuXG52YXIgQ29ubmVjdGlvbkxpbmVUeXBlO1xuXG4oZnVuY3Rpb24gKENvbm5lY3Rpb25MaW5lVHlwZSkge1xuICBDb25uZWN0aW9uTGluZVR5cGVbXCJCZXppZXJcIl0gPSBcImRlZmF1bHRcIjtcbiAgQ29ubmVjdGlvbkxpbmVUeXBlW1wiU3RyYWlnaHRcIl0gPSBcInN0cmFpZ2h0XCI7XG4gIENvbm5lY3Rpb25MaW5lVHlwZVtcIlN0ZXBcIl0gPSBcInN0ZXBcIjtcbiAgQ29ubmVjdGlvbkxpbmVUeXBlW1wiU21vb3RoU3RlcFwiXSA9IFwic21vb3Roc3RlcFwiO1xuICBDb25uZWN0aW9uTGluZVR5cGVbXCJTaW1wbGVCZXppZXJcIl0gPSBcInNpbXBsZWJlemllclwiO1xufSkoQ29ubmVjdGlvbkxpbmVUeXBlIHx8IChDb25uZWN0aW9uTGluZVR5cGUgPSB7fSkpO1xuXG52YXIgTWFya2VyVHlwZTtcblxuKGZ1bmN0aW9uIChNYXJrZXJUeXBlKSB7XG4gIE1hcmtlclR5cGVbXCJBcnJvd1wiXSA9IFwiYXJyb3dcIjtcbiAgTWFya2VyVHlwZVtcIkFycm93Q2xvc2VkXCJdID0gXCJhcnJvd2Nsb3NlZFwiO1xufSkoTWFya2VyVHlwZSB8fCAoTWFya2VyVHlwZSA9IHt9KSk7XG5cbnZhciBQb3NpdGlvbjtcblxuKGZ1bmN0aW9uIChQb3NpdGlvbikge1xuICBQb3NpdGlvbltcIkxlZnRcIl0gPSBcImxlZnRcIjtcbiAgUG9zaXRpb25bXCJUb3BcIl0gPSBcInRvcFwiO1xuICBQb3NpdGlvbltcIlJpZ2h0XCJdID0gXCJyaWdodFwiO1xuICBQb3NpdGlvbltcIkJvdHRvbVwiXSA9IFwiYm90dG9tXCI7XG59KShQb3NpdGlvbiB8fCAoUG9zaXRpb24gPSB7fSkpO1xuXG52YXIgZ2V0RGltZW5zaW9ucyA9IGZ1bmN0aW9uIGdldERpbWVuc2lvbnMobm9kZSkge1xuICByZXR1cm4ge1xuICAgIHdpZHRoOiBub2RlLm9mZnNldFdpZHRoLFxuICAgIGhlaWdodDogbm9kZS5vZmZzZXRIZWlnaHRcbiAgfTtcbn07XG52YXIgY2xhbXAgPSBmdW5jdGlvbiBjbGFtcCh2YWwpIHtcbiAgdmFyIG1pbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgdmFyIG1heCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMTtcbiAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KHZhbCwgbWluKSwgbWF4KTtcbn07XG52YXIgY2xhbXBQb3NpdGlvbiA9IGZ1bmN0aW9uIGNsYW1wUG9zaXRpb24ocG9zaXRpb24sIGV4dGVudCkge1xuICByZXR1cm4ge1xuICAgIHg6IGNsYW1wKHBvc2l0aW9uLngsIGV4dGVudFswXVswXSwgZXh0ZW50WzFdWzBdKSxcbiAgICB5OiBjbGFtcChwb3NpdGlvbi55LCBleHRlbnRbMF1bMV0sIGV4dGVudFsxXVsxXSlcbiAgfTtcbn07XG52YXIgZ2V0SG9zdEZvckVsZW1lbnQgPSBmdW5jdGlvbiBnZXRIb3N0Rm9yRWxlbWVudChlbGVtZW50KSB7XG4gIHZhciBfZWxlbWVudCRnZXRSb290Tm9kZSwgX3dpbmRvdztcblxuICByZXR1cm4gKChfZWxlbWVudCRnZXRSb290Tm9kZSA9IGVsZW1lbnQuZ2V0Um9vdE5vZGUpID09PSBudWxsIHx8IF9lbGVtZW50JGdldFJvb3ROb2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWxlbWVudCRnZXRSb290Tm9kZS5jYWxsKGVsZW1lbnQpKSB8fCAoKF93aW5kb3cgPSB3aW5kb3cpID09PSBudWxsIHx8IF93aW5kb3cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF93aW5kb3cuZG9jdW1lbnQpO1xufTtcbnZhciBnZXRCb3VuZHNPZkJveGVzID0gZnVuY3Rpb24gZ2V0Qm91bmRzT2ZCb3hlcyhib3gxLCBib3gyKSB7XG4gIHJldHVybiB7XG4gICAgeDogTWF0aC5taW4oYm94MS54LCBib3gyLngpLFxuICAgIHk6IE1hdGgubWluKGJveDEueSwgYm94Mi55KSxcbiAgICB4MjogTWF0aC5tYXgoYm94MS54MiwgYm94Mi54MiksXG4gICAgeTI6IE1hdGgubWF4KGJveDEueTIsIGJveDIueTIpXG4gIH07XG59O1xudmFyIHJlY3RUb0JveCA9IGZ1bmN0aW9uIHJlY3RUb0JveChfcmVmKSB7XG4gIHZhciB4ID0gX3JlZi54LFxuICAgICAgeSA9IF9yZWYueSxcbiAgICAgIHdpZHRoID0gX3JlZi53aWR0aCxcbiAgICAgIGhlaWdodCA9IF9yZWYuaGVpZ2h0O1xuICByZXR1cm4ge1xuICAgIHg6IHgsXG4gICAgeTogeSxcbiAgICB4MjogeCArIHdpZHRoLFxuICAgIHkyOiB5ICsgaGVpZ2h0XG4gIH07XG59O1xudmFyIGJveFRvUmVjdCA9IGZ1bmN0aW9uIGJveFRvUmVjdChfcmVmMikge1xuICB2YXIgeCA9IF9yZWYyLngsXG4gICAgICB5ID0gX3JlZjIueSxcbiAgICAgIHgyID0gX3JlZjIueDIsXG4gICAgICB5MiA9IF9yZWYyLnkyO1xuICByZXR1cm4ge1xuICAgIHg6IHgsXG4gICAgeTogeSxcbiAgICB3aWR0aDogeDIgLSB4LFxuICAgIGhlaWdodDogeTIgLSB5XG4gIH07XG59O1xudmFyIGdldEJvdW5kc29mUmVjdHMgPSBmdW5jdGlvbiBnZXRCb3VuZHNvZlJlY3RzKHJlY3QxLCByZWN0Mikge1xuICByZXR1cm4gYm94VG9SZWN0KGdldEJvdW5kc09mQm94ZXMocmVjdFRvQm94KHJlY3QxKSwgcmVjdFRvQm94KHJlY3QyKSkpO1xufTtcbnZhciBpc051bWVyaWMgPSBmdW5jdGlvbiBpc051bWVyaWMobikge1xuICByZXR1cm4gIWlzTmFOKG4pICYmIGlzRmluaXRlKG4pO1xufTtcbnZhciBpbnRlcm5hbHNTeW1ib2wgPSBTeW1ib2woJ2ludGVybmFscycpO1xuXG5mdW5jdGlvbiBvd25LZXlzJDQob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBlbnVtZXJhYmxlT25seSAmJiAoc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pKSwga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQkNCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IG51bGwgIT0gYXJndW1lbnRzW2ldID8gYXJndW1lbnRzW2ldIDoge307IGkgJSAyID8gb3duS2V5cyQ0KE9iamVjdChzb3VyY2UpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKSA6IG93bktleXMkNChPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIGhhbmRsZVBhcmVudEV4cGFuZChyZXMsIHVwZGF0ZUl0ZW0pIHtcbiAgdmFyIHBhcmVudCA9IHJlcy5maW5kKGZ1bmN0aW9uIChlKSB7XG4gICAgcmV0dXJuIGUuaWQgPT09IHVwZGF0ZUl0ZW0ucGFyZW50Tm9kZTtcbiAgfSk7XG5cbiAgaWYgKHBhcmVudCkge1xuICAgIHZhciBleHRlbmRXaWR0aCA9IHVwZGF0ZUl0ZW0ucG9zaXRpb24ueCArIHVwZGF0ZUl0ZW0ud2lkdGggLSBwYXJlbnQud2lkdGg7XG4gICAgdmFyIGV4dGVuZEhlaWdodCA9IHVwZGF0ZUl0ZW0ucG9zaXRpb24ueSArIHVwZGF0ZUl0ZW0uaGVpZ2h0IC0gcGFyZW50LmhlaWdodDtcblxuICAgIGlmIChleHRlbmRXaWR0aCA+IDAgfHwgZXh0ZW5kSGVpZ2h0ID4gMCB8fCB1cGRhdGVJdGVtLnBvc2l0aW9uLnggPCAwIHx8IHVwZGF0ZUl0ZW0ucG9zaXRpb24ueSA8IDApIHtcbiAgICAgIHZhciBfcGFyZW50JHN0eWxlJHdpZHRoLCBfcGFyZW50JHN0eWxlJGhlaWdodDtcblxuICAgICAgcGFyZW50LnN0eWxlID0gX29iamVjdFNwcmVhZCQ0KHt9LCBwYXJlbnQuc3R5bGUpIHx8IHt9O1xuICAgICAgcGFyZW50LnN0eWxlLndpZHRoID0gKF9wYXJlbnQkc3R5bGUkd2lkdGggPSBwYXJlbnQuc3R5bGUud2lkdGgpICE9PSBudWxsICYmIF9wYXJlbnQkc3R5bGUkd2lkdGggIT09IHZvaWQgMCA/IF9wYXJlbnQkc3R5bGUkd2lkdGggOiBwYXJlbnQud2lkdGg7XG4gICAgICBwYXJlbnQuc3R5bGUuaGVpZ2h0ID0gKF9wYXJlbnQkc3R5bGUkaGVpZ2h0ID0gcGFyZW50LnN0eWxlLmhlaWdodCkgIT09IG51bGwgJiYgX3BhcmVudCRzdHlsZSRoZWlnaHQgIT09IHZvaWQgMCA/IF9wYXJlbnQkc3R5bGUkaGVpZ2h0IDogcGFyZW50LmhlaWdodDtcblxuICAgICAgaWYgKGV4dGVuZFdpZHRoID4gMCkge1xuICAgICAgICBwYXJlbnQuc3R5bGUud2lkdGggKz0gZXh0ZW5kV2lkdGg7XG4gICAgICB9XG5cbiAgICAgIGlmIChleHRlbmRIZWlnaHQgPiAwKSB7XG4gICAgICAgIHBhcmVudC5zdHlsZS5oZWlnaHQgKz0gZXh0ZW5kSGVpZ2h0O1xuICAgICAgfVxuXG4gICAgICBpZiAodXBkYXRlSXRlbS5wb3NpdGlvbi54IDwgMCkge1xuICAgICAgICB2YXIgeERpZmYgPSBNYXRoLmFicyh1cGRhdGVJdGVtLnBvc2l0aW9uLngpO1xuICAgICAgICBwYXJlbnQucG9zaXRpb24ueCA9IHBhcmVudC5wb3NpdGlvbi54IC0geERpZmY7XG4gICAgICAgIHBhcmVudC5zdHlsZS53aWR0aCArPSB4RGlmZjtcbiAgICAgICAgdXBkYXRlSXRlbS5wb3NpdGlvbi54ID0gMDtcbiAgICAgIH1cblxuICAgICAgaWYgKHVwZGF0ZUl0ZW0ucG9zaXRpb24ueSA8IDApIHtcbiAgICAgICAgdmFyIHlEaWZmID0gTWF0aC5hYnModXBkYXRlSXRlbS5wb3NpdGlvbi55KTtcbiAgICAgICAgcGFyZW50LnBvc2l0aW9uLnkgPSBwYXJlbnQucG9zaXRpb24ueSAtIHlEaWZmO1xuICAgICAgICBwYXJlbnQuc3R5bGUuaGVpZ2h0ICs9IHlEaWZmO1xuICAgICAgICB1cGRhdGVJdGVtLnBvc2l0aW9uLnkgPSAwO1xuICAgICAgfVxuXG4gICAgICBwYXJlbnQud2lkdGggPSBwYXJlbnQuc3R5bGUud2lkdGg7XG4gICAgICBwYXJlbnQuaGVpZ2h0ID0gcGFyZW50LnN0eWxlLmhlaWdodDtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlDaGFuZ2VzKGNoYW5nZXMsIGVsZW1lbnRzKSB7XG4gIC8vIHdlIG5lZWQgdGhpcyBoYWNrIHRvIGhhbmRsZSB0aGUgc2V0Tm9kZXMgYW5kIHNldEVkZ2VzIGZ1bmN0aW9uIG9mIHRoZSB1c2VSZWFjdEZsb3cgaG9vayBmb3IgY29udHJvbGxlZCBmbG93c1xuICBpZiAoY2hhbmdlcy5zb21lKGZ1bmN0aW9uIChjKSB7XG4gICAgcmV0dXJuIGMudHlwZSA9PT0gJ3Jlc2V0JztcbiAgfSkpIHtcbiAgICByZXR1cm4gY2hhbmdlcy5maWx0ZXIoZnVuY3Rpb24gKGMpIHtcbiAgICAgIHJldHVybiBjLnR5cGUgPT09ICdyZXNldCc7XG4gICAgfSkubWFwKGZ1bmN0aW9uIChjKSB7XG4gICAgICByZXR1cm4gYy5pdGVtO1xuICAgIH0pO1xuICB9XG5cbiAgdmFyIGluaXRFbGVtZW50cyA9IGNoYW5nZXMuZmlsdGVyKGZ1bmN0aW9uIChjKSB7XG4gICAgcmV0dXJuIGMudHlwZSA9PT0gJ2FkZCc7XG4gIH0pLm1hcChmdW5jdGlvbiAoYykge1xuICAgIHJldHVybiBjLml0ZW07XG4gIH0pO1xuICByZXR1cm4gZWxlbWVudHMucmVkdWNlKGZ1bmN0aW9uIChyZXMsIGl0ZW0pIHtcbiAgICB2YXIgY3VycmVudENoYW5nZSA9IGNoYW5nZXMuZmluZChmdW5jdGlvbiAoYykge1xuICAgICAgcmV0dXJuIGMuaWQgPT09IGl0ZW0uaWQ7XG4gICAgfSk7XG5cbiAgICBpZiAoY3VycmVudENoYW5nZSkge1xuICAgICAgc3dpdGNoIChjdXJyZW50Q2hhbmdlLnR5cGUpIHtcbiAgICAgICAgY2FzZSAnc2VsZWN0JzpcbiAgICAgICAgICB7XG4gICAgICAgICAgICByZXMucHVzaChfb2JqZWN0U3ByZWFkJDQoX29iamVjdFNwcmVhZCQ0KHt9LCBpdGVtKSwge30sIHtcbiAgICAgICAgICAgICAgc2VsZWN0ZWQ6IGN1cnJlbnRDaGFuZ2Uuc2VsZWN0ZWRcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgJ3Bvc2l0aW9uJzpcbiAgICAgICAgICB7XG4gICAgICAgICAgICB2YXIgdXBkYXRlSXRlbSA9IF9vYmplY3RTcHJlYWQkNCh7fSwgaXRlbSk7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY3VycmVudENoYW5nZS5wb3NpdGlvbiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgdXBkYXRlSXRlbS5wb3NpdGlvbiA9IGN1cnJlbnRDaGFuZ2UucG9zaXRpb247XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY3VycmVudENoYW5nZS5wb3NpdGlvbkFic29sdXRlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICB1cGRhdGVJdGVtLnBvc2l0aW9uQWJzb2x1dGUgPSBjdXJyZW50Q2hhbmdlLnBvc2l0aW9uQWJzb2x1dGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY3VycmVudENoYW5nZS5kcmFnZ2luZyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgdXBkYXRlSXRlbS5kcmFnZ2luZyA9IGN1cnJlbnRDaGFuZ2UuZHJhZ2dpbmc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh1cGRhdGVJdGVtLmV4cGFuZFBhcmVudCkge1xuICAgICAgICAgICAgICBoYW5kbGVQYXJlbnRFeHBhbmQocmVzLCB1cGRhdGVJdGVtKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVzLnB1c2godXBkYXRlSXRlbSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgIH1cblxuICAgICAgICBjYXNlICdkaW1lbnNpb25zJzpcbiAgICAgICAgICB7XG4gICAgICAgICAgICB2YXIgX3VwZGF0ZUl0ZW0gPSBfb2JqZWN0U3ByZWFkJDQoe30sIGl0ZW0pO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGN1cnJlbnRDaGFuZ2UuZGltZW5zaW9ucyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgX3VwZGF0ZUl0ZW0ud2lkdGggPSBjdXJyZW50Q2hhbmdlLmRpbWVuc2lvbnMud2lkdGg7XG4gICAgICAgICAgICAgIF91cGRhdGVJdGVtLmhlaWdodCA9IGN1cnJlbnRDaGFuZ2UuZGltZW5zaW9ucy5oZWlnaHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChfdXBkYXRlSXRlbS5leHBhbmRQYXJlbnQpIHtcbiAgICAgICAgICAgICAgaGFuZGxlUGFyZW50RXhwYW5kKHJlcywgX3VwZGF0ZUl0ZW0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXMucHVzaChfdXBkYXRlSXRlbSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgIH1cblxuICAgICAgICBjYXNlICdyZW1vdmUnOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJlcy5wdXNoKGl0ZW0pO1xuICAgIHJldHVybiByZXM7XG4gIH0sIGluaXRFbGVtZW50cyk7XG59XG5cbmZ1bmN0aW9uIGFwcGx5Tm9kZUNoYW5nZXMoY2hhbmdlcywgbm9kZXMpIHtcbiAgcmV0dXJuIGFwcGx5Q2hhbmdlcyhjaGFuZ2VzLCBub2Rlcyk7XG59XG5mdW5jdGlvbiBhcHBseUVkZ2VDaGFuZ2VzKGNoYW5nZXMsIGVkZ2VzKSB7XG4gIHJldHVybiBhcHBseUNoYW5nZXMoY2hhbmdlcywgZWRnZXMpO1xufVxudmFyIGNyZWF0ZVNlbGVjdGlvbkNoYW5nZSA9IGZ1bmN0aW9uIGNyZWF0ZVNlbGVjdGlvbkNoYW5nZShpZCwgc2VsZWN0ZWQpIHtcbiAgcmV0dXJuIHtcbiAgICBpZDogaWQsXG4gICAgdHlwZTogJ3NlbGVjdCcsXG4gICAgc2VsZWN0ZWQ6IHNlbGVjdGVkXG4gIH07XG59O1xuZnVuY3Rpb24gZ2V0U2VsZWN0aW9uQ2hhbmdlcyhpdGVtcywgc2VsZWN0ZWRJZHMpIHtcbiAgcmV0dXJuIGl0ZW1zLnJlZHVjZShmdW5jdGlvbiAocmVzLCBpdGVtKSB7XG4gICAgdmFyIHdpbGxCZVNlbGVjdGVkID0gc2VsZWN0ZWRJZHMuaW5jbHVkZXMoaXRlbS5pZCk7XG5cbiAgICBpZiAoIWl0ZW0uc2VsZWN0ZWQgJiYgd2lsbEJlU2VsZWN0ZWQpIHtcbiAgICAgIGl0ZW0uc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgcmVzLnB1c2goY3JlYXRlU2VsZWN0aW9uQ2hhbmdlKGl0ZW0uaWQsIHRydWUpKTtcbiAgICB9IGVsc2UgaWYgKGl0ZW0uc2VsZWN0ZWQgJiYgIXdpbGxCZVNlbGVjdGVkKSB7XG4gICAgICBpdGVtLnNlbGVjdGVkID0gZmFsc2U7XG4gICAgICByZXMucHVzaChjcmVhdGVTZWxlY3Rpb25DaGFuZ2UoaXRlbS5pZCwgZmFsc2UpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzO1xuICB9LCBbXSk7XG59XG5cbmZ1bmN0aW9uIG93bktleXMkMyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGVudW1lcmFibGVPbmx5ICYmIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSkpLCBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCQzKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gbnVsbCAhPSBhcmd1bWVudHNbaV0gPyBhcmd1bWVudHNbaV0gOiB7fTsgaSAlIDIgPyBvd25LZXlzJDMoT2JqZWN0KHNvdXJjZSksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpIDogb3duS2V5cyQzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cbnZhciBnZXRIYW5kbGVCb3VuZHMgPSBmdW5jdGlvbiBnZXRIYW5kbGVCb3VuZHMoc2VsZWN0b3IsIG5vZGVFbGVtZW50LCB6b29tKSB7XG4gIHZhciBoYW5kbGVzID0gbm9kZUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG5cbiAgaWYgKCFoYW5kbGVzIHx8ICFoYW5kbGVzLmxlbmd0aCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIGhhbmRsZXNBcnJheSA9IEFycmF5LmZyb20oaGFuZGxlcyk7XG4gIHZhciBub2RlQm91bmRzID0gbm9kZUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIHJldHVybiBoYW5kbGVzQXJyYXkubWFwKGZ1bmN0aW9uIChoYW5kbGUpIHtcbiAgICB2YXIgaGFuZGxlQm91bmRzID0gaGFuZGxlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHJldHVybiBfb2JqZWN0U3ByZWFkJDMoe1xuICAgICAgaWQ6IGhhbmRsZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtaGFuZGxlaWQnKSxcbiAgICAgIHBvc2l0aW9uOiBoYW5kbGUuZ2V0QXR0cmlidXRlKCdkYXRhLWhhbmRsZXBvcycpLFxuICAgICAgeDogKGhhbmRsZUJvdW5kcy5sZWZ0IC0gbm9kZUJvdW5kcy5sZWZ0KSAvIHpvb20sXG4gICAgICB5OiAoaGFuZGxlQm91bmRzLnRvcCAtIG5vZGVCb3VuZHMudG9wKSAvIHpvb21cbiAgICB9LCBnZXREaW1lbnNpb25zKGhhbmRsZSkpO1xuICB9KTtcbn07XG5mdW5jdGlvbiBnZXRNb3VzZUhhbmRsZXIoaWQsIGdldFN0YXRlLCBoYW5kbGVyKSB7XG4gIHJldHVybiBoYW5kbGVyID09PSB1bmRlZmluZWQgPyBoYW5kbGVyIDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgdmFyIG5vZGUgPSBnZXRTdGF0ZSgpLm5vZGVJbnRlcm5hbHMuZ2V0KGlkKTtcbiAgICBoYW5kbGVyKGV2ZW50LCBfb2JqZWN0U3ByZWFkJDMoe30sIG5vZGUpKTtcbiAgfTtcbn0gLy8gdGhpcyBoYW5kbGVyIGlzIGNhbGxlZCBieVxuLy8gMS4gdGhlIGNsaWNrIGhhbmRsZXIgd2hlbiBub2RlIGlzIG5vdCBkcmFnZ2FibGUgb3Igc2VsZWN0Tm9kZXNPbkRyYWcgPSBmYWxzZVxuLy8gb3Jcbi8vIDIuIHRoZSBvbiBkcmFnIHN0YXJ0IGhhbmRsZXIgd2hlbiBub2RlIGlzIGRyYWdnYWJsZSBhbmQgc2VsZWN0Tm9kZXNPbkRyYWcgPSB0cnVlXG5cbmZ1bmN0aW9uIGhhbmRsZU5vZGVDbGljayhfcmVmKSB7XG4gIHZhciBpZCA9IF9yZWYuaWQsXG4gICAgICBzdG9yZSA9IF9yZWYuc3RvcmU7XG5cbiAgdmFyIF9zdG9yZSRnZXRTdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCksXG4gICAgICBhZGRTZWxlY3RlZE5vZGVzID0gX3N0b3JlJGdldFN0YXRlLmFkZFNlbGVjdGVkTm9kZXMsXG4gICAgICB1bnNlbGVjdE5vZGVzQW5kRWRnZXMgPSBfc3RvcmUkZ2V0U3RhdGUudW5zZWxlY3ROb2Rlc0FuZEVkZ2VzLFxuICAgICAgbXVsdGlTZWxlY3Rpb25BY3RpdmUgPSBfc3RvcmUkZ2V0U3RhdGUubXVsdGlTZWxlY3Rpb25BY3RpdmUsXG4gICAgICBub2RlSW50ZXJuYWxzID0gX3N0b3JlJGdldFN0YXRlLm5vZGVJbnRlcm5hbHM7XG5cbiAgdmFyIG5vZGUgPSBub2RlSW50ZXJuYWxzLmdldChpZCk7XG4gIHN0b3JlLnNldFN0YXRlKHtcbiAgICBub2Rlc1NlbGVjdGlvbkFjdGl2ZTogZmFsc2VcbiAgfSk7XG5cbiAgaWYgKCFub2RlLnNlbGVjdGVkKSB7XG4gICAgYWRkU2VsZWN0ZWROb2RlcyhbaWRdKTtcbiAgfSBlbHNlIGlmIChub2RlLnNlbGVjdGVkICYmIG11bHRpU2VsZWN0aW9uQWN0aXZlKSB7XG4gICAgdW5zZWxlY3ROb2Rlc0FuZEVkZ2VzKHtcbiAgICAgIG5vZGVzOiBbbm9kZV1cbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBvd25LZXlzJDIob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBlbnVtZXJhYmxlT25seSAmJiAoc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pKSwga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQkMih0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IG51bGwgIT0gYXJndW1lbnRzW2ldID8gYXJndW1lbnRzW2ldIDoge307IGkgJSAyID8gb3duS2V5cyQyKE9iamVjdChzb3VyY2UpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKSA6IG93bktleXMkMihPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XG52YXIgaXNFZGdlID0gZnVuY3Rpb24gaXNFZGdlKGVsZW1lbnQpIHtcbiAgcmV0dXJuICdpZCcgaW4gZWxlbWVudCAmJiAnc291cmNlJyBpbiBlbGVtZW50ICYmICd0YXJnZXQnIGluIGVsZW1lbnQ7XG59O1xudmFyIGlzTm9kZSA9IGZ1bmN0aW9uIGlzTm9kZShlbGVtZW50KSB7XG4gIHJldHVybiAnaWQnIGluIGVsZW1lbnQgJiYgISgnc291cmNlJyBpbiBlbGVtZW50KSAmJiAhKCd0YXJnZXQnIGluIGVsZW1lbnQpO1xufTtcbnZhciBnZXRPdXRnb2VycyA9IGZ1bmN0aW9uIGdldE91dGdvZXJzKG5vZGUsIG5vZGVzLCBlZGdlcykge1xuICBpZiAoIWlzTm9kZShub2RlKSkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIHZhciBvdXRnb2VySWRzID0gZWRnZXMuZmlsdGVyKGZ1bmN0aW9uIChlKSB7XG4gICAgcmV0dXJuIGUuc291cmNlID09PSBub2RlLmlkO1xuICB9KS5tYXAoZnVuY3Rpb24gKGUpIHtcbiAgICByZXR1cm4gZS50YXJnZXQ7XG4gIH0pO1xuICByZXR1cm4gbm9kZXMuZmlsdGVyKGZ1bmN0aW9uIChuKSB7XG4gICAgcmV0dXJuIG91dGdvZXJJZHMuaW5jbHVkZXMobi5pZCk7XG4gIH0pO1xufTtcbnZhciBnZXRJbmNvbWVycyA9IGZ1bmN0aW9uIGdldEluY29tZXJzKG5vZGUsIG5vZGVzLCBlZGdlcykge1xuICBpZiAoIWlzTm9kZShub2RlKSkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIHZhciBpbmNvbWVyc0lkcyA9IGVkZ2VzLmZpbHRlcihmdW5jdGlvbiAoZSkge1xuICAgIHJldHVybiBlLnRhcmdldCA9PT0gbm9kZS5pZDtcbiAgfSkubWFwKGZ1bmN0aW9uIChlKSB7XG4gICAgcmV0dXJuIGUuc291cmNlO1xuICB9KTtcbiAgcmV0dXJuIG5vZGVzLmZpbHRlcihmdW5jdGlvbiAobikge1xuICAgIHJldHVybiBpbmNvbWVyc0lkcy5pbmNsdWRlcyhuLmlkKTtcbiAgfSk7XG59O1xuXG52YXIgZ2V0RWRnZUlkID0gZnVuY3Rpb24gZ2V0RWRnZUlkKF9yZWYpIHtcbiAgdmFyIHNvdXJjZSA9IF9yZWYuc291cmNlLFxuICAgICAgc291cmNlSGFuZGxlID0gX3JlZi5zb3VyY2VIYW5kbGUsXG4gICAgICB0YXJnZXQgPSBfcmVmLnRhcmdldCxcbiAgICAgIHRhcmdldEhhbmRsZSA9IF9yZWYudGFyZ2V0SGFuZGxlO1xuICByZXR1cm4gXCJyZWFjdGZsb3dfX2VkZ2UtXCIuY29uY2F0KHNvdXJjZSkuY29uY2F0KHNvdXJjZUhhbmRsZSB8fCAnJywgXCItXCIpLmNvbmNhdCh0YXJnZXQpLmNvbmNhdCh0YXJnZXRIYW5kbGUgfHwgJycpO1xufTtcblxudmFyIGdldE1hcmtlcklkID0gZnVuY3Rpb24gZ2V0TWFya2VySWQobWFya2VyLCByZklkKSB7XG4gIGlmICh0eXBlb2YgbWFya2VyID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIGlmICh0eXBlb2YgbWFya2VyID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBtYXJrZXI7XG4gIH1cblxuICB2YXIgaWRQcmVmaXggPSByZklkID8gXCJcIi5jb25jYXQocmZJZCwgXCJfX1wiKSA6ICcnO1xuICByZXR1cm4gXCJcIi5jb25jYXQoaWRQcmVmaXgpLmNvbmNhdChPYmplY3Qua2V5cyhtYXJrZXIpLnNvcnQoKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiBcIlwiLmNvbmNhdChrZXksIFwiPVwiKS5jb25jYXQobWFya2VyW2tleV0pO1xuICB9KS5qb2luKCcmJykpO1xufTtcblxudmFyIGNvbm5lY3Rpb25FeGlzdHMgPSBmdW5jdGlvbiBjb25uZWN0aW9uRXhpc3RzKGVkZ2UsIGVkZ2VzKSB7XG4gIHJldHVybiBlZGdlcy5zb21lKGZ1bmN0aW9uIChlbCkge1xuICAgIHJldHVybiBlbC5zb3VyY2UgPT09IGVkZ2Uuc291cmNlICYmIGVsLnRhcmdldCA9PT0gZWRnZS50YXJnZXQgJiYgKGVsLnNvdXJjZUhhbmRsZSA9PT0gZWRnZS5zb3VyY2VIYW5kbGUgfHwgIWVsLnNvdXJjZUhhbmRsZSAmJiAhZWRnZS5zb3VyY2VIYW5kbGUpICYmIChlbC50YXJnZXRIYW5kbGUgPT09IGVkZ2UudGFyZ2V0SGFuZGxlIHx8ICFlbC50YXJnZXRIYW5kbGUgJiYgIWVkZ2UudGFyZ2V0SGFuZGxlKTtcbiAgfSk7XG59O1xuXG52YXIgYWRkRWRnZSA9IGZ1bmN0aW9uIGFkZEVkZ2UoZWRnZVBhcmFtcywgZWRnZXMpIHtcbiAgaWYgKCFlZGdlUGFyYW1zLnNvdXJjZSB8fCAhZWRnZVBhcmFtcy50YXJnZXQpIHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJbUmVhY3QgRmxvd106IENhbid0IGNyZWF0ZSBlZGdlLiBBbiBlZGdlIG5lZWRzIGEgc291cmNlIGFuZCBhIHRhcmdldC4gSGVscDogaHR0cHM6Ly9yZWFjdGZsb3cuZGV2L2Vycm9yIzYwMFwiKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZWRnZXM7XG4gIH1cblxuICB2YXIgZWRnZTtcblxuICBpZiAoaXNFZGdlKGVkZ2VQYXJhbXMpKSB7XG4gICAgZWRnZSA9IF9vYmplY3RTcHJlYWQkMih7fSwgZWRnZVBhcmFtcyk7XG4gIH0gZWxzZSB7XG4gICAgZWRnZSA9IF9vYmplY3RTcHJlYWQkMihfb2JqZWN0U3ByZWFkJDIoe30sIGVkZ2VQYXJhbXMpLCB7fSwge1xuICAgICAgaWQ6IGdldEVkZ2VJZChlZGdlUGFyYW1zKVxuICAgIH0pO1xuICB9XG5cbiAgaWYgKGNvbm5lY3Rpb25FeGlzdHMoZWRnZSwgZWRnZXMpKSB7XG4gICAgcmV0dXJuIGVkZ2VzO1xuICB9XG5cbiAgcmV0dXJuIGVkZ2VzLmNvbmNhdChlZGdlKTtcbn07XG52YXIgdXBkYXRlRWRnZSA9IGZ1bmN0aW9uIHVwZGF0ZUVkZ2Uob2xkRWRnZSwgbmV3Q29ubmVjdGlvbiwgZWRnZXMpIHtcbiAgaWYgKCFuZXdDb25uZWN0aW9uLnNvdXJjZSB8fCAhbmV3Q29ubmVjdGlvbi50YXJnZXQpIHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJbUmVhY3QgRmxvd106IENhbid0IGNyZWF0ZSBhIG5ldyBlZGdlLiBBbiBlZGdlIG5lZWRzIGEgc291cmNlIGFuZCBhIHRhcmdldC4gSGVscDogaHR0cHM6Ly9yZWFjdGZsb3cuZGV2L2Vycm9yIzYwMFwiKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZWRnZXM7XG4gIH1cblxuICB2YXIgZm91bmRFZGdlID0gZWRnZXMuZmluZChmdW5jdGlvbiAoZSkge1xuICAgIHJldHVybiBlLmlkID09PSBvbGRFZGdlLmlkO1xuICB9KTtcblxuICBpZiAoIWZvdW5kRWRnZSkge1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIltSZWFjdCBGbG93XTogVGhlIG9sZCBlZGdlIHdpdGggaWQ9XCIuY29uY2F0KG9sZEVkZ2UuaWQsIFwiIGRvZXMgbm90IGV4aXN0LiBIZWxwOiBodHRwczovL3JlYWN0Zmxvdy5kZXYvZXJyb3IjNzAwXCIpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZWRnZXM7XG4gIH0gLy8gUmVtb3ZlIG9sZCBlZGdlIGFuZCBjcmVhdGUgdGhlIG5ldyBlZGdlIHdpdGggcGFyYW1ldGVycyBvZiBvbGQgZWRnZS5cblxuXG4gIHZhciBlZGdlID0gX29iamVjdFNwcmVhZCQyKF9vYmplY3RTcHJlYWQkMih7fSwgb2xkRWRnZSksIHt9LCB7XG4gICAgaWQ6IGdldEVkZ2VJZChuZXdDb25uZWN0aW9uKSxcbiAgICBzb3VyY2U6IG5ld0Nvbm5lY3Rpb24uc291cmNlLFxuICAgIHRhcmdldDogbmV3Q29ubmVjdGlvbi50YXJnZXQsXG4gICAgc291cmNlSGFuZGxlOiBuZXdDb25uZWN0aW9uLnNvdXJjZUhhbmRsZSxcbiAgICB0YXJnZXRIYW5kbGU6IG5ld0Nvbm5lY3Rpb24udGFyZ2V0SGFuZGxlXG4gIH0pO1xuXG4gIHJldHVybiBlZGdlcy5maWx0ZXIoZnVuY3Rpb24gKGUpIHtcbiAgICByZXR1cm4gZS5pZCAhPT0gb2xkRWRnZS5pZDtcbiAgfSkuY29uY2F0KGVkZ2UpO1xufTtcbnZhciBwb2ludFRvUmVuZGVyZXJQb2ludCA9IGZ1bmN0aW9uIHBvaW50VG9SZW5kZXJlclBvaW50KF9yZWYyLCBfcmVmMywgc25hcFRvR3JpZCwgX3JlZjQpIHtcbiAgdmFyIHggPSBfcmVmMi54LFxuICAgICAgeSA9IF9yZWYyLnk7XG5cbiAgdmFyIF9yZWY1ID0gX3NsaWNlZFRvQXJyYXkoX3JlZjMsIDMpLFxuICAgICAgdHggPSBfcmVmNVswXSxcbiAgICAgIHR5ID0gX3JlZjVbMV0sXG4gICAgICB0U2NhbGUgPSBfcmVmNVsyXTtcblxuICB2YXIgX3JlZjYgPSBfc2xpY2VkVG9BcnJheShfcmVmNCwgMiksXG4gICAgICBzbmFwWCA9IF9yZWY2WzBdLFxuICAgICAgc25hcFkgPSBfcmVmNlsxXTtcblxuICB2YXIgcG9zaXRpb24gPSB7XG4gICAgeDogKHggLSB0eCkgLyB0U2NhbGUsXG4gICAgeTogKHkgLSB0eSkgLyB0U2NhbGVcbiAgfTtcblxuICBpZiAoc25hcFRvR3JpZCkge1xuICAgIHJldHVybiB7XG4gICAgICB4OiBzbmFwWCAqIE1hdGgucm91bmQocG9zaXRpb24ueCAvIHNuYXBYKSxcbiAgICAgIHk6IHNuYXBZICogTWF0aC5yb3VuZChwb3NpdGlvbi55IC8gc25hcFkpXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBwb3NpdGlvbjtcbn07XG52YXIgZ2V0UmVjdE9mTm9kZXMgPSBmdW5jdGlvbiBnZXRSZWN0T2ZOb2Rlcyhub2Rlcykge1xuICBpZiAobm9kZXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwLFxuICAgICAgd2lkdGg6IDAsXG4gICAgICBoZWlnaHQ6IDBcbiAgICB9O1xuICB9XG5cbiAgdmFyIGJveCA9IG5vZGVzLnJlZHVjZShmdW5jdGlvbiAoY3VyckJveCwgX3JlZjcpIHtcbiAgICB2YXIgcG9zaXRpb25BYnNvbHV0ZSA9IF9yZWY3LnBvc2l0aW9uQWJzb2x1dGUsXG4gICAgICAgIHBvc2l0aW9uID0gX3JlZjcucG9zaXRpb24sXG4gICAgICAgIHdpZHRoID0gX3JlZjcud2lkdGgsXG4gICAgICAgIGhlaWdodCA9IF9yZWY3LmhlaWdodDtcbiAgICByZXR1cm4gZ2V0Qm91bmRzT2ZCb3hlcyhjdXJyQm94LCByZWN0VG9Cb3goe1xuICAgICAgeDogcG9zaXRpb25BYnNvbHV0ZSA/IHBvc2l0aW9uQWJzb2x1dGUueCA6IHBvc2l0aW9uLngsXG4gICAgICB5OiBwb3NpdGlvbkFic29sdXRlID8gcG9zaXRpb25BYnNvbHV0ZS55IDogcG9zaXRpb24ueSxcbiAgICAgIHdpZHRoOiB3aWR0aCB8fCAwLFxuICAgICAgaGVpZ2h0OiBoZWlnaHQgfHwgMFxuICAgIH0pKTtcbiAgfSwge1xuICAgIHg6IEluZmluaXR5LFxuICAgIHk6IEluZmluaXR5LFxuICAgIHgyOiAtSW5maW5pdHksXG4gICAgeTI6IC1JbmZpbml0eVxuICB9KTtcbiAgcmV0dXJuIGJveFRvUmVjdChib3gpO1xufTtcbnZhciBnZXROb2Rlc0luc2lkZSA9IGZ1bmN0aW9uIGdldE5vZGVzSW5zaWRlKG5vZGVJbnRlcm5hbHMsIHJlY3QpIHtcbiAgdmFyIF9yZWY4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBbMCwgMCwgMV0sXG4gICAgICBfcmVmOSA9IF9zbGljZWRUb0FycmF5KF9yZWY4LCAzKSxcbiAgICAgIHR4ID0gX3JlZjlbMF0sXG4gICAgICB0eSA9IF9yZWY5WzFdLFxuICAgICAgdFNjYWxlID0gX3JlZjlbMl07XG5cbiAgdmFyIHBhcnRpYWxseSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogZmFsc2U7XG4gIHZhciBleGNsdWRlTm9uU2VsZWN0YWJsZU5vZGVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiBmYWxzZTtcbiAgdmFyIHJCb3ggPSByZWN0VG9Cb3goe1xuICAgIHg6IChyZWN0LnggLSB0eCkgLyB0U2NhbGUsXG4gICAgeTogKHJlY3QueSAtIHR5KSAvIHRTY2FsZSxcbiAgICB3aWR0aDogcmVjdC53aWR0aCAvIHRTY2FsZSxcbiAgICBoZWlnaHQ6IHJlY3QuaGVpZ2h0IC8gdFNjYWxlXG4gIH0pO1xuICB2YXIgdmlzaWJsZU5vZGVzID0gW107XG4gIG5vZGVJbnRlcm5hbHMuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkge1xuICAgIHZhciBwb3NpdGlvbkFic29sdXRlID0gbm9kZS5wb3NpdGlvbkFic29sdXRlLFxuICAgICAgICB3aWR0aCA9IG5vZGUud2lkdGgsXG4gICAgICAgIGhlaWdodCA9IG5vZGUuaGVpZ2h0LFxuICAgICAgICBfbm9kZSRzZWxlY3RhYmxlID0gbm9kZS5zZWxlY3RhYmxlLFxuICAgICAgICBzZWxlY3RhYmxlID0gX25vZGUkc2VsZWN0YWJsZSA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9ub2RlJHNlbGVjdGFibGU7XG5cbiAgICBpZiAoZXhjbHVkZU5vblNlbGVjdGFibGVOb2RlcyAmJiAhc2VsZWN0YWJsZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBuQm94ID0gcmVjdFRvQm94KF9vYmplY3RTcHJlYWQkMihfb2JqZWN0U3ByZWFkJDIoe30sIHBvc2l0aW9uQWJzb2x1dGUpLCB7fSwge1xuICAgICAgd2lkdGg6IHdpZHRoIHx8IDAsXG4gICAgICBoZWlnaHQ6IGhlaWdodCB8fCAwXG4gICAgfSkpO1xuICAgIHZhciB4T3ZlcmxhcCA9IE1hdGgubWF4KDAsIE1hdGgubWluKHJCb3gueDIsIG5Cb3gueDIpIC0gTWF0aC5tYXgockJveC54LCBuQm94LngpKTtcbiAgICB2YXIgeU92ZXJsYXAgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihyQm94LnkyLCBuQm94LnkyKSAtIE1hdGgubWF4KHJCb3gueSwgbkJveC55KSk7XG4gICAgdmFyIG92ZXJsYXBwaW5nQXJlYSA9IE1hdGguY2VpbCh4T3ZlcmxhcCAqIHlPdmVybGFwKTtcbiAgICB2YXIgbm90SW5pdGlhbGl6ZWQgPSB0eXBlb2Ygd2lkdGggPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiBoZWlnaHQgPT09ICd1bmRlZmluZWQnIHx8IHdpZHRoID09PSBudWxsIHx8IGhlaWdodCA9PT0gbnVsbDtcbiAgICB2YXIgcGFydGlhbGx5VmlzaWJsZSA9IHBhcnRpYWxseSAmJiBvdmVybGFwcGluZ0FyZWEgPiAwO1xuICAgIHZhciBhcmVhID0gKHdpZHRoIHx8IDApICogKGhlaWdodCB8fCAwKTtcbiAgICB2YXIgaXNWaXNpYmxlID0gbm90SW5pdGlhbGl6ZWQgfHwgcGFydGlhbGx5VmlzaWJsZSB8fCBvdmVybGFwcGluZ0FyZWEgPj0gYXJlYTtcblxuICAgIGlmIChpc1Zpc2libGUpIHtcbiAgICAgIHZpc2libGVOb2Rlcy5wdXNoKG5vZGUpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiB2aXNpYmxlTm9kZXM7XG59O1xudmFyIGdldENvbm5lY3RlZEVkZ2VzID0gZnVuY3Rpb24gZ2V0Q29ubmVjdGVkRWRnZXMobm9kZXMsIGVkZ2VzKSB7XG4gIHZhciBub2RlSWRzID0gbm9kZXMubWFwKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUuaWQ7XG4gIH0pO1xuICByZXR1cm4gZWRnZXMuZmlsdGVyKGZ1bmN0aW9uIChlZGdlKSB7XG4gICAgcmV0dXJuIG5vZGVJZHMuaW5jbHVkZXMoZWRnZS5zb3VyY2UpIHx8IG5vZGVJZHMuaW5jbHVkZXMoZWRnZS50YXJnZXQpO1xuICB9KTtcbn07XG52YXIgZ2V0VHJhbnNmb3JtRm9yQm91bmRzID0gZnVuY3Rpb24gZ2V0VHJhbnNmb3JtRm9yQm91bmRzKGJvdW5kcywgd2lkdGgsIGhlaWdodCwgbWluWm9vbSwgbWF4Wm9vbSkge1xuICB2YXIgcGFkZGluZyA9IGFyZ3VtZW50cy5sZW5ndGggPiA1ICYmIGFyZ3VtZW50c1s1XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzVdIDogMC4xO1xuICB2YXIgeFpvb20gPSB3aWR0aCAvIChib3VuZHMud2lkdGggKiAoMSArIHBhZGRpbmcpKTtcbiAgdmFyIHlab29tID0gaGVpZ2h0IC8gKGJvdW5kcy5oZWlnaHQgKiAoMSArIHBhZGRpbmcpKTtcbiAgdmFyIHpvb20gPSBNYXRoLm1pbih4Wm9vbSwgeVpvb20pO1xuICB2YXIgY2xhbXBlZFpvb20gPSBjbGFtcCh6b29tLCBtaW5ab29tLCBtYXhab29tKTtcbiAgdmFyIGJvdW5kc0NlbnRlclggPSBib3VuZHMueCArIGJvdW5kcy53aWR0aCAvIDI7XG4gIHZhciBib3VuZHNDZW50ZXJZID0gYm91bmRzLnkgKyBib3VuZHMuaGVpZ2h0IC8gMjtcbiAgdmFyIHggPSB3aWR0aCAvIDIgLSBib3VuZHNDZW50ZXJYICogY2xhbXBlZFpvb207XG4gIHZhciB5ID0gaGVpZ2h0IC8gMiAtIGJvdW5kc0NlbnRlclkgKiBjbGFtcGVkWm9vbTtcbiAgcmV0dXJuIFt4LCB5LCBjbGFtcGVkWm9vbV07XG59O1xudmFyIGdldEQzVHJhbnNpdGlvbiA9IGZ1bmN0aW9uIGdldEQzVHJhbnNpdGlvbihzZWxlY3Rpb24pIHtcbiAgdmFyIGR1cmF0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuICByZXR1cm4gc2VsZWN0aW9uLnRyYW5zaXRpb24oKS5kdXJhdGlvbihkdXJhdGlvbik7XG59O1xuXG5mdW5jdGlvbiBvd25LZXlzJDEob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBlbnVtZXJhYmxlT25seSAmJiAoc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pKSwga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQkMSh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IG51bGwgIT0gYXJndW1lbnRzW2ldID8gYXJndW1lbnRzW2ldIDoge307IGkgJSAyID8gb3duS2V5cyQxKE9iamVjdChzb3VyY2UpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKSA6IG93bktleXMkMShPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIGNhbGN1bGF0ZVhZWlBvc2l0aW9uKG5vZGUsIG5vZGVJbnRlcm5hbHMsIHBhcmVudE5vZGVzLCByZXN1bHQpIHtcbiAgdmFyIF9yZXN1bHQkeCwgX3BhcmVudE5vZGUkcG9zaXRpb24kLCBfcGFyZW50Tm9kZSRwb3NpdGlvbiwgX3Jlc3VsdCR5LCBfcGFyZW50Tm9kZSRwb3NpdGlvbiQyLCBfcGFyZW50Tm9kZSRwb3NpdGlvbjIsIF9wYXJlbnROb2RlJGludGVybmFscywgX3BhcmVudE5vZGUkaW50ZXJuYWxzMiwgX3Jlc3VsdCR6LCBfcGFyZW50Tm9kZSRpbnRlcm5hbHMzLCBfcGFyZW50Tm9kZSRpbnRlcm5hbHM0LCBfcmVzdWx0JHoyO1xuXG4gIGlmICghbm9kZS5wYXJlbnROb2RlKSB7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHZhciBwYXJlbnROb2RlID0gbm9kZUludGVybmFscy5nZXQobm9kZS5wYXJlbnROb2RlKTtcbiAgcmV0dXJuIGNhbGN1bGF0ZVhZWlBvc2l0aW9uKHBhcmVudE5vZGUsIG5vZGVJbnRlcm5hbHMsIHBhcmVudE5vZGVzLCB7XG4gICAgeDogKChfcmVzdWx0JHggPSByZXN1bHQueCkgIT09IG51bGwgJiYgX3Jlc3VsdCR4ICE9PSB2b2lkIDAgPyBfcmVzdWx0JHggOiAwKSArICgoX3BhcmVudE5vZGUkcG9zaXRpb24kID0gKF9wYXJlbnROb2RlJHBvc2l0aW9uID0gcGFyZW50Tm9kZS5wb3NpdGlvbikgPT09IG51bGwgfHwgX3BhcmVudE5vZGUkcG9zaXRpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9wYXJlbnROb2RlJHBvc2l0aW9uLngpICE9PSBudWxsICYmIF9wYXJlbnROb2RlJHBvc2l0aW9uJCAhPT0gdm9pZCAwID8gX3BhcmVudE5vZGUkcG9zaXRpb24kIDogMCksXG4gICAgeTogKChfcmVzdWx0JHkgPSByZXN1bHQueSkgIT09IG51bGwgJiYgX3Jlc3VsdCR5ICE9PSB2b2lkIDAgPyBfcmVzdWx0JHkgOiAwKSArICgoX3BhcmVudE5vZGUkcG9zaXRpb24kMiA9IChfcGFyZW50Tm9kZSRwb3NpdGlvbjIgPSBwYXJlbnROb2RlLnBvc2l0aW9uKSA9PT0gbnVsbCB8fCBfcGFyZW50Tm9kZSRwb3NpdGlvbjIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9wYXJlbnROb2RlJHBvc2l0aW9uMi55KSAhPT0gbnVsbCAmJiBfcGFyZW50Tm9kZSRwb3NpdGlvbiQyICE9PSB2b2lkIDAgPyBfcGFyZW50Tm9kZSRwb3NpdGlvbiQyIDogMCksXG4gICAgejogKChfcGFyZW50Tm9kZSRpbnRlcm5hbHMgPSAoX3BhcmVudE5vZGUkaW50ZXJuYWxzMiA9IHBhcmVudE5vZGVbaW50ZXJuYWxzU3ltYm9sXSkgPT09IG51bGwgfHwgX3BhcmVudE5vZGUkaW50ZXJuYWxzMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3BhcmVudE5vZGUkaW50ZXJuYWxzMi56KSAhPT0gbnVsbCAmJiBfcGFyZW50Tm9kZSRpbnRlcm5hbHMgIT09IHZvaWQgMCA/IF9wYXJlbnROb2RlJGludGVybmFscyA6IDApID4gKChfcmVzdWx0JHogPSByZXN1bHQueikgIT09IG51bGwgJiYgX3Jlc3VsdCR6ICE9PSB2b2lkIDAgPyBfcmVzdWx0JHogOiAwKSA/IChfcGFyZW50Tm9kZSRpbnRlcm5hbHMzID0gKF9wYXJlbnROb2RlJGludGVybmFsczQgPSBwYXJlbnROb2RlW2ludGVybmFsc1N5bWJvbF0pID09PSBudWxsIHx8IF9wYXJlbnROb2RlJGludGVybmFsczQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9wYXJlbnROb2RlJGludGVybmFsczQueikgIT09IG51bGwgJiYgX3BhcmVudE5vZGUkaW50ZXJuYWxzMyAhPT0gdm9pZCAwID8gX3BhcmVudE5vZGUkaW50ZXJuYWxzMyA6IDAgOiAoX3Jlc3VsdCR6MiA9IHJlc3VsdC56KSAhPT0gbnVsbCAmJiBfcmVzdWx0JHoyICE9PSB2b2lkIDAgPyBfcmVzdWx0JHoyIDogMFxuICB9KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTm9kZUludGVybmFscyhub2Rlcywgbm9kZUludGVybmFscykge1xuICB2YXIgbmV4dE5vZGVJbnRlcm5hbHMgPSBuZXcgTWFwKCk7XG4gIHZhciBwYXJlbnROb2RlcyA9IHt9O1xuICBub2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgdmFyIF9jdXJySW50ZXJuYWxzJGludGVybjtcblxuICAgIHZhciB6ID0gaXNOdW1lcmljKG5vZGUuekluZGV4KSA/IG5vZGUuekluZGV4IDogbm9kZS5zZWxlY3RlZCA/IDEwMDAgOiAwO1xuICAgIHZhciBjdXJySW50ZXJuYWxzID0gbm9kZUludGVybmFscy5nZXQobm9kZS5pZCk7XG5cbiAgICB2YXIgaW50ZXJuYWxzID0gX29iamVjdFNwcmVhZCQxKF9vYmplY3RTcHJlYWQkMSh7XG4gICAgICB3aWR0aDogY3VyckludGVybmFscyA9PT0gbnVsbCB8fCBjdXJySW50ZXJuYWxzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjdXJySW50ZXJuYWxzLndpZHRoLFxuICAgICAgaGVpZ2h0OiBjdXJySW50ZXJuYWxzID09PSBudWxsIHx8IGN1cnJJbnRlcm5hbHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGN1cnJJbnRlcm5hbHMuaGVpZ2h0XG4gICAgfSwgbm9kZSksIHt9LCB7XG4gICAgICBwb3NpdGlvbkFic29sdXRlOiB7XG4gICAgICAgIHg6IG5vZGUucG9zaXRpb24ueCxcbiAgICAgICAgeTogbm9kZS5wb3NpdGlvbi55XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAobm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICBpbnRlcm5hbHMucGFyZW50Tm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgIHBhcmVudE5vZGVzW25vZGUucGFyZW50Tm9kZV0gPSB0cnVlO1xuICAgIH1cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpbnRlcm5hbHMsIGludGVybmFsc1N5bWJvbCwge1xuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB2YWx1ZToge1xuICAgICAgICBoYW5kbGVCb3VuZHM6IGN1cnJJbnRlcm5hbHMgPT09IG51bGwgfHwgY3VyckludGVybmFscyA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9jdXJySW50ZXJuYWxzJGludGVybiA9IGN1cnJJbnRlcm5hbHNbaW50ZXJuYWxzU3ltYm9sXSkgPT09IG51bGwgfHwgX2N1cnJJbnRlcm5hbHMkaW50ZXJuID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfY3VyckludGVybmFscyRpbnRlcm4uaGFuZGxlQm91bmRzLFxuICAgICAgICB6OiB6XG4gICAgICB9XG4gICAgfSk7XG4gICAgbmV4dE5vZGVJbnRlcm5hbHMuc2V0KG5vZGUuaWQsIGludGVybmFscyk7XG4gIH0pO1xuICBuZXh0Tm9kZUludGVybmFscy5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgaWYgKG5vZGUucGFyZW50Tm9kZSAmJiAhbmV4dE5vZGVJbnRlcm5hbHMuaGFzKG5vZGUucGFyZW50Tm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlBhcmVudCBub2RlIFwiLmNvbmNhdChub2RlLnBhcmVudE5vZGUsIFwiIG5vdCBmb3VuZFwiKSk7XG4gICAgfVxuXG4gICAgaWYgKG5vZGUucGFyZW50Tm9kZSB8fCBwYXJlbnROb2Rlc1tub2RlLmlkXSkge1xuICAgICAgdmFyIF9ub2RlJGludGVybmFsc1N5bWJvbCwgX25vZGUkaW50ZXJuYWxzU3ltYm9sMjtcblxuICAgICAgdmFyIF9jYWxjdWxhdGVYWVpQb3NpdGlvbiA9IGNhbGN1bGF0ZVhZWlBvc2l0aW9uKG5vZGUsIG5leHROb2RlSW50ZXJuYWxzLCBwYXJlbnROb2RlcywgX29iamVjdFNwcmVhZCQxKF9vYmplY3RTcHJlYWQkMSh7fSwgbm9kZS5wb3NpdGlvbiksIHt9LCB7XG4gICAgICAgIHo6IChfbm9kZSRpbnRlcm5hbHNTeW1ib2wgPSAoX25vZGUkaW50ZXJuYWxzU3ltYm9sMiA9IG5vZGVbaW50ZXJuYWxzU3ltYm9sXSkgPT09IG51bGwgfHwgX25vZGUkaW50ZXJuYWxzU3ltYm9sMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX25vZGUkaW50ZXJuYWxzU3ltYm9sMi56KSAhPT0gbnVsbCAmJiBfbm9kZSRpbnRlcm5hbHNTeW1ib2wgIT09IHZvaWQgMCA/IF9ub2RlJGludGVybmFsc1N5bWJvbCA6IDBcbiAgICAgIH0pKSxcbiAgICAgICAgICB4ID0gX2NhbGN1bGF0ZVhZWlBvc2l0aW9uLngsXG4gICAgICAgICAgeSA9IF9jYWxjdWxhdGVYWVpQb3NpdGlvbi55LFxuICAgICAgICAgIHogPSBfY2FsY3VsYXRlWFlaUG9zaXRpb24uejtcblxuICAgICAgbm9kZS5wb3NpdGlvbkFic29sdXRlID0ge1xuICAgICAgICB4OiB4LFxuICAgICAgICB5OiB5XG4gICAgICB9O1xuICAgICAgbm9kZVtpbnRlcm5hbHNTeW1ib2xdLnogPSB6O1xuXG4gICAgICBpZiAocGFyZW50Tm9kZXNbbm9kZS5pZF0pIHtcbiAgICAgICAgbm9kZVtpbnRlcm5hbHNTeW1ib2xdLmlzUGFyZW50ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICByZXR1cm4gbmV4dE5vZGVJbnRlcm5hbHM7XG59XG5mdW5jdGlvbiBmaXRWaWV3KGdldCkge1xuICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cbiAgdmFyIF9nZXQgPSBnZXQoKSxcbiAgICAgIG5vZGVJbnRlcm5hbHMgPSBfZ2V0Lm5vZGVJbnRlcm5hbHMsXG4gICAgICB3aWR0aCA9IF9nZXQud2lkdGgsXG4gICAgICBoZWlnaHQgPSBfZ2V0LmhlaWdodCxcbiAgICAgIG1pblpvb20gPSBfZ2V0Lm1pblpvb20sXG4gICAgICBtYXhab29tID0gX2dldC5tYXhab29tLFxuICAgICAgZDNab29tID0gX2dldC5kM1pvb20sXG4gICAgICBkM1NlbGVjdGlvbiA9IF9nZXQuZDNTZWxlY3Rpb24sXG4gICAgICBmaXRWaWV3T25Jbml0RG9uZSA9IF9nZXQuZml0Vmlld09uSW5pdERvbmUsXG4gICAgICBmaXRWaWV3T25Jbml0ID0gX2dldC5maXRWaWV3T25Jbml0O1xuXG4gIGlmIChvcHRpb25zLmluaXRpYWwgJiYgIWZpdFZpZXdPbkluaXREb25lICYmIGZpdFZpZXdPbkluaXQgfHwgIW9wdGlvbnMuaW5pdGlhbCkge1xuICAgIGlmIChkM1pvb20gJiYgZDNTZWxlY3Rpb24pIHtcbiAgICAgIHZhciBub2RlcyA9IEFycmF5LmZyb20obm9kZUludGVybmFscy52YWx1ZXMoKSkuZmlsdGVyKGZ1bmN0aW9uIChuKSB7XG4gICAgICAgIHJldHVybiBvcHRpb25zLmluY2x1ZGVIaWRkZW5Ob2RlcyA/IG4ud2lkdGggJiYgbi5oZWlnaHQgOiAhbi5oaWRkZW47XG4gICAgICB9KTtcbiAgICAgIHZhciBub2Rlc0luaXRpYWxpemVkID0gbm9kZXMuZXZlcnkoZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgcmV0dXJuIG4ud2lkdGggJiYgbi5oZWlnaHQ7XG4gICAgICB9KTtcblxuICAgICAgaWYgKG5vZGVzLmxlbmd0aCA+IDAgJiYgbm9kZXNJbml0aWFsaXplZCkge1xuICAgICAgICB2YXIgX29wdGlvbnMkbWluWm9vbSwgX29wdGlvbnMkbWF4Wm9vbSwgX29wdGlvbnMkcGFkZGluZztcblxuICAgICAgICB2YXIgYm91bmRzID0gZ2V0UmVjdE9mTm9kZXMobm9kZXMpO1xuXG4gICAgICAgIHZhciBfZ2V0VHJhbnNmb3JtRm9yQm91bmQgPSBnZXRUcmFuc2Zvcm1Gb3JCb3VuZHMoYm91bmRzLCB3aWR0aCwgaGVpZ2h0LCAoX29wdGlvbnMkbWluWm9vbSA9IG9wdGlvbnMubWluWm9vbSkgIT09IG51bGwgJiYgX29wdGlvbnMkbWluWm9vbSAhPT0gdm9pZCAwID8gX29wdGlvbnMkbWluWm9vbSA6IG1pblpvb20sIChfb3B0aW9ucyRtYXhab29tID0gb3B0aW9ucy5tYXhab29tKSAhPT0gbnVsbCAmJiBfb3B0aW9ucyRtYXhab29tICE9PSB2b2lkIDAgPyBfb3B0aW9ucyRtYXhab29tIDogbWF4Wm9vbSwgKF9vcHRpb25zJHBhZGRpbmcgPSBvcHRpb25zLnBhZGRpbmcpICE9PSBudWxsICYmIF9vcHRpb25zJHBhZGRpbmcgIT09IHZvaWQgMCA/IF9vcHRpb25zJHBhZGRpbmcgOiAwLjEpLFxuICAgICAgICAgICAgX2dldFRyYW5zZm9ybUZvckJvdW5kMiA9IF9zbGljZWRUb0FycmF5KF9nZXRUcmFuc2Zvcm1Gb3JCb3VuZCwgMyksXG4gICAgICAgICAgICB4ID0gX2dldFRyYW5zZm9ybUZvckJvdW5kMlswXSxcbiAgICAgICAgICAgIHkgPSBfZ2V0VHJhbnNmb3JtRm9yQm91bmQyWzFdLFxuICAgICAgICAgICAgem9vbSA9IF9nZXRUcmFuc2Zvcm1Gb3JCb3VuZDJbMl07XG5cbiAgICAgICAgdmFyIG5leHRUcmFuc2Zvcm0gPSB6b29tSWRlbnRpdHkudHJhbnNsYXRlKHgsIHkpLnNjYWxlKHpvb20pO1xuXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5kdXJhdGlvbiA9PT0gJ251bWJlcicgJiYgb3B0aW9ucy5kdXJhdGlvbiA+IDApIHtcbiAgICAgICAgICBkM1pvb20udHJhbnNmb3JtKGdldEQzVHJhbnNpdGlvbihkM1NlbGVjdGlvbiwgb3B0aW9ucy5kdXJhdGlvbiksIG5leHRUcmFuc2Zvcm0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGQzWm9vbS50cmFuc2Zvcm0oZDNTZWxlY3Rpb24sIG5leHRUcmFuc2Zvcm0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gaGFuZGxlQ29udHJvbGxlZE5vZGVTZWxlY3Rpb25DaGFuZ2Uobm9kZUNoYW5nZXMsIG5vZGVJbnRlcm5hbHMpIHtcbiAgbm9kZUNoYW5nZXMuZm9yRWFjaChmdW5jdGlvbiAoY2hhbmdlKSB7XG4gICAgdmFyIG5vZGUgPSBub2RlSW50ZXJuYWxzLmdldChjaGFuZ2UuaWQpO1xuXG4gICAgaWYgKG5vZGUpIHtcbiAgICAgIHZhciBfb2JqZWN0U3ByZWFkMjtcblxuICAgICAgbm9kZUludGVybmFscy5zZXQobm9kZS5pZCwgX29iamVjdFNwcmVhZCQxKF9vYmplY3RTcHJlYWQkMSh7fSwgbm9kZSksIHt9LCAoX29iamVjdFNwcmVhZDIgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9vYmplY3RTcHJlYWQyLCBpbnRlcm5hbHNTeW1ib2wsIG5vZGVbaW50ZXJuYWxzU3ltYm9sXSksIF9kZWZpbmVQcm9wZXJ0eShfb2JqZWN0U3ByZWFkMiwgXCJzZWxlY3RlZFwiLCBjaGFuZ2Uuc2VsZWN0ZWQpLCBfb2JqZWN0U3ByZWFkMikpKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gbmV3IE1hcChub2RlSW50ZXJuYWxzKTtcbn1cbmZ1bmN0aW9uIGhhbmRsZUNvbnRyb2xsZWRFZGdlU2VsZWN0aW9uQ2hhbmdlKGVkZ2VDaGFuZ2VzLCBlZGdlcykge1xuICByZXR1cm4gZWRnZXMubWFwKGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIGNoYW5nZSA9IGVkZ2VDaGFuZ2VzLmZpbmQoZnVuY3Rpb24gKGNoYW5nZSkge1xuICAgICAgcmV0dXJuIGNoYW5nZS5pZCA9PT0gZS5pZDtcbiAgICB9KTtcblxuICAgIGlmIChjaGFuZ2UpIHtcbiAgICAgIGUuc2VsZWN0ZWQgPSBjaGFuZ2Uuc2VsZWN0ZWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGU7XG4gIH0pO1xufVxuZnVuY3Rpb24gdXBkYXRlTm9kZXNBbmRFZGdlc1NlbGVjdGlvbnMoX3JlZikge1xuICB2YXIgY2hhbmdlZE5vZGVzID0gX3JlZi5jaGFuZ2VkTm9kZXMsXG4gICAgICBjaGFuZ2VkRWRnZXMgPSBfcmVmLmNoYW5nZWRFZGdlcyxcbiAgICAgIGdldCA9IF9yZWYuZ2V0LFxuICAgICAgc2V0ID0gX3JlZi5zZXQ7XG5cbiAgdmFyIF9nZXQyID0gZ2V0KCksXG4gICAgICBub2RlSW50ZXJuYWxzID0gX2dldDIubm9kZUludGVybmFscyxcbiAgICAgIGVkZ2VzID0gX2dldDIuZWRnZXMsXG4gICAgICBvbk5vZGVzQ2hhbmdlID0gX2dldDIub25Ob2Rlc0NoYW5nZSxcbiAgICAgIG9uRWRnZXNDaGFuZ2UgPSBfZ2V0Mi5vbkVkZ2VzQ2hhbmdlLFxuICAgICAgaGFzRGVmYXVsdE5vZGVzID0gX2dldDIuaGFzRGVmYXVsdE5vZGVzLFxuICAgICAgaGFzRGVmYXVsdEVkZ2VzID0gX2dldDIuaGFzRGVmYXVsdEVkZ2VzO1xuXG4gIGlmIChjaGFuZ2VkTm9kZXMgIT09IG51bGwgJiYgY2hhbmdlZE5vZGVzICE9PSB2b2lkIDAgJiYgY2hhbmdlZE5vZGVzLmxlbmd0aCkge1xuICAgIGlmIChoYXNEZWZhdWx0Tm9kZXMpIHtcbiAgICAgIHNldCh7XG4gICAgICAgIG5vZGVJbnRlcm5hbHM6IGhhbmRsZUNvbnRyb2xsZWROb2RlU2VsZWN0aW9uQ2hhbmdlKGNoYW5nZWROb2Rlcywgbm9kZUludGVybmFscylcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIG9uTm9kZXNDaGFuZ2UgPT09IG51bGwgfHwgb25Ob2Rlc0NoYW5nZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25Ob2Rlc0NoYW5nZShjaGFuZ2VkTm9kZXMpO1xuICB9XG5cbiAgaWYgKGNoYW5nZWRFZGdlcyAhPT0gbnVsbCAmJiBjaGFuZ2VkRWRnZXMgIT09IHZvaWQgMCAmJiBjaGFuZ2VkRWRnZXMubGVuZ3RoKSB7XG4gICAgaWYgKGhhc0RlZmF1bHRFZGdlcykge1xuICAgICAgc2V0KHtcbiAgICAgICAgZWRnZXM6IGhhbmRsZUNvbnRyb2xsZWRFZGdlU2VsZWN0aW9uQ2hhbmdlKGNoYW5nZWRFZGdlcywgZWRnZXMpXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBvbkVkZ2VzQ2hhbmdlID09PSBudWxsIHx8IG9uRWRnZXNDaGFuZ2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uRWRnZXNDaGFuZ2UoY2hhbmdlZEVkZ2VzKTtcbiAgfVxufVxuXG52YXIgaW5maW5pdGVFeHRlbnQgPSBbW051bWJlci5ORUdBVElWRV9JTkZJTklUWSwgTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZXSwgW051bWJlci5QT1NJVElWRV9JTkZJTklUWSwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZXV07XG52YXIgaW5pdGlhbFN0YXRlID0ge1xuICB3aWR0aDogMCxcbiAgaGVpZ2h0OiAwLFxuICB0cmFuc2Zvcm06IFswLCAwLCAxXSxcbiAgbm9kZUludGVybmFsczogbmV3IE1hcCgpLFxuICBlZGdlczogW10sXG4gIG9uTm9kZXNDaGFuZ2U6IG51bGwsXG4gIG9uRWRnZXNDaGFuZ2U6IG51bGwsXG4gIGhhc0RlZmF1bHROb2RlczogZmFsc2UsXG4gIGhhc0RlZmF1bHRFZGdlczogZmFsc2UsXG4gIGQzWm9vbTogbnVsbCxcbiAgZDNTZWxlY3Rpb246IG51bGwsXG4gIGQzWm9vbUhhbmRsZXI6IHVuZGVmaW5lZCxcbiAgbWluWm9vbTogMC41LFxuICBtYXhab29tOiAyLFxuICB0cmFuc2xhdGVFeHRlbnQ6IGluZmluaXRlRXh0ZW50LFxuICBub2RlRXh0ZW50OiBpbmZpbml0ZUV4dGVudCxcbiAgbm9kZXNTZWxlY3Rpb25BY3RpdmU6IGZhbHNlLFxuICB1c2VyU2VsZWN0aW9uQWN0aXZlOiBmYWxzZSxcbiAgY29ubmVjdGlvbk5vZGVJZDogbnVsbCxcbiAgY29ubmVjdGlvbkhhbmRsZUlkOiBudWxsLFxuICBjb25uZWN0aW9uSGFuZGxlVHlwZTogJ3NvdXJjZScsXG4gIGNvbm5lY3Rpb25Qb3NpdGlvbjoge1xuICAgIHg6IDAsXG4gICAgeTogMFxuICB9LFxuICBjb25uZWN0aW9uTW9kZTogQ29ubmVjdGlvbk1vZGUuU3RyaWN0LFxuICBkb21Ob2RlOiBudWxsLFxuICBzbmFwR3JpZDogWzE1LCAxNV0sXG4gIHNuYXBUb0dyaWQ6IGZhbHNlLFxuICBub2Rlc0RyYWdnYWJsZTogdHJ1ZSxcbiAgbm9kZXNDb25uZWN0YWJsZTogdHJ1ZSxcbiAgZWxlbWVudHNTZWxlY3RhYmxlOiB0cnVlLFxuICBmaXRWaWV3T25Jbml0OiBmYWxzZSxcbiAgZml0Vmlld09uSW5pdERvbmU6IGZhbHNlLFxuICBmaXRWaWV3T25Jbml0T3B0aW9uczogdW5kZWZpbmVkLFxuICBtdWx0aVNlbGVjdGlvbkFjdGl2ZTogZmFsc2UsXG4gIHJlYWN0Rmxvd1ZlcnNpb246IFwiMTAuMy4xN1wiICxcbiAgY29ubmVjdGlvblN0YXJ0SGFuZGxlOiBudWxsLFxuICBjb25uZWN0T25DbGljazogdHJ1ZVxufTtcblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGVudW1lcmFibGVPbmx5ICYmIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSkpLCBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IG51bGwgIT0gYXJndW1lbnRzW2ldID8gYXJndW1lbnRzW2ldIDoge307IGkgJSAyID8gb3duS2V5cyhPYmplY3Qoc291cmNlKSwgITApLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSkgOiBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cblxudmFyIF9jcmVhdGVDb250ZXh0ID0gY3JlYXRlQ29udGV4dCgpLFxuICAgIFByb3ZpZGVyID0gX2NyZWF0ZUNvbnRleHQuUHJvdmlkZXIsXG4gICAgdXNlU3RvcmUgPSBfY3JlYXRlQ29udGV4dC51c2VTdG9yZSxcbiAgICB1c2VTdG9yZUFwaSA9IF9jcmVhdGVDb250ZXh0LnVzZVN0b3JlQXBpO1xuXG52YXIgY3JlYXRlU3RvcmUgPSBmdW5jdGlvbiBjcmVhdGVTdG9yZSgpIHtcbiAgcmV0dXJuIGNyZWF0ZShmdW5jdGlvbiAoc2V0LCBnZXQpIHtcbiAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBpbml0aWFsU3RhdGUpLCB7fSwge1xuICAgICAgc2V0Tm9kZXM6IGZ1bmN0aW9uIHNldE5vZGVzKG5vZGVzKSB7XG4gICAgICAgIHNldCh7XG4gICAgICAgICAgbm9kZUludGVybmFsczogY3JlYXRlTm9kZUludGVybmFscyhub2RlcywgZ2V0KCkubm9kZUludGVybmFscylcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgc2V0RWRnZXM6IGZ1bmN0aW9uIHNldEVkZ2VzKGVkZ2VzKSB7XG4gICAgICAgIHZhciBfZ2V0ID0gZ2V0KCksXG4gICAgICAgICAgICBfZ2V0JGRlZmF1bHRFZGdlT3B0aW8gPSBfZ2V0LmRlZmF1bHRFZGdlT3B0aW9ucyxcbiAgICAgICAgICAgIGRlZmF1bHRFZGdlT3B0aW9ucyA9IF9nZXQkZGVmYXVsdEVkZ2VPcHRpbyA9PT0gdm9pZCAwID8ge30gOiBfZ2V0JGRlZmF1bHRFZGdlT3B0aW87XG5cbiAgICAgICAgc2V0KHtcbiAgICAgICAgICBlZGdlczogZWRnZXMubWFwKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBkZWZhdWx0RWRnZU9wdGlvbnMpLCBlKTtcbiAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBzZXREZWZhdWx0Tm9kZXNBbmRFZGdlczogZnVuY3Rpb24gc2V0RGVmYXVsdE5vZGVzQW5kRWRnZXMobm9kZXMsIGVkZ2VzKSB7XG4gICAgICAgIHZhciBoYXNEZWZhdWx0Tm9kZXMgPSB0eXBlb2Ygbm9kZXMgIT09ICd1bmRlZmluZWQnO1xuICAgICAgICB2YXIgaGFzRGVmYXVsdEVkZ2VzID0gdHlwZW9mIGVkZ2VzICE9PSAndW5kZWZpbmVkJztcbiAgICAgICAgdmFyIG5vZGVJbnRlcm5hbHMgPSBoYXNEZWZhdWx0Tm9kZXMgPyBjcmVhdGVOb2RlSW50ZXJuYWxzKG5vZGVzLCBuZXcgTWFwKCkpIDogbmV3IE1hcCgpO1xuICAgICAgICB2YXIgbmV4dEVkZ2VzID0gaGFzRGVmYXVsdEVkZ2VzID8gZWRnZXMgOiBbXTtcbiAgICAgICAgc2V0KHtcbiAgICAgICAgICBub2RlSW50ZXJuYWxzOiBub2RlSW50ZXJuYWxzLFxuICAgICAgICAgIGVkZ2VzOiBuZXh0RWRnZXMsXG4gICAgICAgICAgaGFzRGVmYXVsdE5vZGVzOiBoYXNEZWZhdWx0Tm9kZXMsXG4gICAgICAgICAgaGFzRGVmYXVsdEVkZ2VzOiBoYXNEZWZhdWx0RWRnZXNcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgdXBkYXRlTm9kZURpbWVuc2lvbnM6IGZ1bmN0aW9uIHVwZGF0ZU5vZGVEaW1lbnNpb25zKHVwZGF0ZXMpIHtcbiAgICAgICAgdmFyIF9nZXQyID0gZ2V0KCksXG4gICAgICAgICAgICBvbk5vZGVzQ2hhbmdlID0gX2dldDIub25Ob2Rlc0NoYW5nZSxcbiAgICAgICAgICAgIG5vZGVJbnRlcm5hbHMgPSBfZ2V0Mi5ub2RlSW50ZXJuYWxzLFxuICAgICAgICAgICAgZml0Vmlld09uSW5pdCA9IF9nZXQyLmZpdFZpZXdPbkluaXQsXG4gICAgICAgICAgICBmaXRWaWV3T25Jbml0RG9uZSA9IF9nZXQyLmZpdFZpZXdPbkluaXREb25lLFxuICAgICAgICAgICAgZml0Vmlld09uSW5pdE9wdGlvbnMgPSBfZ2V0Mi5maXRWaWV3T25Jbml0T3B0aW9ucyxcbiAgICAgICAgICAgIGRvbU5vZGUgPSBfZ2V0Mi5kb21Ob2RlO1xuXG4gICAgICAgIHZhciB2aWV3cG9ydE5vZGUgPSBkb21Ob2RlID09PSBudWxsIHx8IGRvbU5vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRvbU5vZGUucXVlcnlTZWxlY3RvcignLnJlYWN0LWZsb3dfX3ZpZXdwb3J0Jyk7XG5cbiAgICAgICAgaWYgKCF2aWV3cG9ydE5vZGUpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh2aWV3cG9ydE5vZGUpO1xuXG4gICAgICAgIHZhciBfd2luZG93JERPTU1hdHJpeFJlYWQgPSBuZXcgd2luZG93LkRPTU1hdHJpeFJlYWRPbmx5KHN0eWxlLnRyYW5zZm9ybSksXG4gICAgICAgICAgICB6b29tID0gX3dpbmRvdyRET01NYXRyaXhSZWFkLm0yMjtcblxuICAgICAgICB2YXIgY2hhbmdlcyA9IHVwZGF0ZXMucmVkdWNlKGZ1bmN0aW9uIChyZXMsIHVwZGF0ZSkge1xuICAgICAgICAgIHZhciBub2RlID0gbm9kZUludGVybmFscy5nZXQodXBkYXRlLmlkKTtcblxuICAgICAgICAgIGlmIChub2RlKSB7XG4gICAgICAgICAgICB2YXIgZGltZW5zaW9ucyA9IGdldERpbWVuc2lvbnModXBkYXRlLm5vZGVFbGVtZW50KTtcbiAgICAgICAgICAgIHZhciBkb1VwZGF0ZSA9ICEhKGRpbWVuc2lvbnMud2lkdGggJiYgZGltZW5zaW9ucy5oZWlnaHQgJiYgKG5vZGUud2lkdGggIT09IGRpbWVuc2lvbnMud2lkdGggfHwgbm9kZS5oZWlnaHQgIT09IGRpbWVuc2lvbnMuaGVpZ2h0IHx8IHVwZGF0ZS5mb3JjZVVwZGF0ZSkpO1xuXG4gICAgICAgICAgICBpZiAoZG9VcGRhdGUpIHtcbiAgICAgICAgICAgICAgbm9kZUludGVybmFscy5zZXQobm9kZS5pZCwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBub2RlKSwge30sIF9kZWZpbmVQcm9wZXJ0eSh7fSwgaW50ZXJuYWxzU3ltYm9sLCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG5vZGVbaW50ZXJuYWxzU3ltYm9sXSksIHt9LCB7XG4gICAgICAgICAgICAgICAgaGFuZGxlQm91bmRzOiB7XG4gICAgICAgICAgICAgICAgICBzb3VyY2U6IGdldEhhbmRsZUJvdW5kcygnLnNvdXJjZScsIHVwZGF0ZS5ub2RlRWxlbWVudCwgem9vbSksXG4gICAgICAgICAgICAgICAgICB0YXJnZXQ6IGdldEhhbmRsZUJvdW5kcygnLnRhcmdldCcsIHVwZGF0ZS5ub2RlRWxlbWVudCwgem9vbSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pKSwgZGltZW5zaW9ucykpO1xuICAgICAgICAgICAgICByZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgaWQ6IG5vZGUuaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogJ2RpbWVuc2lvbnMnLFxuICAgICAgICAgICAgICAgIGRpbWVuc2lvbnM6IGRpbWVuc2lvbnNcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfSwgW10pO1xuICAgICAgICB2YXIgbmV4dEZpdFZpZXdPbkluaXREb25lID0gZml0Vmlld09uSW5pdERvbmUgfHwgZml0Vmlld09uSW5pdCAmJiAhZml0Vmlld09uSW5pdERvbmUgJiYgZml0VmlldyhnZXQsIF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgIGluaXRpYWw6IHRydWVcbiAgICAgICAgfSwgZml0Vmlld09uSW5pdE9wdGlvbnMpKTtcbiAgICAgICAgc2V0KHtcbiAgICAgICAgICBub2RlSW50ZXJuYWxzOiBuZXcgTWFwKG5vZGVJbnRlcm5hbHMpLFxuICAgICAgICAgIGZpdFZpZXdPbkluaXREb25lOiBuZXh0Rml0Vmlld09uSW5pdERvbmVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKChjaGFuZ2VzID09PSBudWxsIHx8IGNoYW5nZXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNoYW5nZXMubGVuZ3RoKSA+IDApIHtcbiAgICAgICAgICBvbk5vZGVzQ2hhbmdlID09PSBudWxsIHx8IG9uTm9kZXNDaGFuZ2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uTm9kZXNDaGFuZ2UoY2hhbmdlcyk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1cGRhdGVOb2RlUG9zaXRpb25zOiBmdW5jdGlvbiB1cGRhdGVOb2RlUG9zaXRpb25zKG5vZGVEcmFnSXRlbXMpIHtcbiAgICAgICAgdmFyIHBvc2l0aW9uQ2hhbmdlZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdHJ1ZTtcbiAgICAgICAgdmFyIGRyYWdnaW5nID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBmYWxzZTtcblxuICAgICAgICB2YXIgX2dldDMgPSBnZXQoKSxcbiAgICAgICAgICAgIG9uTm9kZXNDaGFuZ2UgPSBfZ2V0My5vbk5vZGVzQ2hhbmdlLFxuICAgICAgICAgICAgbm9kZUludGVybmFscyA9IF9nZXQzLm5vZGVJbnRlcm5hbHMsXG4gICAgICAgICAgICBoYXNEZWZhdWx0Tm9kZXMgPSBfZ2V0My5oYXNEZWZhdWx0Tm9kZXM7XG5cbiAgICAgICAgaWYgKGhhc0RlZmF1bHROb2RlcyB8fCBvbk5vZGVzQ2hhbmdlKSB7XG4gICAgICAgICAgdmFyIGNoYW5nZXMgPSBub2RlRHJhZ0l0ZW1zLm1hcChmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgdmFyIGNoYW5nZSA9IHtcbiAgICAgICAgICAgICAgaWQ6IG5vZGUuaWQsXG4gICAgICAgICAgICAgIHR5cGU6ICdwb3NpdGlvbicsXG4gICAgICAgICAgICAgIGRyYWdnaW5nOiBkcmFnZ2luZ1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKHBvc2l0aW9uQ2hhbmdlZCkge1xuICAgICAgICAgICAgICBjaGFuZ2UucG9zaXRpb25BYnNvbHV0ZSA9IG5vZGUucG9zaXRpb25BYnNvbHV0ZTtcbiAgICAgICAgICAgICAgY2hhbmdlLnBvc2l0aW9uID0gbm9kZS5wb3NpdGlvbjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGNoYW5nZTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmIChjaGFuZ2VzICE9PSBudWxsICYmIGNoYW5nZXMgIT09IHZvaWQgMCAmJiBjaGFuZ2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGhhc0RlZmF1bHROb2Rlcykge1xuICAgICAgICAgICAgICB2YXIgbm9kZXMgPSBhcHBseU5vZGVDaGFuZ2VzKGNoYW5nZXMsIEFycmF5LmZyb20obm9kZUludGVybmFscy52YWx1ZXMoKSkpO1xuICAgICAgICAgICAgICB2YXIgbmV4dE5vZGVJbnRlcm5hbHMgPSBjcmVhdGVOb2RlSW50ZXJuYWxzKG5vZGVzLCBub2RlSW50ZXJuYWxzKTtcbiAgICAgICAgICAgICAgc2V0KHtcbiAgICAgICAgICAgICAgICBub2RlSW50ZXJuYWxzOiBuZXh0Tm9kZUludGVybmFsc1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb25Ob2Rlc0NoYW5nZSA9PT0gbnVsbCB8fCBvbk5vZGVzQ2hhbmdlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbk5vZGVzQ2hhbmdlKGNoYW5nZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGFkZFNlbGVjdGVkTm9kZXM6IGZ1bmN0aW9uIGFkZFNlbGVjdGVkTm9kZXMoc2VsZWN0ZWROb2RlSWRzKSB7XG4gICAgICAgIHZhciBfZ2V0NCA9IGdldCgpLFxuICAgICAgICAgICAgbXVsdGlTZWxlY3Rpb25BY3RpdmUgPSBfZ2V0NC5tdWx0aVNlbGVjdGlvbkFjdGl2ZSxcbiAgICAgICAgICAgIG5vZGVJbnRlcm5hbHMgPSBfZ2V0NC5ub2RlSW50ZXJuYWxzLFxuICAgICAgICAgICAgZWRnZXMgPSBfZ2V0NC5lZGdlcztcblxuICAgICAgICB2YXIgY2hhbmdlZE5vZGVzO1xuICAgICAgICB2YXIgY2hhbmdlZEVkZ2VzID0gbnVsbDtcblxuICAgICAgICBpZiAobXVsdGlTZWxlY3Rpb25BY3RpdmUpIHtcbiAgICAgICAgICBjaGFuZ2VkTm9kZXMgPSBzZWxlY3RlZE5vZGVJZHMubWFwKGZ1bmN0aW9uIChub2RlSWQpIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVTZWxlY3Rpb25DaGFuZ2Uobm9kZUlkLCB0cnVlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjaGFuZ2VkTm9kZXMgPSBnZXRTZWxlY3Rpb25DaGFuZ2VzKEFycmF5LmZyb20obm9kZUludGVybmFscy52YWx1ZXMoKSksIHNlbGVjdGVkTm9kZUlkcyk7XG4gICAgICAgICAgY2hhbmdlZEVkZ2VzID0gZ2V0U2VsZWN0aW9uQ2hhbmdlcyhlZGdlcywgW10pO1xuICAgICAgICB9XG5cbiAgICAgICAgdXBkYXRlTm9kZXNBbmRFZGdlc1NlbGVjdGlvbnMoe1xuICAgICAgICAgIGNoYW5nZWROb2RlczogY2hhbmdlZE5vZGVzLFxuICAgICAgICAgIGNoYW5nZWRFZGdlczogY2hhbmdlZEVkZ2VzLFxuICAgICAgICAgIGdldDogZ2V0LFxuICAgICAgICAgIHNldDogc2V0XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGFkZFNlbGVjdGVkRWRnZXM6IGZ1bmN0aW9uIGFkZFNlbGVjdGVkRWRnZXMoc2VsZWN0ZWRFZGdlSWRzKSB7XG4gICAgICAgIHZhciBfZ2V0NSA9IGdldCgpLFxuICAgICAgICAgICAgbXVsdGlTZWxlY3Rpb25BY3RpdmUgPSBfZ2V0NS5tdWx0aVNlbGVjdGlvbkFjdGl2ZSxcbiAgICAgICAgICAgIGVkZ2VzID0gX2dldDUuZWRnZXMsXG4gICAgICAgICAgICBub2RlSW50ZXJuYWxzID0gX2dldDUubm9kZUludGVybmFscztcblxuICAgICAgICB2YXIgY2hhbmdlZEVkZ2VzO1xuICAgICAgICB2YXIgY2hhbmdlZE5vZGVzID0gbnVsbDtcblxuICAgICAgICBpZiAobXVsdGlTZWxlY3Rpb25BY3RpdmUpIHtcbiAgICAgICAgICBjaGFuZ2VkRWRnZXMgPSBzZWxlY3RlZEVkZ2VJZHMubWFwKGZ1bmN0aW9uIChlZGdlSWQpIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVTZWxlY3Rpb25DaGFuZ2UoZWRnZUlkLCB0cnVlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjaGFuZ2VkRWRnZXMgPSBnZXRTZWxlY3Rpb25DaGFuZ2VzKGVkZ2VzLCBzZWxlY3RlZEVkZ2VJZHMpO1xuICAgICAgICAgIGNoYW5nZWROb2RlcyA9IGdldFNlbGVjdGlvbkNoYW5nZXMoQXJyYXkuZnJvbShub2RlSW50ZXJuYWxzLnZhbHVlcygpKSwgW10pO1xuICAgICAgICB9XG5cbiAgICAgICAgdXBkYXRlTm9kZXNBbmRFZGdlc1NlbGVjdGlvbnMoe1xuICAgICAgICAgIGNoYW5nZWROb2RlczogY2hhbmdlZE5vZGVzLFxuICAgICAgICAgIGNoYW5nZWRFZGdlczogY2hhbmdlZEVkZ2VzLFxuICAgICAgICAgIGdldDogZ2V0LFxuICAgICAgICAgIHNldDogc2V0XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIHVuc2VsZWN0Tm9kZXNBbmRFZGdlczogZnVuY3Rpb24gdW5zZWxlY3ROb2Rlc0FuZEVkZ2VzKCkge1xuICAgICAgICB2YXIgX3JlZiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge30sXG4gICAgICAgICAgICBub2RlcyA9IF9yZWYubm9kZXMsXG4gICAgICAgICAgICBlZGdlcyA9IF9yZWYuZWRnZXM7XG5cbiAgICAgICAgdmFyIF9nZXQ2ID0gZ2V0KCksXG4gICAgICAgICAgICBub2RlSW50ZXJuYWxzID0gX2dldDYubm9kZUludGVybmFscyxcbiAgICAgICAgICAgIHN0b3JlRWRnZXMgPSBfZ2V0Ni5lZGdlcztcblxuICAgICAgICB2YXIgbm9kZXNUb1Vuc2VsZWN0ID0gbm9kZXMgPyBub2RlcyA6IEFycmF5LmZyb20obm9kZUludGVybmFscy52YWx1ZXMoKSk7XG4gICAgICAgIHZhciBlZGdlc1RvVW5zZWxlY3QgPSBlZGdlcyA/IGVkZ2VzIDogc3RvcmVFZGdlcztcbiAgICAgICAgdmFyIGNoYW5nZWROb2RlcyA9IG5vZGVzVG9VbnNlbGVjdC5tYXAoZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgICBuLnNlbGVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIGNyZWF0ZVNlbGVjdGlvbkNoYW5nZShuLmlkLCBmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgY2hhbmdlZEVkZ2VzID0gZWRnZXNUb1Vuc2VsZWN0Lm1hcChmdW5jdGlvbiAoZWRnZSkge1xuICAgICAgICAgIHJldHVybiBjcmVhdGVTZWxlY3Rpb25DaGFuZ2UoZWRnZS5pZCwgZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICAgICAgdXBkYXRlTm9kZXNBbmRFZGdlc1NlbGVjdGlvbnMoe1xuICAgICAgICAgIGNoYW5nZWROb2RlczogY2hhbmdlZE5vZGVzLFxuICAgICAgICAgIGNoYW5nZWRFZGdlczogY2hhbmdlZEVkZ2VzLFxuICAgICAgICAgIGdldDogZ2V0LFxuICAgICAgICAgIHNldDogc2V0XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIHNldE1pblpvb206IGZ1bmN0aW9uIHNldE1pblpvb20obWluWm9vbSkge1xuICAgICAgICB2YXIgX2dldDcgPSBnZXQoKSxcbiAgICAgICAgICAgIGQzWm9vbSA9IF9nZXQ3LmQzWm9vbSxcbiAgICAgICAgICAgIG1heFpvb20gPSBfZ2V0Ny5tYXhab29tO1xuXG4gICAgICAgIGQzWm9vbSA9PT0gbnVsbCB8fCBkM1pvb20gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGQzWm9vbS5zY2FsZUV4dGVudChbbWluWm9vbSwgbWF4Wm9vbV0pO1xuICAgICAgICBzZXQoe1xuICAgICAgICAgIG1pblpvb206IG1pblpvb21cbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgc2V0TWF4Wm9vbTogZnVuY3Rpb24gc2V0TWF4Wm9vbShtYXhab29tKSB7XG4gICAgICAgIHZhciBfZ2V0OCA9IGdldCgpLFxuICAgICAgICAgICAgZDNab29tID0gX2dldDguZDNab29tLFxuICAgICAgICAgICAgbWluWm9vbSA9IF9nZXQ4Lm1pblpvb207XG5cbiAgICAgICAgZDNab29tID09PSBudWxsIHx8IGQzWm9vbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZDNab29tLnNjYWxlRXh0ZW50KFttaW5ab29tLCBtYXhab29tXSk7XG4gICAgICAgIHNldCh7XG4gICAgICAgICAgbWF4Wm9vbTogbWF4Wm9vbVxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBzZXRUcmFuc2xhdGVFeHRlbnQ6IGZ1bmN0aW9uIHNldFRyYW5zbGF0ZUV4dGVudCh0cmFuc2xhdGVFeHRlbnQpIHtcbiAgICAgICAgdmFyIF9nZXQ5ID0gZ2V0KCksXG4gICAgICAgICAgICBkM1pvb20gPSBfZ2V0OS5kM1pvb207XG5cbiAgICAgICAgZDNab29tID09PSBudWxsIHx8IGQzWm9vbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZDNab29tLnRyYW5zbGF0ZUV4dGVudCh0cmFuc2xhdGVFeHRlbnQpO1xuICAgICAgICBzZXQoe1xuICAgICAgICAgIHRyYW5zbGF0ZUV4dGVudDogdHJhbnNsYXRlRXh0ZW50XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIHJlc2V0U2VsZWN0ZWRFbGVtZW50czogZnVuY3Rpb24gcmVzZXRTZWxlY3RlZEVsZW1lbnRzKCkge1xuICAgICAgICB2YXIgX2dldDEwID0gZ2V0KCksXG4gICAgICAgICAgICBub2RlSW50ZXJuYWxzID0gX2dldDEwLm5vZGVJbnRlcm5hbHMsXG4gICAgICAgICAgICBlZGdlcyA9IF9nZXQxMC5lZGdlcztcblxuICAgICAgICB2YXIgbm9kZXMgPSBBcnJheS5mcm9tKG5vZGVJbnRlcm5hbHMudmFsdWVzKCkpO1xuICAgICAgICB2YXIgbm9kZXNUb1Vuc2VsZWN0ID0gbm9kZXMuZmlsdGVyKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgcmV0dXJuIGUuc2VsZWN0ZWQ7XG4gICAgICAgIH0pLm1hcChmdW5jdGlvbiAobikge1xuICAgICAgICAgIHJldHVybiBjcmVhdGVTZWxlY3Rpb25DaGFuZ2Uobi5pZCwgZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGVkZ2VzVG9VbnNlbGVjdCA9IGVkZ2VzLmZpbHRlcihmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIHJldHVybiBlLnNlbGVjdGVkO1xuICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICByZXR1cm4gY3JlYXRlU2VsZWN0aW9uQ2hhbmdlKGUuaWQsIGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHVwZGF0ZU5vZGVzQW5kRWRnZXNTZWxlY3Rpb25zKHtcbiAgICAgICAgICBjaGFuZ2VkTm9kZXM6IG5vZGVzVG9VbnNlbGVjdCxcbiAgICAgICAgICBjaGFuZ2VkRWRnZXM6IGVkZ2VzVG9VbnNlbGVjdCxcbiAgICAgICAgICBnZXQ6IGdldCxcbiAgICAgICAgICBzZXQ6IHNldFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBzZXROb2RlRXh0ZW50OiBmdW5jdGlvbiBzZXROb2RlRXh0ZW50KG5vZGVFeHRlbnQpIHtcbiAgICAgICAgdmFyIF9nZXQxMSA9IGdldCgpLFxuICAgICAgICAgICAgbm9kZUludGVybmFscyA9IF9nZXQxMS5ub2RlSW50ZXJuYWxzO1xuXG4gICAgICAgIG5vZGVJbnRlcm5hbHMuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgIG5vZGUucG9zaXRpb25BYnNvbHV0ZSA9IGNsYW1wUG9zaXRpb24obm9kZS5wb3NpdGlvbiwgbm9kZUV4dGVudCk7XG4gICAgICAgIH0pO1xuICAgICAgICBzZXQoe1xuICAgICAgICAgIG5vZGVFeHRlbnQ6IG5vZGVFeHRlbnQsXG4gICAgICAgICAgbm9kZUludGVybmFsczogbmV3IE1hcChub2RlSW50ZXJuYWxzKVxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgICAgIHJldHVybiBzZXQoX29iamVjdFNwcmVhZCh7fSwgaW5pdGlhbFN0YXRlKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufTtcblxuZXhwb3J0IHsgaXNOb2RlIGFzIEEsIGlzRWRnZSBhcyBCLCBDb25uZWN0aW9uTW9kZSBhcyBDLCBnZXRPdXRnb2VycyBhcyBELCBnZXRJbmNvbWVycyBhcyBFLCB1cGRhdGVFZGdlIGFzIEYsIGdldFRyYW5zZm9ybUZvckJvdW5kcyBhcyBHLCBCYWNrZ3JvdW5kVmFyaWFudCBhcyBILCBnZXRCb3VuZHNvZlJlY3RzIGFzIEksIF9hcnJheUxpa2VUb0FycmF5IGFzIEosIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSBhcyBLLCBnZXREM1RyYW5zaXRpb24gYXMgTCwgTWFya2VyVHlwZSBhcyBNLCBmaXRWaWV3IGFzIE4sIFBvc2l0aW9uIGFzIFAsIF9zbGljZWRUb0FycmF5IGFzIF8sIF9kZWZpbmVQcm9wZXJ0eSBhcyBhLCB1c2VTdG9yZSBhcyBiLCBhZGRFZGdlIGFzIGMsIGdldE1hcmtlcklkIGFzIGQsIGdldENvbm5lY3RlZEVkZ2VzIGFzIGUsIGdldERpbWVuc2lvbnMgYXMgZiwgZ2V0SG9zdEZvckVsZW1lbnQgYXMgZywgUGFuT25TY3JvbGxNb2RlIGFzIGgsIGludGVybmFsc1N5bWJvbCBhcyBpLCBjbGFtcCBhcyBqLCBnZXROb2Rlc0luc2lkZSBhcyBrLCBnZXRTZWxlY3Rpb25DaGFuZ2VzIGFzIGwsIGNsYW1wUG9zaXRpb24gYXMgbSwgaGFuZGxlTm9kZUNsaWNrIGFzIG4sIGdldFJlY3RPZk5vZGVzIGFzIG8sIHBvaW50VG9SZW5kZXJlclBvaW50IGFzIHAsIENvbm5lY3Rpb25MaW5lVHlwZSBhcyBxLCByZWN0VG9Cb3ggYXMgciwgaXNOdW1lcmljIGFzIHMsIGdldE1vdXNlSGFuZGxlciBhcyB0LCB1c2VTdG9yZUFwaSBhcyB1LCBQcm92aWRlciBhcyB2LCBjcmVhdGVTdG9yZSBhcyB3LCBpbmZpbml0ZUV4dGVudCBhcyB4LCBhcHBseU5vZGVDaGFuZ2VzIGFzIHksIGFwcGx5RWRnZUNoYW5nZXMgYXMgeiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgtYTEyYzgwYmQuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/react-flow-renderer/dist/esm/index-a12c80bd.js\n"));

/***/ }),

/***/ "./node_modules/react-flow-renderer/dist/esm/index.js":
/*!************************************************************!*\
  !*** ./node_modules/react-flow-renderer/dist/esm/index.js ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Background: function() { return /* reexport safe */ _index3_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]; },\n/* harmony export */   BackgroundVariant: function() { return /* reexport safe */ _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.H; },\n/* harmony export */   BezierEdge: function() { return /* binding */ BezierEdge; },\n/* harmony export */   ConnectionLineType: function() { return /* reexport safe */ _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.q; },\n/* harmony export */   ConnectionMode: function() { return /* reexport safe */ _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.C; },\n/* harmony export */   ControlButton: function() { return /* reexport safe */ _index_20df97c0_js__WEBPACK_IMPORTED_MODULE_1__.C; },\n/* harmony export */   Controls: function() { return /* reexport safe */ _index_20df97c0_js__WEBPACK_IMPORTED_MODULE_1__.i; },\n/* harmony export */   EdgeText: function() { return /* binding */ EdgeText$1; },\n/* harmony export */   Handle: function() { return /* binding */ Handle$1; },\n/* harmony export */   MarkerType: function() { return /* reexport safe */ _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.M; },\n/* harmony export */   MiniMap: function() { return /* reexport safe */ _index2_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]; },\n/* harmony export */   PanOnScrollMode: function() { return /* reexport safe */ _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.h; },\n/* harmony export */   Position: function() { return /* reexport safe */ _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P; },\n/* harmony export */   ReactFlowProvider: function() { return /* binding */ ReactFlowProvider; },\n/* harmony export */   SimpleBezierEdge: function() { return /* binding */ SimpleBezierEdge; },\n/* harmony export */   SmoothStepEdge: function() { return /* binding */ SmoothStepEdge; },\n/* harmony export */   StepEdge: function() { return /* binding */ StepEdge; },\n/* harmony export */   StraightEdge: function() { return /* binding */ StraightEdge; },\n/* harmony export */   addEdge: function() { return /* reexport safe */ _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.c; },\n/* harmony export */   applyEdgeChanges: function() { return /* reexport safe */ _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.z; },\n/* harmony export */   applyNodeChanges: function() { return /* reexport safe */ _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.y; },\n/* harmony export */   \"default\": function() { return /* binding */ ReactFlow; },\n/* harmony export */   getBezierEdgeCenter: function() { return /* binding */ getBezierCenter; },\n/* harmony export */   getBezierPath: function() { return /* binding */ getBezierPath; },\n/* harmony export */   getConnectedEdges: function() { return /* reexport safe */ _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.e; },\n/* harmony export */   getEdgeCenter: function() { return /* binding */ getCenter; },\n/* harmony export */   getIncomers: function() { return /* reexport safe */ _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.E; },\n/* harmony export */   getMarkerEnd: function() { return /* binding */ getMarkerEnd; },\n/* harmony export */   getOutgoers: function() { return /* reexport safe */ _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.D; },\n/* harmony export */   getRectOfNodes: function() { return /* reexport safe */ _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.o; },\n/* harmony export */   getSimpleBezierEdgeCenter: function() { return /* binding */ getSimpleBezierCenter; },\n/* harmony export */   getSimpleBezierPath: function() { return /* binding */ getSimpleBezierPath; },\n/* harmony export */   getSmoothStepPath: function() { return /* binding */ getSmoothStepPath; },\n/* harmony export */   getTransformForBounds: function() { return /* reexport safe */ _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.G; },\n/* harmony export */   internalsSymbol: function() { return /* reexport safe */ _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.i; },\n/* harmony export */   isEdge: function() { return /* reexport safe */ _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.B; },\n/* harmony export */   isNode: function() { return /* reexport safe */ _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.A; },\n/* harmony export */   updateEdge: function() { return /* reexport safe */ _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.F; },\n/* harmony export */   useEdges: function() { return /* reexport safe */ _useEdges_js__WEBPACK_IMPORTED_MODULE_10__[\"default\"]; },\n/* harmony export */   useEdgesState: function() { return /* binding */ useEdgesState; },\n/* harmony export */   useKeyPress: function() { return /* binding */ useKeyPress; },\n/* harmony export */   useNodes: function() { return /* reexport safe */ _useNodes_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"]; },\n/* harmony export */   useNodesState: function() { return /* binding */ useNodesState; },\n/* harmony export */   useReactFlow: function() { return /* reexport safe */ _useReactFlow_993c30ca_js__WEBPACK_IMPORTED_MODULE_4__.u; },\n/* harmony export */   useStore: function() { return /* reexport safe */ _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.b; },\n/* harmony export */   useStoreApi: function() { return /* reexport safe */ _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.u; },\n/* harmony export */   useUpdateNodeInternals: function() { return /* reexport safe */ _useUpdateNodeInternals_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"]; },\n/* harmony export */   useViewport: function() { return /* reexport safe */ _useViewport_js__WEBPACK_IMPORTED_MODULE_11__[\"default\"]; }\n/* harmony export */ });\n/* harmony import */ var _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-a12c80bd.js */ \"./node_modules/react-flow-renderer/dist/esm/index-a12c80bd.js\");\n/* harmony import */ var _index_20df97c0_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index-20df97c0.js */ \"./node_modules/react-flow-renderer/dist/esm/index-20df97c0.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var classcat__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! classcat */ \"./node_modules/classcat/index.js\");\n/* harmony import */ var _useReactFlow_993c30ca_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./useReactFlow-993c30ca.js */ \"./node_modules/react-flow-renderer/dist/esm/useReactFlow-993c30ca.js\");\n/* harmony import */ var zustand_shallow__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! zustand/shallow */ \"./node_modules/react-flow-renderer/node_modules/zustand/esm/shallow.js\");\n/* harmony import */ var d3_zoom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! d3-zoom */ \"./node_modules/d3-zoom/src/index.js\");\n/* harmony import */ var d3_selection__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! d3-selection */ \"./node_modules/d3-selection/src/index.js\");\n/* harmony import */ var d3_drag__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! d3-drag */ \"./node_modules/d3-drag/src/index.js\");\n/* harmony import */ var _index2_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./index2.js */ \"./node_modules/react-flow-renderer/dist/esm/index2.js\");\n/* harmony import */ var _index3_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./index3.js */ \"./node_modules/react-flow-renderer/dist/esm/index3.js\");\n/* harmony import */ var _useUpdateNodeInternals_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./useUpdateNodeInternals.js */ \"./node_modules/react-flow-renderer/dist/esm/useUpdateNodeInternals.js\");\n/* harmony import */ var _useNodes_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./useNodes.js */ \"./node_modules/react-flow-renderer/dist/esm/useNodes.js\");\n/* harmony import */ var _useEdges_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./useEdges.js */ \"./node_modules/react-flow-renderer/dist/esm/useEdges.js\");\n/* harmony import */ var _useViewport_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./useViewport.js */ \"./node_modules/react-flow-renderer/dist/esm/useViewport.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar accounts = ['paid-pro', 'paid-sponsor', 'paid-enterprise', 'paid-custom'];\n\nfunction Attribution(_ref) {\n  var proOptions = _ref.proOptions,\n      _ref$position = _ref.position,\n      position = _ref$position === void 0 ? 'bottom-right' : _ref$position;\n\n  if (proOptions !== null && proOptions !== void 0 && proOptions.account && accounts.includes(proOptions === null || proOptions === void 0 ? void 0 : proOptions.account) && proOptions !== null && proOptions !== void 0 && proOptions.hideAttribution) {\n    return null;\n  }\n\n  var positionClasses = \"\".concat(position).split('-');\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n    className: (0,classcat__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(['react-flow__attribution'].concat((0,_useReactFlow_993c30ca_js__WEBPACK_IMPORTED_MODULE_4__._)(positionClasses))),\n    \"data-message\": \"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev/pricing\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"a\", {\n    href: \"https://reactflow.dev\",\n    target: \"_blank\",\n    rel: \"noopener noreferrer\"\n  }, \"React Flow\"));\n}\n\nvar _excluded$2 = [\"x\", \"y\", \"label\", \"labelStyle\", \"labelShowBg\", \"labelBgStyle\", \"labelBgPadding\", \"labelBgBorderRadius\", \"children\", \"className\"];\n\nfunction ownKeys$c(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$c(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$c(Object(source), !0).forEach(function (key) { (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.a)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$c(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nvar EdgeText = function EdgeText(_ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      label = _ref.label,\n      _ref$labelStyle = _ref.labelStyle,\n      labelStyle = _ref$labelStyle === void 0 ? {} : _ref$labelStyle,\n      _ref$labelShowBg = _ref.labelShowBg,\n      labelShowBg = _ref$labelShowBg === void 0 ? true : _ref$labelShowBg,\n      _ref$labelBgStyle = _ref.labelBgStyle,\n      labelBgStyle = _ref$labelBgStyle === void 0 ? {} : _ref$labelBgStyle,\n      _ref$labelBgPadding = _ref.labelBgPadding,\n      labelBgPadding = _ref$labelBgPadding === void 0 ? [2, 4] : _ref$labelBgPadding,\n      _ref$labelBgBorderRad = _ref.labelBgBorderRadius,\n      labelBgBorderRadius = _ref$labelBgBorderRad === void 0 ? 2 : _ref$labelBgBorderRad,\n      children = _ref.children,\n      className = _ref.className,\n      rest = (0,_index_20df97c0_js__WEBPACK_IMPORTED_MODULE_1__._)(_ref, _excluded$2);\n\n  var edgeRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  }),\n      _useState2 = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__._)(_useState, 2),\n      edgeTextBbox = _useState2[0],\n      setEdgeTextBbox = _useState2[1];\n\n  var edgeTextClasses = (0,classcat__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(['react-flow__edge-textwrapper', className]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function () {\n    if (edgeRef.current) {\n      var textBbox = edgeRef.current.getBBox();\n      setEdgeTextBbox({\n        x: textBbox.x,\n        y: textBbox.y,\n        width: textBbox.width,\n        height: textBbox.height\n      });\n    }\n  }, [label]);\n\n  if (typeof label === 'undefined' || !label) {\n    return null;\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"g\", _objectSpread$c({\n    transform: \"translate(\".concat(x - edgeTextBbox.width / 2, \" \").concat(y - edgeTextBbox.height / 2, \")\"),\n    className: edgeTextClasses\n  }, rest), labelShowBg && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"rect\", {\n    width: edgeTextBbox.width + 2 * labelBgPadding[0],\n    x: -labelBgPadding[0],\n    y: -labelBgPadding[1],\n    height: edgeTextBbox.height + 2 * labelBgPadding[1],\n    className: \"react-flow__edge-textbg\",\n    style: labelBgStyle,\n    rx: labelBgBorderRadius,\n    ry: labelBgBorderRadius\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"text\", {\n    className: \"react-flow__edge-text\",\n    y: edgeTextBbox.height / 2,\n    dy: \"0.3em\",\n    ref: edgeRef,\n    style: labelStyle\n  }, label), children);\n};\n\nvar EdgeText$1 = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_2__.memo)(EdgeText);\n\nvar BaseEdge = (function (_ref) {\n  var path = _ref.path,\n      centerX = _ref.centerX,\n      centerY = _ref.centerY,\n      label = _ref.label,\n      labelStyle = _ref.labelStyle,\n      labelShowBg = _ref.labelShowBg,\n      labelBgStyle = _ref.labelBgStyle,\n      labelBgPadding = _ref.labelBgPadding,\n      labelBgBorderRadius = _ref.labelBgBorderRadius,\n      style = _ref.style,\n      markerEnd = _ref.markerEnd,\n      markerStart = _ref.markerStart;\n  var text = label ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(EdgeText$1, {\n    x: centerX,\n    y: centerY,\n    label: label,\n    labelStyle: labelStyle,\n    labelShowBg: labelShowBg,\n    labelBgStyle: labelBgStyle,\n    labelBgPadding: labelBgPadding,\n    labelBgBorderRadius: labelBgBorderRadius\n  }) : null;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement((react__WEBPACK_IMPORTED_MODULE_2___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"path\", {\n    style: style,\n    d: path,\n    className: \"react-flow__edge-path\",\n    markerEnd: markerEnd,\n    markerStart: markerStart\n  }), text);\n});\n\nfunction getControl(_ref) {\n  var pos = _ref.pos,\n      x1 = _ref.x1,\n      y1 = _ref.y1,\n      x2 = _ref.x2,\n      y2 = _ref.y2;\n  var ctX, ctY;\n\n  switch (pos) {\n    case _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Left:\n    case _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Right:\n      {\n        ctX = 0.5 * (x1 + x2);\n        ctY = y1;\n      }\n      break;\n\n    case _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Top:\n    case _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Bottom:\n      {\n        ctX = x1;\n        ctY = 0.5 * (y1 + y2);\n      }\n      break;\n  }\n\n  return [ctX, ctY];\n}\n\nfunction getSimpleBezierPath(_ref2) {\n  var sourceX = _ref2.sourceX,\n      sourceY = _ref2.sourceY,\n      _ref2$sourcePosition = _ref2.sourcePosition,\n      sourcePosition = _ref2$sourcePosition === void 0 ? _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Bottom : _ref2$sourcePosition,\n      targetX = _ref2.targetX,\n      targetY = _ref2.targetY,\n      _ref2$targetPosition = _ref2.targetPosition,\n      targetPosition = _ref2$targetPosition === void 0 ? _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Top : _ref2$targetPosition;\n\n  var _getControl = getControl({\n    pos: sourcePosition,\n    x1: sourceX,\n    y1: sourceY,\n    x2: targetX,\n    y2: targetY\n  }),\n      _getControl2 = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__._)(_getControl, 2),\n      sourceControlX = _getControl2[0],\n      sourceControlY = _getControl2[1];\n\n  var _getControl3 = getControl({\n    pos: targetPosition,\n    x1: targetX,\n    y1: targetY,\n    x2: sourceX,\n    y2: sourceY\n  }),\n      _getControl4 = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__._)(_getControl3, 2),\n      targetControlX = _getControl4[0],\n      targetControlY = _getControl4[1];\n\n  return \"M\".concat(sourceX, \",\").concat(sourceY, \" C\").concat(sourceControlX, \",\").concat(sourceControlY, \" \").concat(targetControlX, \",\").concat(targetControlY, \" \").concat(targetX, \",\").concat(targetY);\n} // @TODO: this function will recalculate the control points\n// one option is to let getXXXPath() return center points\n// but will introduce breaking changes\n// the getCenter() of other types of edges might need to change, too\n\nfunction getSimpleBezierCenter(_ref3) {\n  var sourceX = _ref3.sourceX,\n      sourceY = _ref3.sourceY,\n      _ref3$sourcePosition = _ref3.sourcePosition,\n      sourcePosition = _ref3$sourcePosition === void 0 ? _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Bottom : _ref3$sourcePosition,\n      targetX = _ref3.targetX,\n      targetY = _ref3.targetY,\n      _ref3$targetPosition = _ref3.targetPosition,\n      targetPosition = _ref3$targetPosition === void 0 ? _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Top : _ref3$targetPosition;\n\n  var _getControl5 = getControl({\n    pos: sourcePosition,\n    x1: sourceX,\n    y1: sourceY,\n    x2: targetX,\n    y2: targetY\n  }),\n      _getControl6 = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__._)(_getControl5, 2),\n      sourceControlX = _getControl6[0],\n      sourceControlY = _getControl6[1];\n\n  var _getControl7 = getControl({\n    pos: targetPosition,\n    x1: targetX,\n    y1: targetY,\n    x2: sourceX,\n    y2: sourceY\n  }),\n      _getControl8 = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__._)(_getControl7, 2),\n      targetControlX = _getControl8[0],\n      targetControlY = _getControl8[1]; // cubic bezier t=0.5 mid point, not the actual mid point, but easy to calculate\n  // https://stackoverflow.com/questions/67516101/how-to-find-distance-mid-point-of-bezier-curve\n\n\n  var centerX = sourceX * 0.125 + sourceControlX * 0.375 + targetControlX * 0.375 + targetX * 0.125;\n  var centerY = sourceY * 0.125 + sourceControlY * 0.375 + targetControlY * 0.375 + targetY * 0.125;\n  var xOffset = Math.abs(centerX - sourceX);\n  var yOffset = Math.abs(centerY - sourceY);\n  return [centerX, centerY, xOffset, yOffset];\n}\nvar SimpleBezierEdge = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_2__.memo)(function (_ref4) {\n  var sourceX = _ref4.sourceX,\n      sourceY = _ref4.sourceY,\n      targetX = _ref4.targetX,\n      targetY = _ref4.targetY,\n      _ref4$sourcePosition = _ref4.sourcePosition,\n      sourcePosition = _ref4$sourcePosition === void 0 ? _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Bottom : _ref4$sourcePosition,\n      _ref4$targetPosition = _ref4.targetPosition,\n      targetPosition = _ref4$targetPosition === void 0 ? _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Top : _ref4$targetPosition,\n      label = _ref4.label,\n      labelStyle = _ref4.labelStyle,\n      labelShowBg = _ref4.labelShowBg,\n      labelBgStyle = _ref4.labelBgStyle,\n      labelBgPadding = _ref4.labelBgPadding,\n      labelBgBorderRadius = _ref4.labelBgBorderRadius,\n      style = _ref4.style,\n      markerEnd = _ref4.markerEnd,\n      markerStart = _ref4.markerStart;\n  var params = {\n    sourceX: sourceX,\n    sourceY: sourceY,\n    sourcePosition: sourcePosition,\n    targetX: targetX,\n    targetY: targetY,\n    targetPosition: targetPosition\n  };\n  var path = getSimpleBezierPath(params);\n\n  var _getSimpleBezierCente = getSimpleBezierCenter(params),\n      _getSimpleBezierCente2 = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__._)(_getSimpleBezierCente, 2),\n      centerX = _getSimpleBezierCente2[0],\n      centerY = _getSimpleBezierCente2[1];\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(BaseEdge, {\n    path: path,\n    centerX: centerX,\n    centerY: centerY,\n    label: label,\n    labelStyle: labelStyle,\n    labelShowBg: labelShowBg,\n    labelBgStyle: labelBgStyle,\n    labelBgPadding: labelBgPadding,\n    labelBgBorderRadius: labelBgBorderRadius,\n    style: style,\n    markerEnd: markerEnd,\n    markerStart: markerStart\n  });\n});\n\nfunction ownKeys$b(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$b(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$b(Object(source), !0).forEach(function (key) { (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.a)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$b(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar getMarkerEnd = function getMarkerEnd(markerType, markerEndId) {\n  if (typeof markerEndId !== 'undefined' && markerEndId) {\n    return \"url(#\".concat(markerEndId, \")\");\n  }\n\n  return typeof markerType !== 'undefined' ? \"url(#react-flow__\".concat(markerType, \")\") : 'none';\n};\nvar LeftOrRight = [_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Left, _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Right];\nvar getCenter = function getCenter(_ref) {\n  var sourceX = _ref.sourceX,\n      sourceY = _ref.sourceY,\n      targetX = _ref.targetX,\n      targetY = _ref.targetY,\n      _ref$sourcePosition = _ref.sourcePosition,\n      sourcePosition = _ref$sourcePosition === void 0 ? _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Bottom : _ref$sourcePosition,\n      _ref$targetPosition = _ref.targetPosition,\n      targetPosition = _ref$targetPosition === void 0 ? _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Top : _ref$targetPosition;\n  var sourceIsLeftOrRight = LeftOrRight.includes(sourcePosition);\n  var targetIsLeftOrRight = LeftOrRight.includes(targetPosition); // we expect flows to be horizontal or vertical (all handles left or right respectively top or bottom)\n  // a mixed edge is when one the source is on the left and the target is on the top for example.\n\n  var mixedEdge = sourceIsLeftOrRight && !targetIsLeftOrRight || targetIsLeftOrRight && !sourceIsLeftOrRight;\n\n  if (mixedEdge) {\n    var _xOffset = sourceIsLeftOrRight ? Math.abs(targetX - sourceX) : 0;\n\n    var _centerX = sourceX > targetX ? sourceX - _xOffset : sourceX + _xOffset;\n\n    var _yOffset = sourceIsLeftOrRight ? 0 : Math.abs(targetY - sourceY);\n\n    var _centerY = sourceY < targetY ? sourceY + _yOffset : sourceY - _yOffset;\n\n    return [_centerX, _centerY, _xOffset, _yOffset];\n  }\n\n  var xOffset = Math.abs(targetX - sourceX) / 2;\n  var centerX = targetX < sourceX ? targetX + xOffset : targetX - xOffset;\n  var yOffset = Math.abs(targetY - sourceY) / 2;\n  var centerY = targetY < sourceY ? targetY + yOffset : targetY - yOffset;\n  return [centerX, centerY, xOffset, yOffset];\n};\nfunction getMouseHandler(id, getState, handler) {\n  return handler === undefined ? handler : function (event) {\n    var edge = getState().edges.find(function (e) {\n      return e.id === id;\n    });\n    handler(event, _objectSpread$b({}, edge));\n  };\n}\n\n// The name indicates the direction of the path. \"bottomLeftCorner\" goes\n// from bottom to the left and \"leftBottomCorner\" goes from left to the bottom.\n// We have to consider the direction of the paths because of the animated lines.\n\nvar bottomLeftCorner = function bottomLeftCorner(x, y, size) {\n  return \"L \".concat(x, \",\").concat(y - size, \"Q \").concat(x, \",\").concat(y, \" \").concat(x + size, \",\").concat(y);\n};\n\nvar leftBottomCorner = function leftBottomCorner(x, y, size) {\n  return \"L \".concat(x + size, \",\").concat(y, \"Q \").concat(x, \",\").concat(y, \" \").concat(x, \",\").concat(y - size);\n};\n\nvar bottomRightCorner = function bottomRightCorner(x, y, size) {\n  return \"L \".concat(x, \",\").concat(y - size, \"Q \").concat(x, \",\").concat(y, \" \").concat(x - size, \",\").concat(y);\n};\n\nvar rightBottomCorner = function rightBottomCorner(x, y, size) {\n  return \"L \".concat(x - size, \",\").concat(y, \"Q \").concat(x, \",\").concat(y, \" \").concat(x, \",\").concat(y - size);\n};\n\nvar leftTopCorner = function leftTopCorner(x, y, size) {\n  return \"L \".concat(x + size, \",\").concat(y, \"Q \").concat(x, \",\").concat(y, \" \").concat(x, \",\").concat(y + size);\n};\n\nvar topLeftCorner = function topLeftCorner(x, y, size) {\n  return \"L \".concat(x, \",\").concat(y + size, \"Q \").concat(x, \",\").concat(y, \" \").concat(x + size, \",\").concat(y);\n};\n\nvar topRightCorner = function topRightCorner(x, y, size) {\n  return \"L \".concat(x, \",\").concat(y + size, \"Q \").concat(x, \",\").concat(y, \" \").concat(x - size, \",\").concat(y);\n};\n\nvar rightTopCorner = function rightTopCorner(x, y, size) {\n  return \"L \".concat(x - size, \",\").concat(y, \"Q \").concat(x, \",\").concat(y, \" \").concat(x, \",\").concat(y + size);\n};\n\nfunction getSmoothStepPath(_ref) {\n  var sourceX = _ref.sourceX,\n      sourceY = _ref.sourceY,\n      _ref$sourcePosition = _ref.sourcePosition,\n      sourcePosition = _ref$sourcePosition === void 0 ? _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Bottom : _ref$sourcePosition,\n      targetX = _ref.targetX,\n      targetY = _ref.targetY,\n      _ref$targetPosition = _ref.targetPosition,\n      targetPosition = _ref$targetPosition === void 0 ? _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Top : _ref$targetPosition,\n      _ref$borderRadius = _ref.borderRadius,\n      borderRadius = _ref$borderRadius === void 0 ? 5 : _ref$borderRadius,\n      centerX = _ref.centerX,\n      centerY = _ref.centerY;\n\n  var _getCenter = getCenter({\n    sourceX: sourceX,\n    sourceY: sourceY,\n    targetX: targetX,\n    targetY: targetY\n  }),\n      _getCenter2 = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__._)(_getCenter, 4),\n      _centerX = _getCenter2[0],\n      _centerY = _getCenter2[1],\n      offsetX = _getCenter2[2],\n      offsetY = _getCenter2[3];\n\n  var cornerWidth = Math.min(borderRadius, Math.abs(targetX - sourceX));\n  var cornerHeight = Math.min(borderRadius, Math.abs(targetY - sourceY));\n  var cornerSize = Math.min(cornerWidth, cornerHeight, offsetX, offsetY);\n  var leftAndRight = [_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Left, _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Right];\n  var cX = typeof centerX !== 'undefined' ? centerX : _centerX;\n  var cY = typeof centerY !== 'undefined' ? centerY : _centerY;\n  var firstCornerPath = null;\n  var secondCornerPath = null;\n\n  if (sourceX <= targetX) {\n    firstCornerPath = sourceY <= targetY ? bottomLeftCorner(sourceX, cY, cornerSize) : topLeftCorner(sourceX, cY, cornerSize);\n    secondCornerPath = sourceY <= targetY ? rightTopCorner(targetX, cY, cornerSize) : rightBottomCorner(targetX, cY, cornerSize);\n  } else {\n    firstCornerPath = sourceY < targetY ? bottomRightCorner(sourceX, cY, cornerSize) : topRightCorner(sourceX, cY, cornerSize);\n    secondCornerPath = sourceY < targetY ? leftTopCorner(targetX, cY, cornerSize) : leftBottomCorner(targetX, cY, cornerSize);\n  }\n\n  if (leftAndRight.includes(sourcePosition) && leftAndRight.includes(targetPosition)) {\n    if (sourceX <= targetX) {\n      firstCornerPath = sourceY <= targetY ? rightTopCorner(cX, sourceY, cornerSize) : rightBottomCorner(cX, sourceY, cornerSize);\n      secondCornerPath = sourceY <= targetY ? bottomLeftCorner(cX, targetY, cornerSize) : topLeftCorner(cX, targetY, cornerSize);\n    } else if (sourcePosition === _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Right && targetPosition === _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Left || sourcePosition === _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Left && targetPosition === _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Right || sourcePosition === _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Left && targetPosition === _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Left) {\n      // and sourceX > targetX\n      firstCornerPath = sourceY <= targetY ? leftTopCorner(cX, sourceY, cornerSize) : leftBottomCorner(cX, sourceY, cornerSize);\n      secondCornerPath = sourceY <= targetY ? bottomRightCorner(cX, targetY, cornerSize) : topRightCorner(cX, targetY, cornerSize);\n    }\n  } else if (leftAndRight.includes(sourcePosition) && !leftAndRight.includes(targetPosition)) {\n    if (sourceX <= targetX) {\n      firstCornerPath = sourceY <= targetY ? rightTopCorner(targetX, sourceY, cornerSize) : rightBottomCorner(targetX, sourceY, cornerSize);\n    } else {\n      firstCornerPath = sourceY <= targetY ? leftTopCorner(targetX, sourceY, cornerSize) : leftBottomCorner(targetX, sourceY, cornerSize);\n    }\n\n    secondCornerPath = '';\n  } else if (!leftAndRight.includes(sourcePosition) && leftAndRight.includes(targetPosition)) {\n    if (sourceX <= targetX) {\n      firstCornerPath = sourceY <= targetY ? bottomLeftCorner(sourceX, targetY, cornerSize) : topLeftCorner(sourceX, targetY, cornerSize);\n    } else {\n      firstCornerPath = sourceY <= targetY ? bottomRightCorner(sourceX, targetY, cornerSize) : topRightCorner(sourceX, targetY, cornerSize);\n    }\n\n    secondCornerPath = '';\n  }\n\n  return \"M \".concat(sourceX, \",\").concat(sourceY).concat(firstCornerPath).concat(secondCornerPath, \"L \").concat(targetX, \",\").concat(targetY);\n}\nvar SmoothStepEdge = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_2__.memo)(function (_ref2) {\n  var sourceX = _ref2.sourceX,\n      sourceY = _ref2.sourceY,\n      targetX = _ref2.targetX,\n      targetY = _ref2.targetY,\n      label = _ref2.label,\n      labelStyle = _ref2.labelStyle,\n      labelShowBg = _ref2.labelShowBg,\n      labelBgStyle = _ref2.labelBgStyle,\n      labelBgPadding = _ref2.labelBgPadding,\n      labelBgBorderRadius = _ref2.labelBgBorderRadius,\n      style = _ref2.style,\n      _ref2$sourcePosition = _ref2.sourcePosition,\n      sourcePosition = _ref2$sourcePosition === void 0 ? _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Bottom : _ref2$sourcePosition,\n      _ref2$targetPosition = _ref2.targetPosition,\n      targetPosition = _ref2$targetPosition === void 0 ? _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Top : _ref2$targetPosition,\n      markerEnd = _ref2.markerEnd,\n      markerStart = _ref2.markerStart,\n      _ref2$borderRadius = _ref2.borderRadius,\n      borderRadius = _ref2$borderRadius === void 0 ? 5 : _ref2$borderRadius;\n\n  var _getCenter3 = getCenter({\n    sourceX: sourceX,\n    sourceY: sourceY,\n    targetX: targetX,\n    targetY: targetY,\n    sourcePosition: sourcePosition,\n    targetPosition: targetPosition\n  }),\n      _getCenter4 = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__._)(_getCenter3, 2),\n      centerX = _getCenter4[0],\n      centerY = _getCenter4[1];\n\n  var path = getSmoothStepPath({\n    sourceX: sourceX,\n    sourceY: sourceY,\n    sourcePosition: sourcePosition,\n    targetX: targetX,\n    targetY: targetY,\n    targetPosition: targetPosition,\n    borderRadius: borderRadius\n  });\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(BaseEdge, {\n    path: path,\n    centerX: centerX,\n    centerY: centerY,\n    label: label,\n    labelStyle: labelStyle,\n    labelShowBg: labelShowBg,\n    labelBgStyle: labelBgStyle,\n    labelBgPadding: labelBgPadding,\n    labelBgBorderRadius: labelBgBorderRadius,\n    style: style,\n    markerEnd: markerEnd,\n    markerStart: markerStart\n  });\n});\n\nfunction ownKeys$a(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$a(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$a(Object(source), !0).forEach(function (key) { (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.a)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$a(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar StepEdge = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_2__.memo)(function (props) {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(SmoothStepEdge, _objectSpread$a(_objectSpread$a({}, props), {}, {\n    borderRadius: 0\n  }));\n});\n\nvar StraightEdge = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_2__.memo)(function (_ref) {\n  var sourceX = _ref.sourceX,\n      sourceY = _ref.sourceY,\n      targetX = _ref.targetX,\n      targetY = _ref.targetY,\n      label = _ref.label,\n      labelStyle = _ref.labelStyle,\n      labelShowBg = _ref.labelShowBg,\n      labelBgStyle = _ref.labelBgStyle,\n      labelBgPadding = _ref.labelBgPadding,\n      labelBgBorderRadius = _ref.labelBgBorderRadius,\n      style = _ref.style,\n      markerEnd = _ref.markerEnd,\n      markerStart = _ref.markerStart;\n  var yOffset = Math.abs(targetY - sourceY) / 2;\n  var centerY = targetY < sourceY ? targetY + yOffset : targetY - yOffset;\n  var xOffset = Math.abs(targetX - sourceX) / 2;\n  var centerX = targetX < sourceX ? targetX + xOffset : targetX - xOffset;\n  var path = \"M \".concat(sourceX, \",\").concat(sourceY, \"L \").concat(targetX, \",\").concat(targetY);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(BaseEdge, {\n    path: path,\n    centerX: centerX,\n    centerY: centerY,\n    label: label,\n    labelStyle: labelStyle,\n    labelShowBg: labelShowBg,\n    labelBgStyle: labelBgStyle,\n    labelBgPadding: labelBgPadding,\n    labelBgBorderRadius: labelBgBorderRadius,\n    style: style,\n    markerEnd: markerEnd,\n    markerStart: markerStart\n  });\n});\n\nfunction calculateControlOffset(distance, curvature) {\n  if (distance >= 0) {\n    return 0.5 * distance;\n  } else {\n    return curvature * 25 * Math.sqrt(-distance);\n  }\n}\n\nfunction getControlWithCurvature(_ref) {\n  var pos = _ref.pos,\n      x1 = _ref.x1,\n      y1 = _ref.y1,\n      x2 = _ref.x2,\n      y2 = _ref.y2,\n      c = _ref.c;\n  var ctX, ctY;\n\n  switch (pos) {\n    case _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Left:\n      {\n        ctX = x1 - calculateControlOffset(x1 - x2, c);\n        ctY = y1;\n      }\n      break;\n\n    case _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Right:\n      {\n        ctX = x1 + calculateControlOffset(x2 - x1, c);\n        ctY = y1;\n      }\n      break;\n\n    case _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Top:\n      {\n        ctX = x1;\n        ctY = y1 - calculateControlOffset(y1 - y2, c);\n      }\n      break;\n\n    case _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Bottom:\n      {\n        ctX = x1;\n        ctY = y1 + calculateControlOffset(y2 - y1, c);\n      }\n      break;\n  }\n\n  return [ctX, ctY];\n}\n\nfunction getBezierPath(_ref2) {\n  var sourceX = _ref2.sourceX,\n      sourceY = _ref2.sourceY,\n      _ref2$sourcePosition = _ref2.sourcePosition,\n      sourcePosition = _ref2$sourcePosition === void 0 ? _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Bottom : _ref2$sourcePosition,\n      targetX = _ref2.targetX,\n      targetY = _ref2.targetY,\n      _ref2$targetPosition = _ref2.targetPosition,\n      targetPosition = _ref2$targetPosition === void 0 ? _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Top : _ref2$targetPosition,\n      _ref2$curvature = _ref2.curvature,\n      curvature = _ref2$curvature === void 0 ? 0.25 : _ref2$curvature;\n\n  var _getControlWithCurvat = getControlWithCurvature({\n    pos: sourcePosition,\n    x1: sourceX,\n    y1: sourceY,\n    x2: targetX,\n    y2: targetY,\n    c: curvature\n  }),\n      _getControlWithCurvat2 = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__._)(_getControlWithCurvat, 2),\n      sourceControlX = _getControlWithCurvat2[0],\n      sourceControlY = _getControlWithCurvat2[1];\n\n  var _getControlWithCurvat3 = getControlWithCurvature({\n    pos: targetPosition,\n    x1: targetX,\n    y1: targetY,\n    x2: sourceX,\n    y2: sourceY,\n    c: curvature\n  }),\n      _getControlWithCurvat4 = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__._)(_getControlWithCurvat3, 2),\n      targetControlX = _getControlWithCurvat4[0],\n      targetControlY = _getControlWithCurvat4[1];\n\n  return \"M\".concat(sourceX, \",\").concat(sourceY, \" C\").concat(sourceControlX, \",\").concat(sourceControlY, \" \").concat(targetControlX, \",\").concat(targetControlY, \" \").concat(targetX, \",\").concat(targetY);\n} // @TODO: this function will recalculate the control points\n// one option is to let getXXXPath() return center points\n// but will introduce breaking changes\n// the getCenter() of other types of edges might need to change, too\n\nfunction getBezierCenter(_ref3) {\n  var sourceX = _ref3.sourceX,\n      sourceY = _ref3.sourceY,\n      _ref3$sourcePosition = _ref3.sourcePosition,\n      sourcePosition = _ref3$sourcePosition === void 0 ? _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Bottom : _ref3$sourcePosition,\n      targetX = _ref3.targetX,\n      targetY = _ref3.targetY,\n      _ref3$targetPosition = _ref3.targetPosition,\n      targetPosition = _ref3$targetPosition === void 0 ? _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Top : _ref3$targetPosition,\n      _ref3$curvature = _ref3.curvature,\n      curvature = _ref3$curvature === void 0 ? 0.25 : _ref3$curvature;\n\n  var _getControlWithCurvat5 = getControlWithCurvature({\n    pos: sourcePosition,\n    x1: sourceX,\n    y1: sourceY,\n    x2: targetX,\n    y2: targetY,\n    c: curvature\n  }),\n      _getControlWithCurvat6 = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__._)(_getControlWithCurvat5, 2),\n      sourceControlX = _getControlWithCurvat6[0],\n      sourceControlY = _getControlWithCurvat6[1];\n\n  var _getControlWithCurvat7 = getControlWithCurvature({\n    pos: targetPosition,\n    x1: targetX,\n    y1: targetY,\n    x2: sourceX,\n    y2: sourceY,\n    c: curvature\n  }),\n      _getControlWithCurvat8 = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__._)(_getControlWithCurvat7, 2),\n      targetControlX = _getControlWithCurvat8[0],\n      targetControlY = _getControlWithCurvat8[1]; // cubic bezier t=0.5 mid point, not the actual mid point, but easy to calculate\n  // https://stackoverflow.com/questions/67516101/how-to-find-distance-mid-point-of-bezier-curve\n\n\n  var centerX = sourceX * 0.125 + sourceControlX * 0.375 + targetControlX * 0.375 + targetX * 0.125;\n  var centerY = sourceY * 0.125 + sourceControlY * 0.375 + targetControlY * 0.375 + targetY * 0.125;\n  var xOffset = Math.abs(centerX - sourceX);\n  var yOffset = Math.abs(centerY - sourceY);\n  return [centerX, centerY, xOffset, yOffset];\n}\nvar BezierEdge = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_2__.memo)(function (_ref4) {\n  var sourceX = _ref4.sourceX,\n      sourceY = _ref4.sourceY,\n      targetX = _ref4.targetX,\n      targetY = _ref4.targetY,\n      _ref4$sourcePosition = _ref4.sourcePosition,\n      sourcePosition = _ref4$sourcePosition === void 0 ? _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Bottom : _ref4$sourcePosition,\n      _ref4$targetPosition = _ref4.targetPosition,\n      targetPosition = _ref4$targetPosition === void 0 ? _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Top : _ref4$targetPosition,\n      label = _ref4.label,\n      labelStyle = _ref4.labelStyle,\n      labelShowBg = _ref4.labelShowBg,\n      labelBgStyle = _ref4.labelBgStyle,\n      labelBgPadding = _ref4.labelBgPadding,\n      labelBgBorderRadius = _ref4.labelBgBorderRadius,\n      style = _ref4.style,\n      markerEnd = _ref4.markerEnd,\n      markerStart = _ref4.markerStart,\n      curvature = _ref4.curvature;\n  var params = {\n    sourceX: sourceX,\n    sourceY: sourceY,\n    sourcePosition: sourcePosition,\n    targetX: targetX,\n    targetY: targetY,\n    targetPosition: targetPosition,\n    curvature: curvature\n  };\n  var path = getBezierPath(params);\n\n  var _getBezierCenter = getBezierCenter(params),\n      _getBezierCenter2 = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__._)(_getBezierCenter, 2),\n      centerX = _getBezierCenter2[0],\n      centerY = _getBezierCenter2[1];\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(BaseEdge, {\n    path: path,\n    centerX: centerX,\n    centerY: centerY,\n    label: label,\n    labelStyle: labelStyle,\n    labelShowBg: labelShowBg,\n    labelBgStyle: labelBgStyle,\n    labelBgPadding: labelBgPadding,\n    labelBgBorderRadius: labelBgBorderRadius,\n    style: style,\n    markerEnd: markerEnd,\n    markerStart: markerStart\n  });\n});\n\nvar NodeIdContext = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_2__.createContext)(null);\nvar Provider = NodeIdContext.Provider;\nNodeIdContext.Consumer;\n\nfunction checkElementBelowIsValid(event, connectionMode, isTarget, nodeId, handleId, isValidConnection, doc) {\n  var elementBelow = doc.elementFromPoint(event.clientX, event.clientY);\n  var elementBelowIsTarget = (elementBelow === null || elementBelow === void 0 ? void 0 : elementBelow.classList.contains('target')) || false;\n  var elementBelowIsSource = (elementBelow === null || elementBelow === void 0 ? void 0 : elementBelow.classList.contains('source')) || false;\n  var result = {\n    elementBelow: elementBelow,\n    isValid: false,\n    connection: {\n      source: null,\n      target: null,\n      sourceHandle: null,\n      targetHandle: null\n    },\n    isHoveringHandle: false\n  };\n\n  if (elementBelow && (elementBelowIsTarget || elementBelowIsSource)) {\n    result.isHoveringHandle = true;\n    var elementBelowNodeId = elementBelow.getAttribute('data-nodeid');\n    var elementBelowHandleId = elementBelow.getAttribute('data-handleid');\n    var connection = isTarget ? {\n      source: elementBelowNodeId,\n      sourceHandle: elementBelowHandleId,\n      target: nodeId,\n      targetHandle: handleId\n    } : {\n      source: nodeId,\n      sourceHandle: handleId,\n      target: elementBelowNodeId,\n      targetHandle: elementBelowHandleId\n    };\n    result.connection = connection; // in strict mode we don't allow target to target or source to source connections\n\n    var isValid = connectionMode === _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.C.Strict ? isTarget && elementBelowIsSource || !isTarget && elementBelowIsTarget : true;\n\n    if (isValid) {\n      result.isValid = isValidConnection(connection);\n    }\n  }\n\n  return result;\n}\n\nfunction resetRecentHandle(hoveredHandle) {\n  hoveredHandle === null || hoveredHandle === void 0 ? void 0 : hoveredHandle.classList.remove('react-flow__handle-valid');\n  hoveredHandle === null || hoveredHandle === void 0 ? void 0 : hoveredHandle.classList.remove('react-flow__handle-connecting');\n}\n\nfunction handleMouseDown(_ref) {\n  var event = _ref.event,\n      handleId = _ref.handleId,\n      nodeId = _ref.nodeId,\n      onConnect = _ref.onConnect,\n      isTarget = _ref.isTarget,\n      getState = _ref.getState,\n      setState = _ref.setState,\n      isValidConnection = _ref.isValidConnection,\n      elementEdgeUpdaterType = _ref.elementEdgeUpdaterType,\n      onEdgeUpdateEnd = _ref.onEdgeUpdateEnd;\n  var reactFlowNode = event.target.closest('.react-flow'); // when react-flow is used inside a shadow root we can't use document\n\n  var doc = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.g)(event.target);\n\n  if (!doc) {\n    return;\n  }\n\n  var elementBelow = doc.elementFromPoint(event.clientX, event.clientY);\n  var elementBelowIsTarget = elementBelow === null || elementBelow === void 0 ? void 0 : elementBelow.classList.contains('target');\n  var elementBelowIsSource = elementBelow === null || elementBelow === void 0 ? void 0 : elementBelow.classList.contains('source');\n\n  if (!reactFlowNode || !elementBelowIsTarget && !elementBelowIsSource && !elementEdgeUpdaterType) {\n    return;\n  }\n\n  var _getState = getState(),\n      onConnectStart = _getState.onConnectStart,\n      connectionMode = _getState.connectionMode;\n\n  var handleType = elementEdgeUpdaterType ? elementEdgeUpdaterType : elementBelowIsTarget ? 'target' : 'source';\n  var containerBounds = reactFlowNode.getBoundingClientRect();\n  var recentHoveredHandle;\n  setState({\n    connectionPosition: {\n      x: event.clientX - containerBounds.left,\n      y: event.clientY - containerBounds.top\n    },\n    connectionNodeId: nodeId,\n    connectionHandleId: handleId,\n    connectionHandleType: handleType\n  });\n  onConnectStart === null || onConnectStart === void 0 ? void 0 : onConnectStart(event, {\n    nodeId: nodeId,\n    handleId: handleId,\n    handleType: handleType\n  });\n\n  function onMouseMove(event) {\n    setState({\n      connectionPosition: {\n        x: event.clientX - containerBounds.left,\n        y: event.clientY - containerBounds.top\n      }\n    });\n\n    var _checkElementBelowIsV = checkElementBelowIsValid(event, connectionMode, isTarget, nodeId, handleId, isValidConnection, doc),\n        connection = _checkElementBelowIsV.connection,\n        elementBelow = _checkElementBelowIsV.elementBelow,\n        isValid = _checkElementBelowIsV.isValid,\n        isHoveringHandle = _checkElementBelowIsV.isHoveringHandle;\n\n    if (!isHoveringHandle) {\n      return resetRecentHandle(recentHoveredHandle);\n    }\n\n    if (connection.source !== connection.target && elementBelow) {\n      resetRecentHandle(recentHoveredHandle);\n      recentHoveredHandle = elementBelow;\n      elementBelow.classList.add('react-flow__handle-connecting');\n      elementBelow.classList.toggle('react-flow__handle-valid', isValid);\n    }\n  }\n\n  function onMouseUp(event) {\n    var _getState2 = getState(),\n        onConnectStop = _getState2.onConnectStop,\n        onConnectEnd = _getState2.onConnectEnd;\n\n    var _checkElementBelowIsV2 = checkElementBelowIsValid(event, connectionMode, isTarget, nodeId, handleId, isValidConnection, doc),\n        connection = _checkElementBelowIsV2.connection,\n        isValid = _checkElementBelowIsV2.isValid;\n\n    onConnectStop === null || onConnectStop === void 0 ? void 0 : onConnectStop(event);\n\n    if (isValid) {\n      onConnect === null || onConnect === void 0 ? void 0 : onConnect(connection);\n    }\n\n    onConnectEnd === null || onConnectEnd === void 0 ? void 0 : onConnectEnd(event);\n\n    if (elementEdgeUpdaterType && onEdgeUpdateEnd) {\n      onEdgeUpdateEnd(event);\n    }\n\n    resetRecentHandle(recentHoveredHandle);\n    setState({\n      connectionNodeId: null,\n      connectionHandleId: null,\n      connectionHandleType: null\n    });\n    doc.removeEventListener('mousemove', onMouseMove);\n    doc.removeEventListener('mouseup', onMouseUp);\n  }\n\n  doc.addEventListener('mousemove', onMouseMove);\n  doc.addEventListener('mouseup', onMouseUp);\n}\n\nvar _excluded$1 = [\"type\", \"position\", \"isValidConnection\", \"isConnectable\", \"id\", \"onConnect\", \"children\", \"className\", \"onMouseDown\"];\n\nfunction ownKeys$9(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$9(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$9(Object(source), !0).forEach(function (key) { (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.a)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$9(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nvar alwaysValid = function alwaysValid() {\n  return true;\n};\n\nvar selector$a = function selector(s) {\n  return {\n    connectionStartHandle: s.connectionStartHandle,\n    connectOnClick: s.connectOnClick\n  };\n};\n\nvar Handle = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_2__.forwardRef)(function (_ref, ref) {\n  var _ref$type = _ref.type,\n      type = _ref$type === void 0 ? 'source' : _ref$type,\n      _ref$position = _ref.position,\n      position = _ref$position === void 0 ? _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Top : _ref$position,\n      _ref$isValidConnectio = _ref.isValidConnection,\n      isValidConnection = _ref$isValidConnectio === void 0 ? alwaysValid : _ref$isValidConnectio,\n      _ref$isConnectable = _ref.isConnectable,\n      isConnectable = _ref$isConnectable === void 0 ? true : _ref$isConnectable,\n      id = _ref.id,\n      onConnect = _ref.onConnect,\n      children = _ref.children,\n      className = _ref.className,\n      onMouseDown = _ref.onMouseDown,\n      rest = (0,_index_20df97c0_js__WEBPACK_IMPORTED_MODULE_1__._)(_ref, _excluded$1);\n\n  var store = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.u)();\n  var nodeId = (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(NodeIdContext);\n\n  var _useStore = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.b)(selector$a, zustand_shallow__WEBPACK_IMPORTED_MODULE_12__[\"default\"]),\n      connectionStartHandle = _useStore.connectionStartHandle,\n      connectOnClick = _useStore.connectOnClick;\n\n  var handleId = id || null;\n  var isTarget = type === 'target';\n\n  var onConnectExtended = function onConnectExtended(params) {\n    var _store$getState = store.getState(),\n        defaultEdgeOptions = _store$getState.defaultEdgeOptions,\n        onConnectAction = _store$getState.onConnect,\n        hasDefaultEdges = _store$getState.hasDefaultEdges;\n\n    var edgeParams = _objectSpread$9(_objectSpread$9({}, defaultEdgeOptions), params);\n\n    if (hasDefaultEdges) {\n      var _store$getState2 = store.getState(),\n          edges = _store$getState2.edges;\n\n      store.setState({\n        edges: (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.c)(edgeParams, edges)\n      });\n    }\n\n    onConnectAction === null || onConnectAction === void 0 ? void 0 : onConnectAction(edgeParams);\n    onConnect === null || onConnect === void 0 ? void 0 : onConnect(edgeParams);\n  };\n\n  var onMouseDownHandler = function onMouseDownHandler(event) {\n    if (event.button === 0) {\n      handleMouseDown({\n        event: event,\n        handleId: handleId,\n        nodeId: nodeId,\n        onConnect: onConnectExtended,\n        isTarget: isTarget,\n        getState: store.getState,\n        setState: store.setState,\n        isValidConnection: isValidConnection\n      });\n    }\n\n    onMouseDown === null || onMouseDown === void 0 ? void 0 : onMouseDown(event);\n  };\n\n  var onClick = function onClick(event) {\n    var _store$getState3 = store.getState(),\n        onClickConnectStart = _store$getState3.onClickConnectStart,\n        onClickConnectStop = _store$getState3.onClickConnectStop,\n        onClickConnectEnd = _store$getState3.onClickConnectEnd,\n        connectionMode = _store$getState3.connectionMode;\n\n    if (!connectionStartHandle) {\n      onClickConnectStart === null || onClickConnectStart === void 0 ? void 0 : onClickConnectStart(event, {\n        nodeId: nodeId,\n        handleId: handleId,\n        handleType: type\n      });\n      store.setState({\n        connectionStartHandle: {\n          nodeId: nodeId,\n          type: type,\n          handleId: handleId\n        }\n      });\n      return;\n    }\n\n    var doc = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.g)(event.target);\n\n    var _checkElementBelowIsV = checkElementBelowIsValid(event, connectionMode, connectionStartHandle.type === 'target', connectionStartHandle.nodeId, connectionStartHandle.handleId || null, isValidConnection, doc),\n        connection = _checkElementBelowIsV.connection,\n        isValid = _checkElementBelowIsV.isValid;\n\n    onClickConnectStop === null || onClickConnectStop === void 0 ? void 0 : onClickConnectStop(event);\n\n    if (isValid) {\n      onConnectExtended(connection);\n    }\n\n    onClickConnectEnd === null || onClickConnectEnd === void 0 ? void 0 : onClickConnectEnd(event);\n    store.setState({\n      connectionStartHandle: null\n    });\n  };\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", _objectSpread$9({\n    \"data-handleid\": handleId,\n    \"data-nodeid\": nodeId,\n    \"data-handlepos\": position,\n    className: (0,classcat__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(['react-flow__handle', \"react-flow__handle-\".concat(position), 'nodrag', className, {\n      source: !isTarget,\n      target: isTarget,\n      connectable: isConnectable,\n      connecting: (connectionStartHandle === null || connectionStartHandle === void 0 ? void 0 : connectionStartHandle.nodeId) === nodeId && (connectionStartHandle === null || connectionStartHandle === void 0 ? void 0 : connectionStartHandle.handleId) === handleId && (connectionStartHandle === null || connectionStartHandle === void 0 ? void 0 : connectionStartHandle.type) === type\n    }]),\n    onMouseDown: onMouseDownHandler,\n    onClick: connectOnClick ? onClick : undefined,\n    ref: ref\n  }, rest), children);\n});\nHandle.displayName = 'Handle';\nvar Handle$1 = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_2__.memo)(Handle);\n\nvar DefaultNode = function DefaultNode(_ref) {\n  var data = _ref.data,\n      isConnectable = _ref.isConnectable,\n      _ref$targetPosition = _ref.targetPosition,\n      targetPosition = _ref$targetPosition === void 0 ? _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Top : _ref$targetPosition,\n      _ref$sourcePosition = _ref.sourcePosition,\n      sourcePosition = _ref$sourcePosition === void 0 ? _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Bottom : _ref$sourcePosition;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement((react__WEBPACK_IMPORTED_MODULE_2___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(Handle$1, {\n    type: \"target\",\n    position: targetPosition,\n    isConnectable: isConnectable\n  }), data === null || data === void 0 ? void 0 : data.label, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(Handle$1, {\n    type: \"source\",\n    position: sourcePosition,\n    isConnectable: isConnectable\n  }));\n};\n\nDefaultNode.displayName = 'DefaultNode';\nvar DefaultNode$1 = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_2__.memo)(DefaultNode);\n\nvar InputNode = function InputNode(_ref) {\n  var data = _ref.data,\n      isConnectable = _ref.isConnectable,\n      _ref$sourcePosition = _ref.sourcePosition,\n      sourcePosition = _ref$sourcePosition === void 0 ? _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Bottom : _ref$sourcePosition;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement((react__WEBPACK_IMPORTED_MODULE_2___default().Fragment), null, data === null || data === void 0 ? void 0 : data.label, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(Handle$1, {\n    type: \"source\",\n    position: sourcePosition,\n    isConnectable: isConnectable\n  }));\n};\n\nInputNode.displayName = 'InputNode';\nvar InputNode$1 = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_2__.memo)(InputNode);\n\nvar OutputNode = function OutputNode(_ref) {\n  var data = _ref.data,\n      isConnectable = _ref.isConnectable,\n      _ref$targetPosition = _ref.targetPosition,\n      targetPosition = _ref$targetPosition === void 0 ? _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Top : _ref$targetPosition;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement((react__WEBPACK_IMPORTED_MODULE_2___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(Handle$1, {\n    type: \"target\",\n    position: targetPosition,\n    isConnectable: isConnectable\n  }), data === null || data === void 0 ? void 0 : data.label);\n};\n\nOutputNode.displayName = 'OutputNode';\nvar OutputNode$1 = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_2__.memo)(OutputNode);\n\nvar selector$9 = function selector(s) {\n  return {\n    selectedNodes: Array.from(s.nodeInternals.values()).filter(function (n) {\n      return n.selected;\n    }),\n    selectedEdges: s.edges.filter(function (e) {\n      return e.selected;\n    })\n  };\n};\n\nvar areEqual = function areEqual(objA, objB) {\n  var selectedNodeIdsA = objA.selectedNodes.map(function (n) {\n    return n.id;\n  });\n  var selectedNodeIdsB = objB.selectedNodes.map(function (n) {\n    return n.id;\n  });\n  var selectedEdgeIdsA = objA.selectedEdges.map(function (e) {\n    return e.id;\n  });\n  var selectedEdgeIdsB = objB.selectedEdges.map(function (e) {\n    return e.id;\n  });\n  return (0,zustand_shallow__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(selectedNodeIdsA, selectedNodeIdsB) && (0,zustand_shallow__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(selectedEdgeIdsA, selectedEdgeIdsB);\n}; // This is just a helper component for calling the onSelectionChange listener.\n// @TODO: Now that we have the onNodesChange and on EdgesChange listeners, do we still need this component?\n\n\nfunction SelectionListener(_ref) {\n  var onSelectionChange = _ref.onSelectionChange;\n\n  var _useStore = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.b)(selector$9, areEqual),\n      selectedNodes = _useStore.selectedNodes,\n      selectedEdges = _useStore.selectedEdges;\n\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function () {\n    onSelectionChange({\n      nodes: selectedNodes,\n      edges: selectedEdges\n    });\n  }, [selectedNodes, selectedEdges]);\n  return null;\n}\n\nvar SelectionListener$1 = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_2__.memo)(SelectionListener);\n\nvar selector$8 = function selector(s) {\n  return {\n    setNodes: s.setNodes,\n    setEdges: s.setEdges,\n    setDefaultNodesAndEdges: s.setDefaultNodesAndEdges,\n    setMinZoom: s.setMinZoom,\n    setMaxZoom: s.setMaxZoom,\n    setTranslateExtent: s.setTranslateExtent,\n    setNodeExtent: s.setNodeExtent,\n    reset: s.reset\n  };\n};\n\nfunction useStoreUpdater(value, setStoreState) {\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function () {\n    if (typeof value !== 'undefined') {\n      setStoreState(value);\n    }\n  }, [value]);\n}\n\nfunction useDirectStoreUpdater(key, value, setState) {\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function () {\n    if (typeof value !== 'undefined') {\n      // @ts-ignore\n      setState((0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.a)({}, key, value));\n    }\n  }, [value]);\n}\n\nvar StoreUpdater = function StoreUpdater(_ref) {\n  var nodes = _ref.nodes,\n      edges = _ref.edges,\n      defaultNodes = _ref.defaultNodes,\n      defaultEdges = _ref.defaultEdges,\n      onConnect = _ref.onConnect,\n      onConnectStart = _ref.onConnectStart,\n      onConnectStop = _ref.onConnectStop,\n      onConnectEnd = _ref.onConnectEnd,\n      onClickConnectStart = _ref.onClickConnectStart,\n      onClickConnectStop = _ref.onClickConnectStop,\n      onClickConnectEnd = _ref.onClickConnectEnd,\n      nodesDraggable = _ref.nodesDraggable,\n      nodesConnectable = _ref.nodesConnectable,\n      minZoom = _ref.minZoom,\n      maxZoom = _ref.maxZoom,\n      nodeExtent = _ref.nodeExtent,\n      onNodesChange = _ref.onNodesChange,\n      onEdgesChange = _ref.onEdgesChange,\n      elementsSelectable = _ref.elementsSelectable,\n      connectionMode = _ref.connectionMode,\n      snapGrid = _ref.snapGrid,\n      snapToGrid = _ref.snapToGrid,\n      translateExtent = _ref.translateExtent,\n      connectOnClick = _ref.connectOnClick,\n      defaultEdgeOptions = _ref.defaultEdgeOptions,\n      fitView = _ref.fitView,\n      fitViewOptions = _ref.fitViewOptions,\n      onNodesDelete = _ref.onNodesDelete,\n      onEdgesDelete = _ref.onEdgesDelete,\n      onNodeDrag = _ref.onNodeDrag,\n      onNodeDragStart = _ref.onNodeDragStart,\n      onNodeDragStop = _ref.onNodeDragStop,\n      onSelectionDrag = _ref.onSelectionDrag,\n      onSelectionDragStart = _ref.onSelectionDragStart,\n      onSelectionDragStop = _ref.onSelectionDragStop;\n\n  var _useStore = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.b)(selector$8, zustand_shallow__WEBPACK_IMPORTED_MODULE_12__[\"default\"]),\n      setNodes = _useStore.setNodes,\n      setEdges = _useStore.setEdges,\n      setDefaultNodesAndEdges = _useStore.setDefaultNodesAndEdges,\n      setMinZoom = _useStore.setMinZoom,\n      setMaxZoom = _useStore.setMaxZoom,\n      setTranslateExtent = _useStore.setTranslateExtent,\n      setNodeExtent = _useStore.setNodeExtent,\n      reset = _useStore.reset;\n\n  var store = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.u)();\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function () {\n    setDefaultNodesAndEdges(defaultNodes, defaultEdges);\n    return function () {\n      reset();\n    };\n  }, []);\n  useDirectStoreUpdater('defaultEdgeOptions', defaultEdgeOptions, store.setState);\n  useDirectStoreUpdater('connectionMode', connectionMode, store.setState);\n  useDirectStoreUpdater('onConnect', onConnect, store.setState);\n  useDirectStoreUpdater('onConnectStart', onConnectStart, store.setState);\n  useDirectStoreUpdater('onConnectStop', onConnectStop, store.setState);\n  useDirectStoreUpdater('onConnectEnd', onConnectEnd, store.setState);\n  useDirectStoreUpdater('onClickConnectStart', onClickConnectStart, store.setState);\n  useDirectStoreUpdater('onClickConnectStop', onClickConnectStop, store.setState);\n  useDirectStoreUpdater('onClickConnectEnd', onClickConnectEnd, store.setState);\n  useDirectStoreUpdater('nodesDraggable', nodesDraggable, store.setState);\n  useDirectStoreUpdater('nodesConnectable', nodesConnectable, store.setState);\n  useDirectStoreUpdater('elementsSelectable', elementsSelectable, store.setState);\n  useDirectStoreUpdater('snapToGrid', snapToGrid, store.setState);\n  useDirectStoreUpdater('snapGrid', snapGrid, store.setState);\n  useDirectStoreUpdater('onNodesChange', onNodesChange, store.setState);\n  useDirectStoreUpdater('onEdgesChange', onEdgesChange, store.setState);\n  useDirectStoreUpdater('connectOnClick', connectOnClick, store.setState);\n  useDirectStoreUpdater('fitViewOnInit', fitView, store.setState);\n  useDirectStoreUpdater('fitViewOnInitOptions', fitViewOptions, store.setState);\n  useDirectStoreUpdater('onNodesDelete', onNodesDelete, store.setState);\n  useDirectStoreUpdater('onEdgesDelete', onEdgesDelete, store.setState);\n  useDirectStoreUpdater('onNodeDrag', onNodeDrag, store.setState);\n  useDirectStoreUpdater('onNodeDragStart', onNodeDragStart, store.setState);\n  useDirectStoreUpdater('onNodeDragStop', onNodeDragStop, store.setState);\n  useDirectStoreUpdater('onSelectionDrag', onSelectionDrag, store.setState);\n  useDirectStoreUpdater('onSelectionDragStart', onSelectionDragStart, store.setState);\n  useDirectStoreUpdater('onSelectionDragStop', onSelectionDragStop, store.setState);\n  useStoreUpdater(nodes, setNodes);\n  useStoreUpdater(edges, setEdges);\n  useStoreUpdater(defaultNodes, setNodes);\n  useStoreUpdater(defaultEdges, setEdges);\n  useStoreUpdater(minZoom, setMinZoom);\n  useStoreUpdater(maxZoom, setMaxZoom);\n  useStoreUpdater(translateExtent, setTranslateExtent);\n  useStoreUpdater(nodeExtent, setNodeExtent);\n  return null;\n};\n\nvar css_248z$1 = \".react-flow{height:100%;overflow:hidden;position:relative;width:100%}.react-flow__container{height:100%;left:0;position:absolute;top:0;width:100%}.react-flow__pane{z-index:1}.react-flow__viewport{pointer-events:none;transform-origin:0 0;z-index:2}.react-flow__renderer{z-index:4}.react-flow__selectionpane{z-index:5}.react-flow .react-flow__edges{overflow:visible;pointer-events:none}.react-flow .react-flow__connectionline{z-index:1001}.react-flow__edge{pointer-events:visibleStroke}.react-flow__edge.inactive{pointer-events:none}@-webkit-keyframes dashdraw{0%{stroke-dashoffset:10}}@keyframes dashdraw{0%{stroke-dashoffset:10}}.react-flow__edge-path{fill:none}.react-flow__edge-textwrapper{pointer-events:all}.react-flow__edge-text{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.react-flow__connection{pointer-events:none}.react-flow__connection .animated{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__connection-path{fill:none}.react-flow__nodes{pointer-events:none;transform-origin:0 0}.react-flow__node{box-sizing:border-box;pointer-events:all;position:absolute;transform-origin:0 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.react-flow__nodesselection{pointer-events:none;transform-origin:left top;z-index:3}.react-flow__nodesselection-rect{cursor:-webkit-grab;cursor:grab;pointer-events:all;position:absolute}.react-flow__handle{pointer-events:none;position:absolute}.react-flow__handle.connectable{pointer-events:all}.react-flow__handle-bottom{bottom:-4px;left:50%;top:auto;transform:translate(-50%)}.react-flow__handle-top{left:50%;top:-4px;transform:translate(-50%)}.react-flow__handle-left{left:-4px;top:50%;transform:translateY(-50%)}.react-flow__handle-right{right:-4px;top:50%;transform:translateY(-50%)}.react-flow__edgeupdater{cursor:move;pointer-events:all}.react-flow__controls{bottom:20px;left:15px;position:absolute;z-index:5}.react-flow__controls-button{border:none;height:24px;width:24px}.react-flow__controls-button svg{width:100%}.react-flow__minimap{bottom:20px;position:absolute;right:15px;z-index:5}.react-flow__attribution{background:hsla(0,0%,100%,.5);color:#999;font-size:10px;padding:2px 3px;position:absolute;z-index:1000}.react-flow__attribution a{color:#555;text-decoration:none}.react-flow__attribution.top{top:0}.react-flow__attribution.bottom{bottom:0}.react-flow__attribution.left{left:0}.react-flow__attribution.right{right:0}.react-flow__attribution.center{left:50%;transform:translateX(-50%)}\";\nvar css = css_248z$1;\n\nvar css_248z = \".react-flow__edge.selected .react-flow__edge-path{stroke:#555}.react-flow__edge.animated path{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__edge.updating .react-flow__edge-path{stroke:#777}.react-flow__edge-path{stroke:#b1b1b7;stroke-width:1}.react-flow__edge-text{font-size:10px}.react-flow__edge-textbg{fill:#fff}.react-flow__connection-path{stroke:#b1b1b7;stroke-width:1}.react-flow__node{cursor:-webkit-grab;cursor:grab}.react-flow__node-default,.react-flow__node-group,.react-flow__node-input,.react-flow__node-output{background:#fff;border:1px solid #1a192b;border-radius:3px;color:#222;font-size:12px;padding:10px;text-align:center;width:150px}.react-flow__node-default.selected,.react-flow__node-group.selected,.react-flow__node-input.selected,.react-flow__node-output.selected{box-shadow:0 0 0 .5px #1a192b}.react-flow__node-default .react-flow__handle,.react-flow__node-group .react-flow__handle,.react-flow__node-input .react-flow__handle,.react-flow__node-output .react-flow__handle{background:#1a192b}.react-flow__node-default.selectable:hover,.react-flow__node-group.selectable:hover,.react-flow__node-input.selectable:hover,.react-flow__node-output.selectable:hover{box-shadow:0 1px 4px 1px rgba(0,0,0,.08)}.react-flow__node-default.selectable.selected,.react-flow__node-group.selectable.selected,.react-flow__node-input.selectable.selected,.react-flow__node-output.selectable.selected{box-shadow:0 0 0 .5px #1a192b}.react-flow__node-group{background:hsla(0,0%,94%,.25);border-color:#1a192b}.react-flow__nodesselection-rect,.react-flow__selection{background:rgba(0,89,220,.08);border:1px dotted rgba(0,89,220,.8)}.react-flow__handle{background:#555;border:1px solid #fff;border-radius:100%;height:6px;width:6px}.react-flow__handle.connectable{cursor:crosshair}.react-flow__minimap{background-color:#fff}.react-flow__controls{box-shadow:0 0 2px 1px rgba(0,0,0,.08)}.react-flow__controls-button{align-items:center;background:#fefefe;border-bottom:1px solid #eee;box-sizing:content-box;cursor:pointer;display:flex;height:16px;justify-content:center;padding:5px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:16px}.react-flow__controls-button svg{max-height:12px;max-width:12px}.react-flow__controls-button:hover{background:#f4f4f4}\";\nvar theme = css_248z;\n\nvar shiftX = function shiftX(x, shift, position) {\n  if (position === _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Left) return x - shift;\n  if (position === _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Right) return x + shift;\n  return x;\n};\n\nvar shiftY = function shiftY(y, shift, position) {\n  if (position === _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Top) return y - shift;\n  if (position === _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Bottom) return y + shift;\n  return y;\n};\n\nvar EdgeAnchor = function EdgeAnchor(_ref) {\n  var className = _ref.className,\n      position = _ref.position,\n      centerX = _ref.centerX,\n      centerY = _ref.centerY,\n      _ref$radius = _ref.radius,\n      radius = _ref$radius === void 0 ? 10 : _ref$radius;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"circle\", {\n    className: (0,classcat__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(['react-flow__edgeupdater', className]),\n    cx: shiftX(centerX, radius, position),\n    cy: shiftY(centerY, radius, position),\n    r: radius,\n    stroke: \"transparent\",\n    fill: \"transparent\"\n  });\n};\n\nvar wrapEdge = (function (EdgeComponent) {\n  var EdgeWrapper = function EdgeWrapper(_ref) {\n    var id = _ref.id,\n        className = _ref.className,\n        type = _ref.type,\n        data = _ref.data,\n        onClick = _ref.onClick,\n        onEdgeDoubleClick = _ref.onEdgeDoubleClick,\n        selected = _ref.selected,\n        animated = _ref.animated,\n        label = _ref.label,\n        labelStyle = _ref.labelStyle,\n        labelShowBg = _ref.labelShowBg,\n        labelBgStyle = _ref.labelBgStyle,\n        labelBgPadding = _ref.labelBgPadding,\n        labelBgBorderRadius = _ref.labelBgBorderRadius,\n        style = _ref.style,\n        source = _ref.source,\n        target = _ref.target,\n        sourceX = _ref.sourceX,\n        sourceY = _ref.sourceY,\n        targetX = _ref.targetX,\n        targetY = _ref.targetY,\n        sourcePosition = _ref.sourcePosition,\n        targetPosition = _ref.targetPosition,\n        elementsSelectable = _ref.elementsSelectable,\n        hidden = _ref.hidden,\n        sourceHandleId = _ref.sourceHandleId,\n        targetHandleId = _ref.targetHandleId,\n        onContextMenu = _ref.onContextMenu,\n        onMouseEnter = _ref.onMouseEnter,\n        onMouseMove = _ref.onMouseMove,\n        onMouseLeave = _ref.onMouseLeave,\n        edgeUpdaterRadius = _ref.edgeUpdaterRadius,\n        onEdgeUpdate = _ref.onEdgeUpdate,\n        onEdgeUpdateStart = _ref.onEdgeUpdateStart,\n        onEdgeUpdateEnd = _ref.onEdgeUpdateEnd,\n        markerEnd = _ref.markerEnd,\n        markerStart = _ref.markerStart,\n        rfId = _ref.rfId;\n\n    var _useState = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false),\n        _useState2 = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__._)(_useState, 2),\n        updating = _useState2[0],\n        setUpdating = _useState2[1];\n\n    var store = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.u)();\n\n    var onEdgeClick = function onEdgeClick(event) {\n      var _store$getState = store.getState(),\n          edges = _store$getState.edges,\n          addSelectedEdges = _store$getState.addSelectedEdges;\n\n      var edge = edges.find(function (e) {\n        return e.id === id;\n      });\n\n      if (elementsSelectable) {\n        store.setState({\n          nodesSelectionActive: false\n        });\n        addSelectedEdges([id]);\n      }\n\n      onClick === null || onClick === void 0 ? void 0 : onClick(event, edge);\n    };\n\n    var onEdgeDoubleClickHandler = getMouseHandler(id, store.getState, onEdgeDoubleClick);\n    var onEdgeContextMenu = getMouseHandler(id, store.getState, onContextMenu);\n    var onEdgeMouseEnter = getMouseHandler(id, store.getState, onMouseEnter);\n    var onEdgeMouseMove = getMouseHandler(id, store.getState, onMouseMove);\n    var onEdgeMouseLeave = getMouseHandler(id, store.getState, onMouseLeave);\n\n    var handleEdgeUpdater = function handleEdgeUpdater(event, isSourceHandle) {\n      var nodeId = isSourceHandle ? target : source;\n      var handleId = (isSourceHandle ? targetHandleId : sourceHandleId) || null;\n      var handleType = isSourceHandle ? 'target' : 'source';\n\n      var isValidConnection = function isValidConnection() {\n        return true;\n      };\n\n      var isTarget = isSourceHandle;\n      var edge = store.getState().edges.find(function (e) {\n        return e.id === id;\n      });\n      onEdgeUpdateStart === null || onEdgeUpdateStart === void 0 ? void 0 : onEdgeUpdateStart(event, edge, handleType);\n\n      var _onEdgeUpdateEnd = onEdgeUpdateEnd ? function (evt) {\n        return onEdgeUpdateEnd(evt, edge, handleType);\n      } : undefined;\n\n      var onConnectEdge = function onConnectEdge(connection) {\n        return onEdgeUpdate === null || onEdgeUpdate === void 0 ? void 0 : onEdgeUpdate(edge, connection);\n      };\n\n      handleMouseDown({\n        event: event,\n        handleId: handleId,\n        nodeId: nodeId,\n        onConnect: onConnectEdge,\n        isTarget: isTarget,\n        getState: store.getState,\n        setState: store.setState,\n        isValidConnection: isValidConnection,\n        elementEdgeUpdaterType: handleType,\n        onEdgeUpdateEnd: _onEdgeUpdateEnd\n      });\n    };\n\n    var onEdgeUpdaterSourceMouseDown = function onEdgeUpdaterSourceMouseDown(event) {\n      return handleEdgeUpdater(event, true);\n    };\n\n    var onEdgeUpdaterTargetMouseDown = function onEdgeUpdaterTargetMouseDown(event) {\n      return handleEdgeUpdater(event, false);\n    };\n\n    var onEdgeUpdaterMouseEnter = function onEdgeUpdaterMouseEnter() {\n      return setUpdating(true);\n    };\n\n    var onEdgeUpdaterMouseOut = function onEdgeUpdaterMouseOut() {\n      return setUpdating(false);\n    };\n\n    var markerStartUrl = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(function () {\n      return \"url(#\".concat((0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.d)(markerStart, rfId), \")\");\n    }, [markerStart, rfId]);\n    var markerEndUrl = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(function () {\n      return \"url(#\".concat((0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.d)(markerEnd, rfId), \")\");\n    }, [markerEnd, rfId]);\n\n    if (hidden) {\n      return null;\n    }\n\n    var inactive = !elementsSelectable && !onClick;\n    var handleEdgeUpdate = typeof onEdgeUpdate !== 'undefined';\n    var edgeClasses = (0,classcat__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(['react-flow__edge', \"react-flow__edge-\".concat(type), className, {\n      selected: selected,\n      animated: animated,\n      inactive: inactive,\n      updating: updating\n    }]);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"g\", {\n      className: edgeClasses,\n      onClick: onEdgeClick,\n      onDoubleClick: onEdgeDoubleClickHandler,\n      onContextMenu: onEdgeContextMenu,\n      onMouseEnter: onEdgeMouseEnter,\n      onMouseMove: onEdgeMouseMove,\n      onMouseLeave: onEdgeMouseLeave\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(EdgeComponent, {\n      id: id,\n      source: source,\n      target: target,\n      selected: selected,\n      animated: animated,\n      label: label,\n      labelStyle: labelStyle,\n      labelShowBg: labelShowBg,\n      labelBgStyle: labelBgStyle,\n      labelBgPadding: labelBgPadding,\n      labelBgBorderRadius: labelBgBorderRadius,\n      data: data,\n      style: style,\n      sourceX: sourceX,\n      sourceY: sourceY,\n      targetX: targetX,\n      targetY: targetY,\n      sourcePosition: sourcePosition,\n      targetPosition: targetPosition,\n      sourceHandleId: sourceHandleId,\n      targetHandleId: targetHandleId,\n      markerStart: markerStartUrl,\n      markerEnd: markerEndUrl,\n      \"data-testid\": \"rf__edge-\".concat(id)\n    }), handleEdgeUpdate && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"g\", {\n      onMouseDown: onEdgeUpdaterSourceMouseDown,\n      onMouseEnter: onEdgeUpdaterMouseEnter,\n      onMouseOut: onEdgeUpdaterMouseOut\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(EdgeAnchor, {\n      position: sourcePosition,\n      centerX: sourceX,\n      centerY: sourceY,\n      radius: edgeUpdaterRadius\n    })), handleEdgeUpdate && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"g\", {\n      onMouseDown: onEdgeUpdaterTargetMouseDown,\n      onMouseEnter: onEdgeUpdaterMouseEnter,\n      onMouseOut: onEdgeUpdaterMouseOut\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(EdgeAnchor, {\n      position: targetPosition,\n      centerX: targetX,\n      centerY: targetY,\n      radius: edgeUpdaterRadius\n    })));\n  };\n\n  EdgeWrapper.displayName = 'EdgeWrapper';\n  return /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_2__.memo)(EdgeWrapper);\n});\n\nfunction ownKeys$8(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$8(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$8(Object(source), !0).forEach(function (key) { (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.a)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$8(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction createEdgeTypes(edgeTypes) {\n  var standardTypes = {\n    \"default\": wrapEdge(edgeTypes[\"default\"] || BezierEdge),\n    straight: wrapEdge(edgeTypes.bezier || StraightEdge),\n    step: wrapEdge(edgeTypes.step || StepEdge),\n    smoothstep: wrapEdge(edgeTypes.step || SmoothStepEdge),\n    simplebezier: wrapEdge(edgeTypes.simplebezier || SimpleBezierEdge)\n  };\n  var wrappedTypes = {};\n  var specialTypes = Object.keys(edgeTypes).filter(function (k) {\n    return !['default', 'bezier'].includes(k);\n  }).reduce(function (res, key) {\n    res[key] = wrapEdge(edgeTypes[key] || BezierEdge);\n    return res;\n  }, wrappedTypes);\n  return _objectSpread$8(_objectSpread$8({}, standardTypes), specialTypes);\n}\nfunction getHandlePosition(position, nodeRect) {\n  var handle = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  var x = ((handle === null || handle === void 0 ? void 0 : handle.x) || 0) + nodeRect.x;\n  var y = ((handle === null || handle === void 0 ? void 0 : handle.y) || 0) + nodeRect.y;\n  var width = (handle === null || handle === void 0 ? void 0 : handle.width) || nodeRect.width;\n  var height = (handle === null || handle === void 0 ? void 0 : handle.height) || nodeRect.height;\n\n  switch (position) {\n    case _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Top:\n      return {\n        x: x + width / 2,\n        y: y\n      };\n\n    case _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Right:\n      return {\n        x: x + width,\n        y: y + height / 2\n      };\n\n    case _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Bottom:\n      return {\n        x: x + width / 2,\n        y: y + height\n      };\n\n    case _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Left:\n      return {\n        x: x,\n        y: y + height / 2\n      };\n  }\n}\nfunction getHandle(bounds, handleId) {\n  if (!bounds) {\n    return null;\n  } // there is no handleId when there are no multiple handles/ handles with ids\n  // so we just pick the first one\n\n\n  var handle = null;\n\n  if (bounds.length === 1 || !handleId) {\n    handle = bounds[0];\n  } else if (handleId) {\n    handle = bounds.find(function (d) {\n      return d.id === handleId;\n    });\n  }\n\n  return typeof handle === 'undefined' ? null : handle;\n}\nvar getEdgePositions = function getEdgePositions(sourceNodeRect, sourceHandle, sourcePosition, targetNodeRect, targetHandle, targetPosition) {\n  var sourceHandlePos = getHandlePosition(sourcePosition, sourceNodeRect, sourceHandle);\n  var targetHandlePos = getHandlePosition(targetPosition, targetNodeRect, targetHandle);\n  return {\n    sourceX: sourceHandlePos.x,\n    sourceY: sourceHandlePos.y,\n    targetX: targetHandlePos.x,\n    targetY: targetHandlePos.y\n  };\n};\nfunction isEdgeVisible(_ref) {\n  var sourcePos = _ref.sourcePos,\n      targetPos = _ref.targetPos,\n      sourceWidth = _ref.sourceWidth,\n      sourceHeight = _ref.sourceHeight,\n      targetWidth = _ref.targetWidth,\n      targetHeight = _ref.targetHeight,\n      width = _ref.width,\n      height = _ref.height,\n      transform = _ref.transform;\n  var edgeBox = {\n    x: Math.min(sourcePos.x, targetPos.x),\n    y: Math.min(sourcePos.y, targetPos.y),\n    x2: Math.max(sourcePos.x + sourceWidth, targetPos.x + targetWidth),\n    y2: Math.max(sourcePos.y + sourceHeight, targetPos.y + targetHeight)\n  };\n\n  if (edgeBox.x === edgeBox.x2) {\n    edgeBox.x2 += 1;\n  }\n\n  if (edgeBox.y === edgeBox.y2) {\n    edgeBox.y2 += 1;\n  }\n\n  var viewBox = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.r)({\n    x: (0 - transform[0]) / transform[2],\n    y: (0 - transform[1]) / transform[2],\n    width: width / transform[2],\n    height: height / transform[2]\n  });\n  var xOverlap = Math.max(0, Math.min(viewBox.x2, edgeBox.x2) - Math.max(viewBox.x, edgeBox.x));\n  var yOverlap = Math.max(0, Math.min(viewBox.y2, edgeBox.y2) - Math.max(viewBox.y, edgeBox.y));\n  var overlappingArea = Math.ceil(xOverlap * yOverlap);\n  return overlappingArea > 0;\n}\nfunction getNodeData(nodeInternals, nodeId) {\n  var _node$internalsSymbol, _node$positionAbsolut, _node$positionAbsolut2, _node$positionAbsolut3, _node$positionAbsolut4;\n\n  var node = nodeInternals.get(nodeId);\n  var handleBounds = (node === null || node === void 0 ? void 0 : (_node$internalsSymbol = node[_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.i]) === null || _node$internalsSymbol === void 0 ? void 0 : _node$internalsSymbol.handleBounds) || null;\n  var isInvalid = !node || !handleBounds || !node.width || !node.height || typeof ((_node$positionAbsolut = node.positionAbsolute) === null || _node$positionAbsolut === void 0 ? void 0 : _node$positionAbsolut.x) === 'undefined' || typeof ((_node$positionAbsolut2 = node.positionAbsolute) === null || _node$positionAbsolut2 === void 0 ? void 0 : _node$positionAbsolut2.y) === 'undefined';\n  return [{\n    x: (node === null || node === void 0 ? void 0 : (_node$positionAbsolut3 = node.positionAbsolute) === null || _node$positionAbsolut3 === void 0 ? void 0 : _node$positionAbsolut3.x) || 0,\n    y: (node === null || node === void 0 ? void 0 : (_node$positionAbsolut4 = node.positionAbsolute) === null || _node$positionAbsolut4 === void 0 ? void 0 : _node$positionAbsolut4.y) || 0,\n    width: (node === null || node === void 0 ? void 0 : node.width) || 0,\n    height: (node === null || node === void 0 ? void 0 : node.height) || 0\n  }, handleBounds, !isInvalid];\n}\n\nvar doc = typeof document !== 'undefined' ? document : null; // the keycode can be a string 'a' or an array of strings ['a', 'a+d']\n// a string means a single key 'a' or a combination when '+' is used 'a+d'\n// an array means different possibilites. Explainer: ['a', 'd+s'] here the\n// user can use the single key 'a' or the combination 'd' + 's'\n\nvar useKeyPress = (function () {\n  var keyCode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    target: doc\n  };\n\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false),\n      _useState2 = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__._)(_useState, 2),\n      keyPressed = _useState2[0],\n      setKeyPressed = _useState2[1]; // we need to remember the pressed keys in order to support combinations\n\n\n  var pressedKeys = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(new Set([])); // keyCodes = array with single keys [['a']] or key combinations [['a', 's']]\n  // keysToWatch = array with all keys flattened ['a', 'd', 'ShiftLeft']\n  // used to check if we store event.code or event.key. When the code is in the list of keysToWatch\n  // we use the code otherwise the key. Explainer: When you press the left \"command\" key, the code is \"MetaLeft\"\n  // and the key is \"Meta\". We want users to be able to pass keys and codes so we assume that the key is meant when\n  // we can't find it in the list of keysToWatch.\n\n  var _useMemo = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(function () {\n    if (keyCode !== null) {\n      var keyCodeArr = Array.isArray(keyCode) ? keyCode : [keyCode];\n      var keys = keyCodeArr.filter(function (kc) {\n        return typeof kc === 'string';\n      }).map(function (kc) {\n        return kc.split('+');\n      });\n      var keysFlat = keys.reduce(function (res, item) {\n        return res.concat.apply(res, (0,_useReactFlow_993c30ca_js__WEBPACK_IMPORTED_MODULE_4__._)(item));\n      }, []);\n      return [keys, keysFlat];\n    }\n\n    return [[], []];\n  }, [keyCode]),\n      _useMemo2 = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__._)(_useMemo, 2),\n      keyCodes = _useMemo2[0],\n      keysToWatch = _useMemo2[1];\n\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function () {\n    if (keyCode !== null) {\n      var _options$target, _options$target2;\n\n      var downHandler = function downHandler(event) {\n        if (isInputDOMNode(event)) {\n          return false;\n        }\n\n        var keyOrCode = useKeyOrCode(event.code, keysToWatch);\n        pressedKeys.current.add(event[keyOrCode]);\n\n        if (isMatchingKey(keyCodes, pressedKeys.current, false)) {\n          event.preventDefault();\n          setKeyPressed(true);\n        }\n      };\n\n      var upHandler = function upHandler(event) {\n        if (isInputDOMNode(event)) {\n          return false;\n        }\n\n        var keyOrCode = useKeyOrCode(event.code, keysToWatch);\n\n        if (isMatchingKey(keyCodes, pressedKeys.current, true)) {\n          setKeyPressed(false);\n          pressedKeys.current.clear();\n        } else {\n          pressedKeys.current[\"delete\"](event[keyOrCode]);\n        }\n      };\n\n      var resetHandler = function resetHandler() {\n        pressedKeys.current.clear();\n        setKeyPressed(false);\n      };\n\n      options === null || options === void 0 ? void 0 : (_options$target = options.target) === null || _options$target === void 0 ? void 0 : _options$target.addEventListener('keydown', downHandler);\n      options === null || options === void 0 ? void 0 : (_options$target2 = options.target) === null || _options$target2 === void 0 ? void 0 : _options$target2.addEventListener('keyup', upHandler);\n      window.addEventListener('blur', resetHandler);\n      return function () {\n        var _options$target3, _options$target4;\n\n        options === null || options === void 0 ? void 0 : (_options$target3 = options.target) === null || _options$target3 === void 0 ? void 0 : _options$target3.removeEventListener('keydown', downHandler);\n        options === null || options === void 0 ? void 0 : (_options$target4 = options.target) === null || _options$target4 === void 0 ? void 0 : _options$target4.removeEventListener('keyup', upHandler);\n        window.removeEventListener('blur', resetHandler);\n      };\n    }\n  }, [keyCode, setKeyPressed]);\n  return keyPressed;\n}); // utils\n\nfunction isMatchingKey(keyCodes, pressedKeys, isUp) {\n  return keyCodes // we only want to compare same sizes of keyCode definitions\n  // and pressed keys. When the user specified 'Meta' as a key somewhere\n  // this would also be truthy without this filter when user presses 'Meta' + 'r'\n  .filter(function (keys) {\n    return isUp || keys.length === pressedKeys.size;\n  }) // since we want to support multiple possibilities only one of the\n  // combinations need to be part of the pressed keys\n  .some(function (keys) {\n    return keys.every(function (k) {\n      return pressedKeys.has(k);\n    });\n  });\n}\n\nfunction useKeyOrCode(eventCode, keysToWatch) {\n  return keysToWatch.includes(eventCode) ? 'code' : 'key';\n}\n\nfunction isInputDOMNode(event) {\n  var _event$composedPath;\n\n  // using composed path for handling shadow dom\n  var target = ((_event$composedPath = event.composedPath) === null || _event$composedPath === void 0 ? void 0 : _event$composedPath.call(event)[0]) || event.target;\n  return ['INPUT', 'SELECT', 'TEXTAREA'].includes(target === null || target === void 0 ? void 0 : target.nodeName) || (target === null || target === void 0 ? void 0 : target.hasAttribute('contenteditable'));\n}\n\nvar selector$7 = function selector(s) {\n  return {\n    onNodesChange: s.onNodesChange,\n    onEdgesChange: s.onEdgesChange\n  };\n};\n\nvar useGlobalKeyHandler = (function (_ref) {\n  var deleteKeyCode = _ref.deleteKeyCode,\n      multiSelectionKeyCode = _ref.multiSelectionKeyCode;\n  var store = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.u)();\n\n  var _useStore = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.b)(selector$7, zustand_shallow__WEBPACK_IMPORTED_MODULE_12__[\"default\"]),\n      onNodesChange = _useStore.onNodesChange,\n      onEdgesChange = _useStore.onEdgesChange;\n\n  var deleteKeyPressed = useKeyPress(deleteKeyCode);\n  var multiSelectionKeyPressed = useKeyPress(multiSelectionKeyCode);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function () {\n    var _store$getState = store.getState(),\n        nodeInternals = _store$getState.nodeInternals,\n        edges = _store$getState.edges,\n        hasDefaultNodes = _store$getState.hasDefaultNodes,\n        hasDefaultEdges = _store$getState.hasDefaultEdges,\n        onNodesDelete = _store$getState.onNodesDelete,\n        onEdgesDelete = _store$getState.onEdgesDelete;\n\n    var nodes = Array.from(nodeInternals.values());\n    var nodesToRemove = nodes.reduce(function (res, node) {\n      if (!node.selected && node.parentNode && res.find(function (n) {\n        return n.id === node.parentNode;\n      })) {\n        res.push(node);\n      } else if (node.selected) {\n        res.push(node);\n      }\n\n      return res;\n    }, []);\n    var selectedEdges = edges.filter(function (e) {\n      return e.selected;\n    });\n\n    if (deleteKeyPressed && (nodesToRemove || selectedEdges)) {\n      var connectedEdges = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.e)(nodesToRemove, edges);\n      var edgesToRemove = [].concat((0,_useReactFlow_993c30ca_js__WEBPACK_IMPORTED_MODULE_4__._)(selectedEdges), (0,_useReactFlow_993c30ca_js__WEBPACK_IMPORTED_MODULE_4__._)(connectedEdges));\n      var edgeIdsToRemove = edgesToRemove.reduce(function (res, edge) {\n        if (!res.includes(edge.id)) {\n          res.push(edge.id);\n        }\n\n        return res;\n      }, []);\n\n      if (hasDefaultEdges || hasDefaultNodes) {\n        if (hasDefaultEdges) {\n          store.setState({\n            edges: edges.filter(function (e) {\n              return !edgeIdsToRemove.includes(e.id);\n            })\n          });\n        }\n\n        if (hasDefaultNodes) {\n          nodesToRemove.forEach(function (node) {\n            nodeInternals[\"delete\"](node.id);\n          });\n          store.setState({\n            nodeInternals: new Map(nodeInternals)\n          });\n        }\n      }\n\n      if (edgeIdsToRemove.length > 0) {\n        onEdgesDelete === null || onEdgesDelete === void 0 ? void 0 : onEdgesDelete(edgesToRemove);\n\n        if (onEdgesChange) {\n          var edgeChanges = edgeIdsToRemove.map(function (id) {\n            return {\n              id: id,\n              type: 'remove'\n            };\n          });\n          onEdgesChange(edgeChanges);\n        }\n      }\n\n      if (nodesToRemove.length > 0) {\n        onNodesDelete === null || onNodesDelete === void 0 ? void 0 : onNodesDelete(nodesToRemove);\n\n        if (onNodesChange) {\n          var nodeChanges = nodesToRemove.map(function (n) {\n            return {\n              id: n.id,\n              type: 'remove'\n            };\n          });\n          onNodesChange(nodeChanges);\n        }\n      }\n\n      store.setState({\n        nodesSelectionActive: false\n      });\n    }\n  }, [deleteKeyPressed, onNodesChange, onEdgesChange]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function () {\n    store.setState({\n      multiSelectionActive: multiSelectionKeyPressed\n    });\n  }, [multiSelectionKeyPressed]);\n});\n\nfunction useResizeHandler(rendererNode) {\n  var store = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.u)();\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function () {\n    var resizeObserver;\n\n    var updateDimensions = function updateDimensions() {\n      if (!rendererNode.current) {\n        return;\n      }\n\n      var size = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.f)(rendererNode.current); // @ts-ignore\n\n      if (true) {\n        if (size.height === 0 || size.width === 0) {\n          console.warn('[React Flow]: The React Flow parent container needs a width and a height to render the graph. Help: https://reactflow.dev/error#400');\n        }\n      }\n\n      store.setState({\n        width: size.width || 500,\n        height: size.height || 500\n      });\n    };\n\n    updateDimensions();\n    window.onresize = updateDimensions;\n\n    if (rendererNode.current) {\n      resizeObserver = new ResizeObserver(function () {\n        return updateDimensions();\n      });\n      resizeObserver.observe(rendererNode.current);\n    }\n\n    return function () {\n      window.onresize = null;\n\n      if (resizeObserver && rendererNode.current) {\n        resizeObserver.unobserve(rendererNode.current);\n      }\n    };\n  }, []);\n}\n\nvar viewChanged = function viewChanged(prevViewport, eventViewport) {\n  return prevViewport.x !== eventViewport.x || prevViewport.y !== eventViewport.y || prevViewport.zoom !== eventViewport.k;\n};\n\nvar eventToFlowTransform = function eventToFlowTransform(eventViewport) {\n  return {\n    x: eventViewport.x,\n    y: eventViewport.y,\n    zoom: eventViewport.k\n  };\n};\n\nvar isWrappedWithClass = function isWrappedWithClass(event, className) {\n  return event.target.closest(\".\".concat(className));\n};\n\nvar selector$6 = function selector(s) {\n  return {\n    d3Zoom: s.d3Zoom,\n    d3Selection: s.d3Selection,\n    d3ZoomHandler: s.d3ZoomHandler\n  };\n};\n\nvar ZoomPane = function ZoomPane(_ref) {\n  var onMove = _ref.onMove,\n      onMoveStart = _ref.onMoveStart,\n      onMoveEnd = _ref.onMoveEnd,\n      _ref$zoomOnScroll = _ref.zoomOnScroll,\n      zoomOnScroll = _ref$zoomOnScroll === void 0 ? true : _ref$zoomOnScroll,\n      _ref$zoomOnPinch = _ref.zoomOnPinch,\n      zoomOnPinch = _ref$zoomOnPinch === void 0 ? true : _ref$zoomOnPinch,\n      _ref$panOnScroll = _ref.panOnScroll,\n      panOnScroll = _ref$panOnScroll === void 0 ? false : _ref$panOnScroll,\n      _ref$panOnScrollSpeed = _ref.panOnScrollSpeed,\n      panOnScrollSpeed = _ref$panOnScrollSpeed === void 0 ? 0.5 : _ref$panOnScrollSpeed,\n      _ref$panOnScrollMode = _ref.panOnScrollMode,\n      panOnScrollMode = _ref$panOnScrollMode === void 0 ? _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.h.Free : _ref$panOnScrollMode,\n      _ref$zoomOnDoubleClic = _ref.zoomOnDoubleClick,\n      zoomOnDoubleClick = _ref$zoomOnDoubleClic === void 0 ? true : _ref$zoomOnDoubleClic,\n      selectionKeyPressed = _ref.selectionKeyPressed,\n      elementsSelectable = _ref.elementsSelectable,\n      _ref$panOnDrag = _ref.panOnDrag,\n      panOnDrag = _ref$panOnDrag === void 0 ? true : _ref$panOnDrag,\n      translateExtent = _ref.translateExtent,\n      minZoom = _ref.minZoom,\n      maxZoom = _ref.maxZoom,\n      _ref$defaultZoom = _ref.defaultZoom,\n      defaultZoom = _ref$defaultZoom === void 0 ? 1 : _ref$defaultZoom,\n      _ref$defaultPosition = _ref.defaultPosition,\n      defaultPosition = _ref$defaultPosition === void 0 ? [0, 0] : _ref$defaultPosition,\n      zoomActivationKeyCode = _ref.zoomActivationKeyCode,\n      _ref$preventScrolling = _ref.preventScrolling,\n      preventScrolling = _ref$preventScrolling === void 0 ? true : _ref$preventScrolling,\n      children = _ref.children,\n      noWheelClassName = _ref.noWheelClassName,\n      noPanClassName = _ref.noPanClassName;\n  var store = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.u)();\n  var isZoomingOrPanning = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(false);\n  var zoomPane = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n  var prevTransform = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)({\n    x: 0,\n    y: 0,\n    zoom: 0\n  });\n\n  var _useStore = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.b)(selector$6, zustand_shallow__WEBPACK_IMPORTED_MODULE_12__[\"default\"]),\n      d3Zoom = _useStore.d3Zoom,\n      d3Selection = _useStore.d3Selection,\n      d3ZoomHandler = _useStore.d3ZoomHandler;\n\n  var zoomActivationKeyPressed = useKeyPress(zoomActivationKeyCode);\n  useResizeHandler(zoomPane);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function () {\n    if (zoomPane.current) {\n      var _selection$node;\n\n      var d3ZoomInstance = (0,d3_zoom__WEBPACK_IMPORTED_MODULE_5__.zoom)().scaleExtent([minZoom, maxZoom]).translateExtent(translateExtent);\n      var selection = (0,d3_selection__WEBPACK_IMPORTED_MODULE_13__.select)(zoomPane.current).call(d3ZoomInstance);\n      var clampedX = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.j)(defaultPosition[0], translateExtent[0][0], translateExtent[1][0]);\n      var clampedY = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.j)(defaultPosition[1], translateExtent[0][1], translateExtent[1][1]);\n      var clampedZoom = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.j)(defaultZoom, minZoom, maxZoom);\n      var updatedTransform = d3_zoom__WEBPACK_IMPORTED_MODULE_5__.zoomIdentity.translate(clampedX, clampedY).scale(clampedZoom);\n      d3ZoomInstance.transform(selection, updatedTransform);\n      store.setState({\n        d3Zoom: d3ZoomInstance,\n        d3Selection: selection,\n        d3ZoomHandler: selection.on('wheel.zoom'),\n        // we need to pass transform because zoom handler is not registered when we set the initial transform\n        transform: [clampedX, clampedY, clampedZoom],\n        domNode: (_selection$node = selection.node()) === null || _selection$node === void 0 ? void 0 : _selection$node.closest('.react-flow')\n      });\n    }\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function () {\n    if (d3Selection && d3Zoom) {\n      if (panOnScroll && !zoomActivationKeyPressed) {\n        d3Selection.on('wheel', function (event) {\n          if (isWrappedWithClass(event, noWheelClassName)) {\n            return false;\n          }\n\n          event.preventDefault();\n          event.stopImmediatePropagation();\n          var currentZoom = d3Selection.property('__zoom').k || 1;\n\n          if (event.ctrlKey && zoomOnPinch) {\n            var point = (0,d3_selection__WEBPACK_IMPORTED_MODULE_13__.pointer)(event); // taken from https://github.com/d3/d3-zoom/blob/master/src/zoom.js\n\n            var pinchDelta = -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * 10;\n\n            var _zoom = currentZoom * Math.pow(2, pinchDelta);\n\n            d3Zoom.scaleTo(d3Selection, _zoom, point);\n            return;\n          } // increase scroll speed in firefox\n          // firefox: deltaMode === 1; chrome: deltaMode === 0\n\n\n          var deltaNormalize = event.deltaMode === 1 ? 20 : 1;\n          var deltaX = panOnScrollMode === _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.h.Vertical ? 0 : event.deltaX * deltaNormalize;\n          var deltaY = panOnScrollMode === _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.h.Horizontal ? 0 : event.deltaY * deltaNormalize;\n          d3Zoom.translateBy(d3Selection, -(deltaX / currentZoom) * panOnScrollSpeed, -(deltaY / currentZoom) * panOnScrollSpeed);\n        }).on('wheel.zoom', null);\n      } else if (typeof d3ZoomHandler !== 'undefined') {\n        d3Selection.on('wheel', function (event) {\n          if (!preventScrolling || isWrappedWithClass(event, noWheelClassName)) {\n            return null;\n          }\n\n          event.preventDefault();\n        }).on('wheel.zoom', d3ZoomHandler);\n      }\n    }\n  }, [panOnScroll, panOnScrollMode, d3Selection, d3Zoom, d3ZoomHandler, zoomActivationKeyPressed, zoomOnPinch, preventScrolling, noWheelClassName]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function () {\n    if (d3Zoom) {\n      if (selectionKeyPressed && !isZoomingOrPanning.current) {\n        d3Zoom.on('zoom', null);\n      } else if (!selectionKeyPressed) {\n        d3Zoom.on('zoom', function (event) {\n          store.setState({\n            transform: [event.transform.x, event.transform.y, event.transform.k]\n          });\n\n          if (onMove) {\n            var flowTransform = eventToFlowTransform(event.transform);\n            onMove(event.sourceEvent, flowTransform);\n          }\n        });\n      }\n    }\n  }, [selectionKeyPressed, d3Zoom, onMove]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function () {\n    if (d3Zoom) {\n      d3Zoom.on('start', function (event) {\n        isZoomingOrPanning.current = true;\n\n        if (onMoveStart) {\n          var flowTransform = eventToFlowTransform(event.transform);\n          prevTransform.current = flowTransform;\n          onMoveStart(event.sourceEvent, flowTransform);\n        }\n      });\n    }\n  }, [d3Zoom, onMoveStart]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function () {\n    if (d3Zoom) {\n      d3Zoom.on('end', function (event) {\n        isZoomingOrPanning.current = false;\n\n        if (onMoveEnd && viewChanged(prevTransform.current, event.transform)) {\n          var flowTransform = eventToFlowTransform(event.transform);\n          prevTransform.current = flowTransform;\n          onMoveEnd(event.sourceEvent, flowTransform);\n        }\n      });\n    }\n  }, [d3Zoom, onMoveEnd]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function () {\n    if (d3Zoom) {\n      d3Zoom.filter(function (event) {\n        var zoomScroll = zoomActivationKeyPressed || zoomOnScroll;\n        var pinchZoom = zoomOnPinch && event.ctrlKey; // if all interactions are disabled, we prevent all zoom events\n\n        if (!panOnDrag && !zoomScroll && !panOnScroll && !zoomOnDoubleClick && !zoomOnPinch) {\n          return false;\n        } // during a selection we prevent all other interactions\n\n\n        if (selectionKeyPressed) {\n          return false;\n        } // if zoom on double click is disabled, we prevent the double click event\n\n\n        if (!zoomOnDoubleClick && event.type === 'dblclick') {\n          return false;\n        } // if the target element is inside an element with the nowheel class, we prevent zooming\n\n\n        if (isWrappedWithClass(event, noWheelClassName) && event.type === 'wheel') {\n          return false;\n        } // if the target element is inside an element with the nopan class, we prevent panning\n\n\n        if (isWrappedWithClass(event, noPanClassName) && event.type !== 'wheel') {\n          return false;\n        }\n\n        if (!zoomOnPinch && event.ctrlKey && event.type === 'wheel') {\n          return false;\n        } // when there is no scroll handling enabled, we prevent all wheel events\n\n\n        if (!zoomScroll && !panOnScroll && !pinchZoom && event.type === 'wheel') {\n          return false;\n        } // if the pane is not movable, we prevent dragging it with mousestart or touchstart\n\n\n        if (!panOnDrag && (event.type === 'mousedown' || event.type === 'touchstart')) {\n          return false;\n        } // default filter for d3-zoom\n\n\n        return (!event.ctrlKey || event.type === 'wheel') && !event.button;\n      });\n    }\n  }, [d3Zoom, zoomOnScroll, zoomOnPinch, panOnScroll, zoomOnDoubleClick, panOnDrag, selectionKeyPressed, elementsSelectable, zoomActivationKeyPressed]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n    className: \"react-flow__renderer react-flow__container\",\n    ref: zoomPane\n  }, children);\n};\n\nfunction ownKeys$7(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$7(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$7(Object(source), !0).forEach(function (key) { (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.a)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$7(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction getMousePosition(event, containerBounds) {\n  return {\n    x: event.clientX - containerBounds.left,\n    y: event.clientY - containerBounds.top\n  };\n}\n\nvar selector$5 = function selector(s) {\n  return {\n    userSelectionActive: s.userSelectionActive,\n    elementsSelectable: s.elementsSelectable\n  };\n};\n\nvar initialRect = {\n  startX: 0,\n  startY: 0,\n  x: 0,\n  y: 0,\n  width: 0,\n  height: 0,\n  draw: false\n};\nvar UserSelection = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_2__.memo)(function (_ref) {\n  var selectionKeyPressed = _ref.selectionKeyPressed;\n  var store = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.u)();\n  var prevSelectedNodesCount = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(0);\n  var prevSelectedEdgesCount = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(0);\n  var containerBounds = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)();\n\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(initialRect),\n      _useState2 = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__._)(_useState, 2),\n      userSelectionRect = _useState2[0],\n      setUserSelectionRect = _useState2[1];\n\n  var _useStore = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.b)(selector$5, zustand_shallow__WEBPACK_IMPORTED_MODULE_12__[\"default\"]),\n      userSelectionActive = _useStore.userSelectionActive,\n      elementsSelectable = _useStore.elementsSelectable;\n\n  var renderUserSelectionPane = userSelectionActive || selectionKeyPressed;\n\n  if (!elementsSelectable || !renderUserSelectionPane) {\n    return null;\n  }\n\n  var resetUserSelection = function resetUserSelection() {\n    setUserSelectionRect(initialRect);\n    store.setState({\n      userSelectionActive: false\n    });\n    prevSelectedNodesCount.current = 0;\n    prevSelectedEdgesCount.current = 0;\n  };\n\n  var onMouseDown = function onMouseDown(event) {\n    var reactFlowNode = event.target.closest('.react-flow');\n    containerBounds.current = reactFlowNode.getBoundingClientRect();\n    var mousePos = getMousePosition(event, containerBounds.current);\n    setUserSelectionRect({\n      width: 0,\n      height: 0,\n      startX: mousePos.x,\n      startY: mousePos.y,\n      x: mousePos.x,\n      y: mousePos.y,\n      draw: true\n    });\n    store.setState({\n      userSelectionActive: true,\n      nodesSelectionActive: false\n    });\n  };\n\n  var onMouseMove = function onMouseMove(event) {\n    var _userSelectionRect$st, _userSelectionRect$st2;\n\n    if (!selectionKeyPressed || !userSelectionRect.draw || !containerBounds.current) {\n      return;\n    }\n\n    var mousePos = getMousePosition(event, containerBounds.current);\n    var startX = (_userSelectionRect$st = userSelectionRect.startX) !== null && _userSelectionRect$st !== void 0 ? _userSelectionRect$st : 0;\n    var startY = (_userSelectionRect$st2 = userSelectionRect.startY) !== null && _userSelectionRect$st2 !== void 0 ? _userSelectionRect$st2 : 0;\n\n    var nextUserSelectRect = _objectSpread$7(_objectSpread$7({}, userSelectionRect), {}, {\n      x: mousePos.x < startX ? mousePos.x : startX,\n      y: mousePos.y < startY ? mousePos.y : startY,\n      width: Math.abs(mousePos.x - startX),\n      height: Math.abs(mousePos.y - startY)\n    });\n\n    var _store$getState = store.getState(),\n        nodeInternals = _store$getState.nodeInternals,\n        edges = _store$getState.edges,\n        transform = _store$getState.transform,\n        onNodesChange = _store$getState.onNodesChange,\n        onEdgesChange = _store$getState.onEdgesChange;\n\n    var nodes = Array.from(nodeInternals.values());\n    var selectedNodes = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.k)(nodeInternals, nextUserSelectRect, transform, false, true);\n    var selectedEdgeIds = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.e)(selectedNodes, edges).map(function (e) {\n      return e.id;\n    });\n    var selectedNodeIds = selectedNodes.map(function (n) {\n      return n.id;\n    });\n\n    if (prevSelectedNodesCount.current !== selectedNodeIds.length) {\n      prevSelectedNodesCount.current = selectedNodeIds.length;\n      var changes = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.l)(nodes, selectedNodeIds);\n\n      if (changes.length) {\n        onNodesChange === null || onNodesChange === void 0 ? void 0 : onNodesChange(changes);\n      }\n    }\n\n    if (prevSelectedEdgesCount.current !== selectedEdgeIds.length) {\n      prevSelectedEdgesCount.current = selectedEdgeIds.length;\n\n      var _changes = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.l)(edges, selectedEdgeIds);\n\n      if (_changes.length) {\n        onEdgesChange === null || onEdgesChange === void 0 ? void 0 : onEdgesChange(_changes);\n      }\n    }\n\n    setUserSelectionRect(nextUserSelectRect);\n  };\n\n  var onMouseUp = function onMouseUp() {\n    store.setState({\n      nodesSelectionActive: prevSelectedNodesCount.current > 0\n    });\n    resetUserSelection();\n  };\n\n  var onMouseLeave = function onMouseLeave() {\n    store.setState({\n      nodesSelectionActive: false\n    });\n    resetUserSelection();\n  };\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n    className: \"react-flow__selectionpane react-flow__container\",\n    onMouseDown: onMouseDown,\n    onMouseMove: onMouseMove,\n    onMouseUp: onMouseUp,\n    onMouseLeave: onMouseLeave\n  }, userSelectionRect.draw && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n    className: \"react-flow__selection react-flow__container\",\n    style: {\n      width: userSelectionRect.width,\n      height: userSelectionRect.height,\n      transform: \"translate(\".concat(userSelectionRect.x, \"px, \").concat(userSelectionRect.y, \"px)\")\n    }\n  }));\n});\n\nfunction ownKeys$6(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$6(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$6(Object(source), !0).forEach(function (key) { (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.a)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$6(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction isParentSelected(node, nodeInternals) {\n  if (!node.parentNode) {\n    return false;\n  }\n\n  var parentNode = nodeInternals.get(node.parentNode);\n\n  if (!parentNode) {\n    return false;\n  }\n\n  if (parentNode.selected) {\n    return true;\n  }\n\n  return isParentSelected(parentNode, nodeInternals);\n}\nfunction hasSelector(target, selector, nodeRef) {\n  var current = target;\n\n  do {\n    var _current;\n\n    if ((_current = current) !== null && _current !== void 0 && _current.matches(selector)) return true;\n    if (current === nodeRef.current) return false;\n    current = current.parentElement;\n  } while (current);\n\n  return false;\n} // looks for all selected nodes and created a NodeDragItem for each of them\n\nfunction getDragItems(nodeInternals, mousePos, nodeId) {\n  return Array.from(nodeInternals.values()).filter(function (n) {\n    return (n.selected || n.id === nodeId) && (!n.parentNode || !isParentSelected(n, nodeInternals));\n  }).map(function (n) {\n    var _n$positionAbsolute$x, _n$positionAbsolute, _n$positionAbsolute$y, _n$positionAbsolute2;\n\n    return {\n      id: n.id,\n      position: n.position || {\n        x: 0,\n        y: 0\n      },\n      positionAbsolute: n.positionAbsolute || {\n        x: 0,\n        y: 0\n      },\n      distance: {\n        x: mousePos.x - ((_n$positionAbsolute$x = (_n$positionAbsolute = n.positionAbsolute) === null || _n$positionAbsolute === void 0 ? void 0 : _n$positionAbsolute.x) !== null && _n$positionAbsolute$x !== void 0 ? _n$positionAbsolute$x : 0),\n        y: mousePos.y - ((_n$positionAbsolute$y = (_n$positionAbsolute2 = n.positionAbsolute) === null || _n$positionAbsolute2 === void 0 ? void 0 : _n$positionAbsolute2.y) !== null && _n$positionAbsolute$y !== void 0 ? _n$positionAbsolute$y : 0)\n      },\n      delta: {\n        x: 0,\n        y: 0\n      },\n      extent: n.extent,\n      parentNode: n.parentNode,\n      width: n.width,\n      height: n.height\n    };\n  });\n}\nfunction updatePosition(dragItem, mousePos, snapToGrid, _ref, nodeInternals, nodeExtent) {\n  var _ref2 = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__._)(_ref, 2),\n      snapX = _ref2[0],\n      snapY = _ref2[1];\n\n  var currentExtent = dragItem.extent || nodeExtent;\n  var nextPosition = {\n    x: mousePos.x - dragItem.distance.x,\n    y: mousePos.y - dragItem.distance.y\n  };\n\n  if (snapToGrid) {\n    nextPosition.x = snapX * Math.round(nextPosition.x / snapX);\n    nextPosition.y = snapY * Math.round(nextPosition.y / snapY);\n  }\n\n  if (dragItem.extent === 'parent') {\n    if (dragItem.parentNode && dragItem.width && dragItem.height) {\n      var parent = nodeInternals.get(dragItem.parentNode);\n      currentExtent = parent !== null && parent !== void 0 && parent.positionAbsolute && parent !== null && parent !== void 0 && parent.width && parent !== null && parent !== void 0 && parent.height ? [[parent.positionAbsolute.x, parent.positionAbsolute.y], [parent.positionAbsolute.x + parent.width - dragItem.width, parent.positionAbsolute.y + parent.height - dragItem.height]] : currentExtent;\n    } else {\n      // @ts-ignore\n      if (true) {\n        console.warn('[React Flow]: Only child nodes can use a parent extent. Help: https://reactflow.dev/error#500');\n      }\n\n      currentExtent = nodeExtent;\n    }\n  } else if (dragItem.extent && dragItem.parentNode) {\n    var _parent$positionAbsol, _parent$positionAbsol2, _parent$positionAbsol3, _parent$positionAbsol4;\n\n    var _parent = nodeInternals.get(dragItem.parentNode);\n\n    var parentX = (_parent$positionAbsol = _parent === null || _parent === void 0 ? void 0 : (_parent$positionAbsol2 = _parent.positionAbsolute) === null || _parent$positionAbsol2 === void 0 ? void 0 : _parent$positionAbsol2.x) !== null && _parent$positionAbsol !== void 0 ? _parent$positionAbsol : 0;\n    var parentY = (_parent$positionAbsol3 = _parent === null || _parent === void 0 ? void 0 : (_parent$positionAbsol4 = _parent.positionAbsolute) === null || _parent$positionAbsol4 === void 0 ? void 0 : _parent$positionAbsol4.y) !== null && _parent$positionAbsol3 !== void 0 ? _parent$positionAbsol3 : 0;\n    currentExtent = [[dragItem.extent[0][0] + parentX, dragItem.extent[0][1] + parentY], [dragItem.extent[1][0] + parentX, dragItem.extent[1][1] + parentY]];\n  }\n\n  var parentPosition = {\n    x: 0,\n    y: 0\n  };\n\n  if (dragItem.parentNode) {\n    var _parentNode$positionA, _parentNode$positionA2, _parentNode$positionA3, _parentNode$positionA4;\n\n    var parentNode = nodeInternals.get(dragItem.parentNode);\n    parentPosition = {\n      x: (_parentNode$positionA = parentNode === null || parentNode === void 0 ? void 0 : (_parentNode$positionA2 = parentNode.positionAbsolute) === null || _parentNode$positionA2 === void 0 ? void 0 : _parentNode$positionA2.x) !== null && _parentNode$positionA !== void 0 ? _parentNode$positionA : 0,\n      y: (_parentNode$positionA3 = parentNode === null || parentNode === void 0 ? void 0 : (_parentNode$positionA4 = parentNode.positionAbsolute) === null || _parentNode$positionA4 === void 0 ? void 0 : _parentNode$positionA4.y) !== null && _parentNode$positionA3 !== void 0 ? _parentNode$positionA3 : 0\n    };\n  }\n\n  dragItem.positionAbsolute = currentExtent ? (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.m)(nextPosition, currentExtent) : nextPosition;\n  dragItem.position = {\n    x: dragItem.positionAbsolute.x - parentPosition.x,\n    y: dragItem.positionAbsolute.y - parentPosition.y\n  };\n  return dragItem;\n} // returns two params:\n// 1. the dragged node (or the first of the list, if we are dragging a node selection)\n// 2. array of selected nodes (for multi selections)\n\nfunction getEventHandlerParams(_ref3) {\n  var nodeId = _ref3.nodeId,\n      dragItems = _ref3.dragItems,\n      nodeInternals = _ref3.nodeInternals;\n  var extentedDragItems = dragItems.map(function (n) {\n    var node = nodeInternals.get(n.id);\n    return _objectSpread$6(_objectSpread$6({}, node), {}, {\n      position: n.position,\n      positionAbsolute: n.positionAbsolute\n    });\n  });\n  return [nodeId ? extentedDragItems.find(function (n) {\n    return n.id === nodeId;\n  }) : extentedDragItems[0], extentedDragItems];\n}\n\nfunction wrapSelectionDragFunc(selectionFunc) {\n  return function (event, _, nodes) {\n    return selectionFunc === null || selectionFunc === void 0 ? void 0 : selectionFunc(event, nodes);\n  };\n}\n\nfunction useDrag(_ref) {\n  var nodeRef = _ref.nodeRef,\n      _ref$disabled = _ref.disabled,\n      disabled = _ref$disabled === void 0 ? false : _ref$disabled,\n      noDragClassName = _ref.noDragClassName,\n      handleSelector = _ref.handleSelector,\n      nodeId = _ref.nodeId,\n      isSelectable = _ref.isSelectable,\n      selectNodesOnDrag = _ref.selectNodesOnDrag;\n\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false),\n      _useState2 = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__._)(_useState, 2),\n      dragging = _useState2[0],\n      setDragging = _useState2[1];\n\n  var store = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.u)();\n  var dragItems = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)();\n  var lastPos = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)({\n    x: null,\n    y: null\n  }); // returns the pointer position projected to the RF coordinate system\n\n  var getPointerPosition = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(function (_ref2) {\n    var sourceEvent = _ref2.sourceEvent;\n\n    var _store$getState = store.getState(),\n        transform = _store$getState.transform,\n        snapGrid = _store$getState.snapGrid,\n        snapToGrid = _store$getState.snapToGrid;\n\n    var x = sourceEvent.touches ? sourceEvent.touches[0].clientX : sourceEvent.clientX;\n    var y = sourceEvent.touches ? sourceEvent.touches[0].clientY : sourceEvent.clientY;\n    var pointerPos = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.p)({\n      x: x,\n      y: y\n    }, transform, snapToGrid, snapGrid);\n    return pointerPos;\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function () {\n    if (nodeRef !== null && nodeRef !== void 0 && nodeRef.current) {\n      var selection = (0,d3_selection__WEBPACK_IMPORTED_MODULE_13__.select)(nodeRef.current);\n\n      if (disabled) {\n        selection.on('.drag', null);\n      } else {\n        var dragHandler = (0,d3_drag__WEBPACK_IMPORTED_MODULE_14__.drag)().on('start', function (event) {\n          var _store$getState2 = store.getState(),\n              nodeInternals = _store$getState2.nodeInternals,\n              multiSelectionActive = _store$getState2.multiSelectionActive,\n              unselectNodesAndEdges = _store$getState2.unselectNodesAndEdges,\n              onNodeDragStart = _store$getState2.onNodeDragStart,\n              onSelectionDragStart = _store$getState2.onSelectionDragStart;\n\n          var onStart = nodeId ? onNodeDragStart : wrapSelectionDragFunc(onSelectionDragStart);\n\n          if (!selectNodesOnDrag && !multiSelectionActive && nodeId) {\n            var _nodeInternals$get;\n\n            if (!((_nodeInternals$get = nodeInternals.get(nodeId)) !== null && _nodeInternals$get !== void 0 && _nodeInternals$get.selected)) {\n              // we need to reset selected nodes when selectNodesOnDrag=false\n              unselectNodesAndEdges();\n            }\n          }\n\n          if (nodeId && isSelectable && selectNodesOnDrag) {\n            (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.n)({\n              id: nodeId,\n              store: store\n            });\n          }\n\n          var pointerPos = getPointerPosition(event);\n          lastPos.current = pointerPos;\n          dragItems.current = getDragItems(nodeInternals, pointerPos, nodeId);\n\n          if (onStart && dragItems.current) {\n            var _getEventHandlerParam = getEventHandlerParams({\n              nodeId: nodeId,\n              dragItems: dragItems.current,\n              nodeInternals: nodeInternals\n            }),\n                _getEventHandlerParam2 = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__._)(_getEventHandlerParam, 2),\n                currentNode = _getEventHandlerParam2[0],\n                nodes = _getEventHandlerParam2[1];\n\n            onStart(event.sourceEvent, currentNode, nodes);\n          }\n        }).on('drag', function (event) {\n          var _store$getState3 = store.getState(),\n              updateNodePositions = _store$getState3.updateNodePositions,\n              snapToGrid = _store$getState3.snapToGrid,\n              snapGrid = _store$getState3.snapGrid,\n              nodeInternals = _store$getState3.nodeInternals,\n              nodeExtent = _store$getState3.nodeExtent,\n              onNodeDrag = _store$getState3.onNodeDrag,\n              onSelectionDrag = _store$getState3.onSelectionDrag;\n\n          var pointerPos = getPointerPosition(event); // skip events without movement\n\n          if ((lastPos.current.x !== pointerPos.x || lastPos.current.y !== pointerPos.y) && dragItems.current) {\n            lastPos.current = pointerPos;\n            dragItems.current = dragItems.current.map(function (n) {\n              return updatePosition(n, pointerPos, snapToGrid, snapGrid, nodeInternals, nodeExtent);\n            });\n            var onDrag = nodeId ? onNodeDrag : wrapSelectionDragFunc(onSelectionDrag);\n            updateNodePositions(dragItems.current, true, true);\n            setDragging(true);\n\n            if (onDrag) {\n              var _getEventHandlerParam3 = getEventHandlerParams({\n                nodeId: nodeId,\n                dragItems: dragItems.current,\n                nodeInternals: nodeInternals\n              }),\n                  _getEventHandlerParam4 = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__._)(_getEventHandlerParam3, 2),\n                  currentNode = _getEventHandlerParam4[0],\n                  nodes = _getEventHandlerParam4[1];\n\n              onDrag(event.sourceEvent, currentNode, nodes);\n            }\n          }\n\n          event.on('end', function (event) {\n            setDragging(false);\n\n            if (dragItems.current) {\n              var _store$getState4 = store.getState(),\n                  _updateNodePositions = _store$getState4.updateNodePositions,\n                  _nodeInternals = _store$getState4.nodeInternals,\n                  onNodeDragStop = _store$getState4.onNodeDragStop,\n                  onSelectionDragStop = _store$getState4.onSelectionDragStop;\n\n              var onStop = nodeId ? onNodeDragStop : wrapSelectionDragFunc(onSelectionDragStop);\n\n              _updateNodePositions(dragItems.current, false, false);\n\n              if (onStop) {\n                var _getEventHandlerParam5 = getEventHandlerParams({\n                  nodeId: nodeId,\n                  dragItems: dragItems.current,\n                  nodeInternals: _nodeInternals\n                }),\n                    _getEventHandlerParam6 = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__._)(_getEventHandlerParam5, 2),\n                    _currentNode = _getEventHandlerParam6[0],\n                    _nodes = _getEventHandlerParam6[1];\n\n                onStop(event.sourceEvent, _currentNode, _nodes);\n              }\n            }\n          });\n        }).filter(function (event) {\n          var target = event.target;\n          var isDraggable = !event.button && (!noDragClassName || !hasSelector(target, \".\".concat(noDragClassName), nodeRef)) && (!handleSelector || hasSelector(target, handleSelector, nodeRef));\n          return isDraggable;\n        });\n        selection.call(dragHandler);\n        return function () {\n          selection.on('.drag', null);\n        };\n      }\n    }\n  }, [nodeRef, disabled, noDragClassName, handleSelector, isSelectable, store, nodeId, selectNodesOnDrag, getPointerPosition]);\n  return dragging;\n}\n\nfunction ownKeys$5(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$5(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$5(Object(source), !0).forEach(function (key) { (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.a)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$5(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nvar selector$4 = function selector(s) {\n  return _objectSpread$5({\n    transformString: \"translate(\".concat(s.transform[0], \"px,\").concat(s.transform[1], \"px) scale(\").concat(s.transform[2], \")\"),\n    userSelectionActive: s.userSelectionActive\n  }, (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.o)(Array.from(s.nodeInternals.values()).filter(function (n) {\n    return n.selected;\n  })));\n};\n\nvar bboxSelector = function bboxSelector(s) {\n  var selectedNodes = Array.from(s.nodeInternals.values()).filter(function (n) {\n    return n.selected;\n  });\n  return (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.o)(selectedNodes);\n};\n\nfunction NodesSelection(_ref) {\n  var onSelectionContextMenu = _ref.onSelectionContextMenu,\n      noPanClassName = _ref.noPanClassName;\n  var store = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.u)();\n\n  var _useStore = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.b)(selector$4, zustand_shallow__WEBPACK_IMPORTED_MODULE_12__[\"default\"]),\n      transformString = _useStore.transformString,\n      userSelectionActive = _useStore.userSelectionActive;\n\n  var _useStore2 = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.b)(bboxSelector, zustand_shallow__WEBPACK_IMPORTED_MODULE_12__[\"default\"]),\n      width = _useStore2.width,\n      height = _useStore2.height,\n      left = _useStore2.x,\n      top = _useStore2.y;\n\n  var nodeRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n  useDrag({\n    nodeRef: nodeRef\n  });\n\n  if (userSelectionActive || !width || !height) {\n    return null;\n  }\n\n  var onContextMenu = onSelectionContextMenu ? function (event) {\n    var selectedNodes = Array.from(store.getState().nodeInternals.values()).filter(function (n) {\n      return n.selected;\n    });\n    onSelectionContextMenu(event, selectedNodes);\n  } : undefined;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n    className: (0,classcat__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(['react-flow__nodesselection', 'react-flow__container', noPanClassName]),\n    style: {\n      transform: transformString\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n    ref: nodeRef,\n    className: \"react-flow__nodesselection-rect\",\n    onContextMenu: onContextMenu,\n    style: {\n      width: width,\n      height: height,\n      top: top,\n      left: left\n    }\n  }));\n}\n\nvar NodesSelection$1 = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_2__.memo)(NodesSelection);\n\nvar selector$3 = function selector(s) {\n  return s.nodesSelectionActive;\n};\n\nvar FlowRenderer = function FlowRenderer(_ref) {\n  var children = _ref.children,\n      onPaneClick = _ref.onPaneClick,\n      onPaneContextMenu = _ref.onPaneContextMenu,\n      onPaneScroll = _ref.onPaneScroll,\n      deleteKeyCode = _ref.deleteKeyCode,\n      onMove = _ref.onMove,\n      onMoveStart = _ref.onMoveStart,\n      onMoveEnd = _ref.onMoveEnd,\n      selectionKeyCode = _ref.selectionKeyCode,\n      multiSelectionKeyCode = _ref.multiSelectionKeyCode,\n      zoomActivationKeyCode = _ref.zoomActivationKeyCode,\n      elementsSelectable = _ref.elementsSelectable,\n      zoomOnScroll = _ref.zoomOnScroll,\n      zoomOnPinch = _ref.zoomOnPinch,\n      panOnScroll = _ref.panOnScroll,\n      panOnScrollSpeed = _ref.panOnScrollSpeed,\n      panOnScrollMode = _ref.panOnScrollMode,\n      zoomOnDoubleClick = _ref.zoomOnDoubleClick,\n      panOnDrag = _ref.panOnDrag,\n      translateExtent = _ref.translateExtent,\n      minZoom = _ref.minZoom,\n      maxZoom = _ref.maxZoom,\n      defaultZoom = _ref.defaultZoom,\n      defaultPosition = _ref.defaultPosition,\n      preventScrolling = _ref.preventScrolling,\n      onSelectionContextMenu = _ref.onSelectionContextMenu,\n      noWheelClassName = _ref.noWheelClassName,\n      noPanClassName = _ref.noPanClassName;\n  var store = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.u)();\n  var nodesSelectionActive = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.b)(selector$3);\n  var selectionKeyPressed = useKeyPress(selectionKeyCode);\n  useGlobalKeyHandler({\n    deleteKeyCode: deleteKeyCode,\n    multiSelectionKeyCode: multiSelectionKeyCode\n  });\n\n  var onClick = function onClick(event) {\n    onPaneClick === null || onPaneClick === void 0 ? void 0 : onPaneClick(event);\n    store.getState().resetSelectedElements();\n    store.setState({\n      nodesSelectionActive: false\n    });\n  };\n\n  var onContextMenu = onPaneContextMenu ? function (event) {\n    return onPaneContextMenu(event);\n  } : undefined;\n  var onWheel = onPaneScroll ? function (event) {\n    return onPaneScroll(event);\n  } : undefined;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(ZoomPane, {\n    onMove: onMove,\n    onMoveStart: onMoveStart,\n    onMoveEnd: onMoveEnd,\n    selectionKeyPressed: selectionKeyPressed,\n    elementsSelectable: elementsSelectable,\n    zoomOnScroll: zoomOnScroll,\n    zoomOnPinch: zoomOnPinch,\n    panOnScroll: panOnScroll,\n    panOnScrollSpeed: panOnScrollSpeed,\n    panOnScrollMode: panOnScrollMode,\n    zoomOnDoubleClick: zoomOnDoubleClick,\n    panOnDrag: panOnDrag,\n    translateExtent: translateExtent,\n    minZoom: minZoom,\n    maxZoom: maxZoom,\n    defaultZoom: defaultZoom,\n    defaultPosition: defaultPosition,\n    zoomActivationKeyCode: zoomActivationKeyCode,\n    preventScrolling: preventScrolling,\n    noWheelClassName: noWheelClassName,\n    noPanClassName: noPanClassName\n  }, children, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(UserSelection, {\n    selectionKeyPressed: selectionKeyPressed\n  }), nodesSelectionActive && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(NodesSelection$1, {\n    onSelectionContextMenu: onSelectionContextMenu,\n    noPanClassName: noPanClassName\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n    className: \"react-flow__pane react-flow__container\",\n    onClick: onClick,\n    onContextMenu: onContextMenu,\n    onWheel: onWheel\n  }));\n};\n\nFlowRenderer.displayName = 'FlowRenderer';\nvar FlowRenderer$1 = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_2__.memo)(FlowRenderer);\n\nfunction useVisibleNodes(onlyRenderVisible) {\n  var nodes = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.b)((0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(function (s) {\n    return onlyRenderVisible ? (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.k)(s.nodeInternals, {\n      x: 0,\n      y: 0,\n      width: s.width,\n      height: s.height\n    }, s.transform, true) : Array.from(s.nodeInternals.values());\n  }, [onlyRenderVisible]));\n  return nodes;\n}\n\nvar selector$2 = function selector(s) {\n  return {\n    nodesDraggable: s.nodesDraggable,\n    nodesConnectable: s.nodesConnectable,\n    elementsSelectable: s.elementsSelectable,\n    updateNodeDimensions: s.updateNodeDimensions\n  };\n};\n\nvar NodeRenderer = function NodeRenderer(props) {\n  var _useStore = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.b)(selector$2, zustand_shallow__WEBPACK_IMPORTED_MODULE_12__[\"default\"]),\n      nodesDraggable = _useStore.nodesDraggable,\n      nodesConnectable = _useStore.nodesConnectable,\n      elementsSelectable = _useStore.elementsSelectable,\n      updateNodeDimensions = _useStore.updateNodeDimensions;\n\n  var nodes = useVisibleNodes(props.onlyRenderVisibleElements);\n  var resizeObserverRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)();\n  var resizeObserver = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(function () {\n    if (typeof ResizeObserver === 'undefined') {\n      return null;\n    }\n\n    var observer = new ResizeObserver(function (entries) {\n      var updates = entries.map(function (entry) {\n        return {\n          id: entry.target.getAttribute('data-id'),\n          nodeElement: entry.target,\n          forceUpdate: true\n        };\n      });\n      updateNodeDimensions(updates);\n    });\n    resizeObserverRef.current = observer;\n    return observer;\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function () {\n    return function () {\n      var _resizeObserverRef$cu;\n\n      resizeObserverRef === null || resizeObserverRef === void 0 ? void 0 : (_resizeObserverRef$cu = resizeObserverRef.current) === null || _resizeObserverRef$cu === void 0 ? void 0 : _resizeObserverRef$cu.disconnect();\n    };\n  }, []);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n    className: \"react-flow__nodes react-flow__container\"\n  }, nodes.map(function (node) {\n    var _node$positionAbsolut, _node$positionAbsolut2, _node$positionAbsolut3, _node$positionAbsolut4, _node$internalsSymbol, _node$internalsSymbol2, _node$internalsSymbol3;\n\n    var nodeType = node.type || 'default';\n\n    if (!props.nodeTypes[nodeType]) {\n      // @ts-ignore\n      if (true) {\n        console.warn(\"[React Flow]: Node type \\\"\".concat(nodeType, \"\\\" not found. Using fallback type \\\"default\\\". Help: https://reactflow.dev/error#300\"));\n      }\n\n      nodeType = 'default';\n    }\n\n    var NodeComponent = props.nodeTypes[nodeType] || props.nodeTypes[\"default\"];\n    var isDraggable = !!(node.draggable || nodesDraggable && typeof node.draggable === 'undefined');\n    var isSelectable = !!(node.selectable || elementsSelectable && typeof node.selectable === 'undefined');\n    var isConnectable = !!(node.connectable || nodesConnectable && typeof node.connectable === 'undefined');\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(NodeComponent, {\n      key: node.id,\n      id: node.id,\n      className: node.className,\n      style: node.style,\n      type: nodeType,\n      data: node.data,\n      sourcePosition: node.sourcePosition || _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Bottom,\n      targetPosition: node.targetPosition || _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Top,\n      hidden: node.hidden,\n      xPos: (_node$positionAbsolut = (_node$positionAbsolut2 = node.positionAbsolute) === null || _node$positionAbsolut2 === void 0 ? void 0 : _node$positionAbsolut2.x) !== null && _node$positionAbsolut !== void 0 ? _node$positionAbsolut : 0,\n      yPos: (_node$positionAbsolut3 = (_node$positionAbsolut4 = node.positionAbsolute) === null || _node$positionAbsolut4 === void 0 ? void 0 : _node$positionAbsolut4.y) !== null && _node$positionAbsolut3 !== void 0 ? _node$positionAbsolut3 : 0,\n      selectNodesOnDrag: props.selectNodesOnDrag,\n      onClick: props.onNodeClick,\n      onMouseEnter: props.onNodeMouseEnter,\n      onMouseMove: props.onNodeMouseMove,\n      onMouseLeave: props.onNodeMouseLeave,\n      onContextMenu: props.onNodeContextMenu,\n      onDoubleClick: props.onNodeDoubleClick,\n      selected: !!node.selected,\n      isDraggable: isDraggable,\n      isSelectable: isSelectable,\n      isConnectable: isConnectable,\n      resizeObserver: resizeObserver,\n      dragHandle: node.dragHandle,\n      zIndex: (_node$internalsSymbol = (_node$internalsSymbol2 = node[_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.i]) === null || _node$internalsSymbol2 === void 0 ? void 0 : _node$internalsSymbol2.z) !== null && _node$internalsSymbol !== void 0 ? _node$internalsSymbol : 0,\n      isParent: !!((_node$internalsSymbol3 = node[_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.i]) !== null && _node$internalsSymbol3 !== void 0 && _node$internalsSymbol3.isParent),\n      noDragClassName: props.noDragClassName,\n      noPanClassName: props.noPanClassName,\n      initialized: !!node.width && !!node.height\n    });\n  }));\n};\n\nNodeRenderer.displayName = 'NodeRenderer';\nvar NodeRenderer$1 = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_2__.memo)(NodeRenderer);\n\nvar _oppositePosition;\n\nfunction ownKeys$4(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$4(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$4(Object(source), !0).forEach(function (key) { (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.a)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$4(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar oppositePosition = (_oppositePosition = {}, (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.a)(_oppositePosition, _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Left, _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Right), (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.a)(_oppositePosition, _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Right, _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Left), (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.a)(_oppositePosition, _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Top, _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Bottom), (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.a)(_oppositePosition, _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Bottom, _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Top), _oppositePosition);\nvar ConnectionLine = (function (_ref) {\n  var _fromNode$internalsSy, _fromNode$width, _fromNode$height, _fromNode$positionAbs, _fromNode$positionAbs2;\n\n  var connectionNodeId = _ref.connectionNodeId,\n      connectionHandleType = _ref.connectionHandleType,\n      connectionLineStyle = _ref.connectionLineStyle,\n      _ref$connectionLineTy = _ref.connectionLineType,\n      connectionLineType = _ref$connectionLineTy === void 0 ? _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.q.Bezier : _ref$connectionLineTy,\n      isConnectable = _ref.isConnectable,\n      CustomConnectionLineComponent = _ref.CustomConnectionLineComponent;\n\n  var _useStore = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.b)((0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(function (s) {\n    return {\n      fromNode: s.nodeInternals.get(connectionNodeId),\n      handleId: s.connectionHandleId,\n      toX: (s.connectionPosition.x - s.transform[0]) / s.transform[2],\n      toY: (s.connectionPosition.y - s.transform[1]) / s.transform[2]\n    };\n  }, [connectionNodeId]), zustand_shallow__WEBPACK_IMPORTED_MODULE_12__[\"default\"]),\n      fromNode = _useStore.fromNode,\n      handleId = _useStore.handleId,\n      toX = _useStore.toX,\n      toY = _useStore.toY;\n\n  var fromHandleBounds = fromNode === null || fromNode === void 0 ? void 0 : (_fromNode$internalsSy = fromNode[_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.i]) === null || _fromNode$internalsSy === void 0 ? void 0 : _fromNode$internalsSy.handleBounds;\n\n  if (!fromNode || !isConnectable || !(fromHandleBounds !== null && fromHandleBounds !== void 0 && fromHandleBounds[connectionHandleType])) {\n    return null;\n  }\n\n  var handleBound = fromHandleBounds[connectionHandleType];\n  var fromHandle = handleId ? handleBound.find(function (d) {\n    return d.id === handleId;\n  }) : handleBound[0];\n  var fromHandleX = fromHandle ? fromHandle.x + fromHandle.width / 2 : ((_fromNode$width = fromNode === null || fromNode === void 0 ? void 0 : fromNode.width) !== null && _fromNode$width !== void 0 ? _fromNode$width : 0) / 2;\n  var fromHandleY = fromHandle ? fromHandle.y + fromHandle.height / 2 : (_fromNode$height = fromNode === null || fromNode === void 0 ? void 0 : fromNode.height) !== null && _fromNode$height !== void 0 ? _fromNode$height : 0;\n  var fromX = ((fromNode === null || fromNode === void 0 ? void 0 : (_fromNode$positionAbs = fromNode.positionAbsolute) === null || _fromNode$positionAbs === void 0 ? void 0 : _fromNode$positionAbs.x) || 0) + fromHandleX;\n  var fromY = ((fromNode === null || fromNode === void 0 ? void 0 : (_fromNode$positionAbs2 = fromNode.positionAbsolute) === null || _fromNode$positionAbs2 === void 0 ? void 0 : _fromNode$positionAbs2.y) || 0) + fromHandleY;\n  var fromPosition = fromHandle === null || fromHandle === void 0 ? void 0 : fromHandle.position;\n\n  if (!fromPosition) {\n    return null;\n  }\n\n  var toPosition = oppositePosition[fromPosition];\n  var sourceX, sourceY, sourcePosition, targetX, targetY, targetPosition;\n\n  switch (connectionHandleType) {\n    case 'source':\n      {\n        sourceX = fromX;\n        sourceY = fromY;\n        sourcePosition = fromPosition;\n        targetX = toX;\n        targetY = toY;\n        targetPosition = toPosition;\n      }\n      break;\n\n    case 'target':\n      {\n        sourceX = toX;\n        sourceY = toY;\n        sourcePosition = toPosition;\n        targetX = fromX;\n        targetY = fromY;\n        targetPosition = fromPosition;\n      }\n      break;\n  }\n\n  if (CustomConnectionLineComponent) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"g\", {\n      className: \"react-flow__connection\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(CustomConnectionLineComponent, {\n      connectionLineType: connectionLineType,\n      connectionLineStyle: connectionLineStyle,\n      fromNode: fromNode,\n      fromHandle: fromHandle,\n      fromX: fromX,\n      fromY: fromY,\n      toX: toX,\n      toY: toY,\n      fromPosition: fromPosition,\n      toPosition: toPosition,\n      // remove in v11\n      sourcePosition: sourcePosition,\n      targetPosition: targetPosition,\n      sourceNode: fromNode,\n      sourceHandle: fromHandle,\n      targetX: targetX,\n      targetY: targetY,\n      sourceX: sourceX,\n      sourceY: sourceY\n    }));\n  }\n\n  var dAttr = '';\n  var pathParams = {\n    sourceX: sourceX,\n    sourceY: sourceY,\n    sourcePosition: sourcePosition,\n    targetX: targetX,\n    targetY: targetY,\n    targetPosition: targetPosition\n  };\n\n  if (connectionLineType === _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.q.Bezier) {\n    // we assume the destination position is opposite to the source position\n    dAttr = getBezierPath(pathParams);\n  } else if (connectionLineType === _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.q.Step) {\n    dAttr = getSmoothStepPath(_objectSpread$4(_objectSpread$4({}, pathParams), {}, {\n      borderRadius: 0\n    }));\n  } else if (connectionLineType === _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.q.SmoothStep) {\n    dAttr = getSmoothStepPath(pathParams);\n  } else if (connectionLineType === _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.q.SimpleBezier) {\n    dAttr = getSimpleBezierPath(pathParams);\n  } else {\n    dAttr = \"M\".concat(sourceX, \",\").concat(sourceY, \" \").concat(targetX, \",\").concat(targetY);\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"g\", {\n    className: \"react-flow__connection\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"path\", {\n    d: dAttr,\n    className: \"react-flow__connection-path\",\n    style: connectionLineStyle\n  }));\n});\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n\nvar _MarkerSymbols;\n\nvar ArrowSymbol = function ArrowSymbol(_ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'none' : _ref$color,\n      _ref$strokeWidth = _ref.strokeWidth,\n      strokeWidth = _ref$strokeWidth === void 0 ? 1 : _ref$strokeWidth;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"polyline\", {\n    stroke: color,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: strokeWidth,\n    fill: \"none\",\n    points: \"-5,-4 0,0 -5,4\"\n  });\n};\n\nvar ArrowClosedSymbol = function ArrowClosedSymbol(_ref2) {\n  var _ref2$color = _ref2.color,\n      color = _ref2$color === void 0 ? 'none' : _ref2$color,\n      _ref2$strokeWidth = _ref2.strokeWidth,\n      strokeWidth = _ref2$strokeWidth === void 0 ? 1 : _ref2$strokeWidth;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"polyline\", {\n    stroke: color,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: strokeWidth,\n    fill: color,\n    points: \"-5,-4 0,0 -5,4 -5,-4\"\n  });\n};\n\nvar MarkerSymbols = (_MarkerSymbols = {}, (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.a)(_MarkerSymbols, _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.M.Arrow, ArrowSymbol), (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.a)(_MarkerSymbols, _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.M.ArrowClosed, ArrowClosedSymbol), _MarkerSymbols);\nfunction useMarkerSymbol(type) {\n  var symbol = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(function () {\n    var symbolExists = MarkerSymbols.hasOwnProperty(type);\n\n    if (!symbolExists) {\n      // @ts-ignore\n      if (true) {\n        console.warn(\"[React Flow]: Marker type \\\"\".concat(type, \"\\\" doesn't exist. Help: https://reactflow.dev/error#900\"));\n      }\n\n      return function () {\n        return null;\n      };\n    }\n\n    return MarkerSymbols[type];\n  }, [type]);\n  return symbol;\n}\n\nfunction ownKeys$3(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$3(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$3(Object(source), !0).forEach(function (key) { (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.a)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$3(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nvar Marker = function Marker(_ref) {\n  var id = _ref.id,\n      type = _ref.type,\n      color = _ref.color,\n      _ref$width = _ref.width,\n      width = _ref$width === void 0 ? 12.5 : _ref$width,\n      _ref$height = _ref.height,\n      height = _ref$height === void 0 ? 12.5 : _ref$height,\n      _ref$markerUnits = _ref.markerUnits,\n      markerUnits = _ref$markerUnits === void 0 ? 'strokeWidth' : _ref$markerUnits,\n      strokeWidth = _ref.strokeWidth,\n      _ref$orient = _ref.orient,\n      orient = _ref$orient === void 0 ? 'auto' : _ref$orient;\n\n  var _Symbol = useMarkerSymbol(type);\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"marker\", {\n    className: \"react-flow__arrowhead\",\n    id: id,\n    markerWidth: \"\".concat(width),\n    markerHeight: \"\".concat(height),\n    viewBox: \"-10 -10 20 20\",\n    markerUnits: markerUnits,\n    orient: orient,\n    refX: \"0\",\n    refY: \"0\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_Symbol, {\n    color: color,\n    strokeWidth: strokeWidth\n  }));\n};\n\nvar markerSelector = function markerSelector(_ref2) {\n  var defaultColor = _ref2.defaultColor,\n      rfId = _ref2.rfId;\n  return function (s) {\n    var ids = [];\n    return s.edges.reduce(function (markers, edge) {\n      [edge.markerStart, edge.markerEnd].forEach(function (marker) {\n        if (marker && _typeof(marker) === 'object') {\n          var markerId = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.d)(marker, rfId);\n\n          if (!ids.includes(markerId)) {\n            markers.push(_objectSpread$3({\n              id: markerId,\n              color: marker.color || defaultColor\n            }, marker));\n            ids.push(markerId);\n          }\n        }\n      });\n      return markers;\n    }, []).sort(function (a, b) {\n      return a.id.localeCompare(b.id);\n    });\n  };\n}; // when you have multiple flows on a page and you hide the first one, the other ones have no markers anymore\n// when they do have markers with the same ids. To prevent this the user can pass a unique id to the react flow wrapper\n// that we can then use for creating our unique marker ids\n\n\nvar MarkerDefinitions = function MarkerDefinitions(_ref3) {\n  var defaultColor = _ref3.defaultColor,\n      rfId = _ref3.rfId;\n  var markers = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.b)((0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(markerSelector({\n    defaultColor: defaultColor,\n    rfId: rfId\n  }), [defaultColor, rfId]), // the id includes all marker options, so we just need to look at that part of the marker\n  function (a, b) {\n    return !(a.length !== b.length || a.some(function (m, i) {\n      return m.id !== b[i].id;\n    }));\n  });\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"defs\", null, markers.map(function (marker) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(Marker, {\n      id: marker.id,\n      key: marker.id,\n      type: marker.type,\n      color: marker.color,\n      width: marker.width,\n      height: marker.height,\n      markerUnits: marker.markerUnits,\n      strokeWidth: marker.strokeWidth,\n      orient: marker.orient\n    });\n  }));\n};\n\nMarkerDefinitions.displayName = 'MarkerDefinitions';\nvar MarkerDefinitions$1 = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_2__.memo)(MarkerDefinitions);\n\nvar defaultEdgeTree = [{\n  level: 0,\n  isMaxLevel: true,\n  edges: []\n}];\n\nfunction groupEdgesByZLevel(edges, nodeInternals) {\n  var elevateEdgesOnSelect = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var maxLevel = -1;\n  var levelLookup = edges.reduce(function (tree, edge) {\n    var hasZIndex = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.s)(edge.zIndex);\n    var z = hasZIndex ? edge.zIndex : 0;\n\n    if (elevateEdgesOnSelect) {\n      var _nodeInternals$get, _nodeInternals$get$in, _nodeInternals$get2, _nodeInternals$get2$i;\n\n      z = hasZIndex ? edge.zIndex : Math.max(((_nodeInternals$get = nodeInternals.get(edge.source)) === null || _nodeInternals$get === void 0 ? void 0 : (_nodeInternals$get$in = _nodeInternals$get[_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.i]) === null || _nodeInternals$get$in === void 0 ? void 0 : _nodeInternals$get$in.z) || 0, ((_nodeInternals$get2 = nodeInternals.get(edge.target)) === null || _nodeInternals$get2 === void 0 ? void 0 : (_nodeInternals$get2$i = _nodeInternals$get2[_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.i]) === null || _nodeInternals$get2$i === void 0 ? void 0 : _nodeInternals$get2$i.z) || 0);\n    }\n\n    if (tree[z]) {\n      tree[z].push(edge);\n    } else {\n      tree[z] = [edge];\n    }\n\n    maxLevel = z > maxLevel ? z : maxLevel;\n    return tree;\n  }, {});\n  var edgeTree = Object.entries(levelLookup).map(function (_ref) {\n    var _ref2 = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__._)(_ref, 2),\n        key = _ref2[0],\n        edges = _ref2[1];\n\n    var level = +key;\n    return {\n      edges: edges,\n      level: level,\n      isMaxLevel: level === maxLevel\n    };\n  });\n\n  if (edgeTree.length === 0) {\n    return defaultEdgeTree;\n  }\n\n  return edgeTree;\n}\n\nfunction useVisibleEdges(onlyRenderVisible, nodeInternals, elevateEdgesOnSelect) {\n  var edges = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.b)((0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(function (s) {\n    if (!onlyRenderVisible) {\n      return s.edges;\n    }\n\n    return s.edges.filter(function (e) {\n      var sourceNode = nodeInternals.get(e.source);\n      var targetNode = nodeInternals.get(e.target);\n      return (sourceNode === null || sourceNode === void 0 ? void 0 : sourceNode.width) && (sourceNode === null || sourceNode === void 0 ? void 0 : sourceNode.height) && (targetNode === null || targetNode === void 0 ? void 0 : targetNode.width) && (targetNode === null || targetNode === void 0 ? void 0 : targetNode.height) && isEdgeVisible({\n        sourcePos: sourceNode.positionAbsolute || {\n          x: 0,\n          y: 0\n        },\n        targetPos: targetNode.positionAbsolute || {\n          x: 0,\n          y: 0\n        },\n        sourceWidth: sourceNode.width,\n        sourceHeight: sourceNode.height,\n        targetWidth: targetNode.width,\n        targetHeight: targetNode.height,\n        width: s.width,\n        height: s.height,\n        transform: s.transform\n      });\n    });\n  }, [onlyRenderVisible, nodeInternals]));\n  return groupEdgesByZLevel(edges, nodeInternals, elevateEdgesOnSelect);\n}\n\nvar selector$1 = function selector(s) {\n  return {\n    connectionNodeId: s.connectionNodeId,\n    connectionHandleType: s.connectionHandleType,\n    nodesConnectable: s.nodesConnectable,\n    elementsSelectable: s.elementsSelectable,\n    width: s.width,\n    height: s.height,\n    connectionMode: s.connectionMode,\n    nodeInternals: s.nodeInternals\n  };\n};\n\nvar EdgeRenderer = function EdgeRenderer(props) {\n  var _useStore = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.b)(selector$1, zustand_shallow__WEBPACK_IMPORTED_MODULE_12__[\"default\"]),\n      connectionNodeId = _useStore.connectionNodeId,\n      connectionHandleType = _useStore.connectionHandleType,\n      nodesConnectable = _useStore.nodesConnectable,\n      elementsSelectable = _useStore.elementsSelectable,\n      width = _useStore.width,\n      height = _useStore.height,\n      connectionMode = _useStore.connectionMode,\n      nodeInternals = _useStore.nodeInternals;\n\n  var edgeTree = useVisibleEdges(props.onlyRenderVisibleElements, nodeInternals, props.elevateEdgesOnSelect);\n\n  if (!width) {\n    return null;\n  }\n\n  var connectionLineType = props.connectionLineType,\n      defaultMarkerColor = props.defaultMarkerColor,\n      connectionLineStyle = props.connectionLineStyle,\n      connectionLineComponent = props.connectionLineComponent,\n      connectionLineContainerStyle = props.connectionLineContainerStyle;\n  var renderConnectionLine = connectionNodeId && connectionHandleType;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement((react__WEBPACK_IMPORTED_MODULE_2___default().Fragment), null, edgeTree.map(function (_ref) {\n    var level = _ref.level,\n        edges = _ref.edges,\n        isMaxLevel = _ref.isMaxLevel;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"svg\", {\n      key: level,\n      style: {\n        zIndex: level\n      },\n      width: width,\n      height: height,\n      className: \"react-flow__edges react-flow__container\"\n    }, isMaxLevel && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(MarkerDefinitions$1, {\n      defaultColor: defaultMarkerColor,\n      rfId: props.rfId\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"g\", null, edges.map(function (edge) {\n      var _getNodeData = getNodeData(nodeInternals, edge.source),\n          _getNodeData2 = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__._)(_getNodeData, 3),\n          sourceNodeRect = _getNodeData2[0],\n          sourceHandleBounds = _getNodeData2[1],\n          sourceIsValid = _getNodeData2[2];\n\n      var _getNodeData3 = getNodeData(nodeInternals, edge.target),\n          _getNodeData4 = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__._)(_getNodeData3, 3),\n          targetNodeRect = _getNodeData4[0],\n          targetHandleBounds = _getNodeData4[1],\n          targetIsValid = _getNodeData4[2];\n\n      if (!sourceIsValid || !targetIsValid) {\n        return null;\n      }\n\n      var edgeType = edge.type || 'default';\n\n      if (!props.edgeTypes[edgeType]) {\n        console.warn(\"[React Flow]: Edge type \\\"\".concat(edgeType, \"\\\" not found. Using fallback type \\\"default\\\". Help: https://reactflow.dev/error#300\"));\n        edgeType = 'default';\n      }\n\n      var EdgeComponent = props.edgeTypes[edgeType] || props.edgeTypes[\"default\"]; // when connection type is loose we can define all handles as sources\n\n      var targetNodeHandles = connectionMode === _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.C.Strict ? targetHandleBounds.target : targetHandleBounds.target || targetHandleBounds.source;\n      var sourceHandle = getHandle(sourceHandleBounds.source, edge.sourceHandle || null);\n      var targetHandle = getHandle(targetNodeHandles, edge.targetHandle || null);\n      var sourcePosition = (sourceHandle === null || sourceHandle === void 0 ? void 0 : sourceHandle.position) || _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Bottom;\n      var targetPosition = (targetHandle === null || targetHandle === void 0 ? void 0 : targetHandle.position) || _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.P.Top;\n\n      if (!sourceHandle) {\n        // @ts-ignore\n        if (true) {\n          console.warn(\"[React Flow]: Couldn't create edge for source handle id: \".concat(edge.sourceHandle, \"; edge id: \").concat(edge.id, \". Help: https://reactflow.dev/error#800\"));\n        }\n\n        return null;\n      }\n\n      if (!targetHandle) {\n        // @ts-ignore\n        if (true) {\n          console.warn(\"[React Flow]: Couldn't create edge for target handle id: \".concat(edge.targetHandle, \"; edge id: \").concat(edge.id, \". Help: https://reactflow.dev/error#800\"));\n        }\n\n        return null;\n      }\n\n      var _getEdgePositions = getEdgePositions(sourceNodeRect, sourceHandle, sourcePosition, targetNodeRect, targetHandle, targetPosition),\n          sourceX = _getEdgePositions.sourceX,\n          sourceY = _getEdgePositions.sourceY,\n          targetX = _getEdgePositions.targetX,\n          targetY = _getEdgePositions.targetY;\n\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(EdgeComponent, {\n        key: edge.id,\n        id: edge.id,\n        className: (0,classcat__WEBPACK_IMPORTED_MODULE_3__[\"default\"])([edge.className, props.noPanClassName]),\n        type: edgeType,\n        data: edge.data,\n        selected: !!edge.selected,\n        animated: !!edge.animated,\n        hidden: !!edge.hidden,\n        label: edge.label,\n        labelStyle: edge.labelStyle,\n        labelShowBg: edge.labelShowBg,\n        labelBgStyle: edge.labelBgStyle,\n        labelBgPadding: edge.labelBgPadding,\n        labelBgBorderRadius: edge.labelBgBorderRadius,\n        style: edge.style,\n        source: edge.source,\n        target: edge.target,\n        sourceHandleId: edge.sourceHandle,\n        targetHandleId: edge.targetHandle,\n        markerEnd: edge.markerEnd,\n        markerStart: edge.markerStart,\n        sourceX: sourceX,\n        sourceY: sourceY,\n        targetX: targetX,\n        targetY: targetY,\n        sourcePosition: sourcePosition,\n        targetPosition: targetPosition,\n        elementsSelectable: elementsSelectable,\n        onEdgeUpdate: props.onEdgeUpdate,\n        onContextMenu: props.onEdgeContextMenu,\n        onMouseEnter: props.onEdgeMouseEnter,\n        onMouseMove: props.onEdgeMouseMove,\n        onMouseLeave: props.onEdgeMouseLeave,\n        onClick: props.onEdgeClick,\n        edgeUpdaterRadius: props.edgeUpdaterRadius,\n        onEdgeDoubleClick: props.onEdgeDoubleClick,\n        onEdgeUpdateStart: props.onEdgeUpdateStart,\n        onEdgeUpdateEnd: props.onEdgeUpdateEnd,\n        rfId: props.rfId\n      });\n    })));\n  }), renderConnectionLine && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"svg\", {\n    style: connectionLineContainerStyle,\n    width: width,\n    height: height,\n    className: \"react-flow__edges react-flow__connectionline react-flow__container\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(ConnectionLine, {\n    connectionNodeId: connectionNodeId,\n    connectionHandleType: connectionHandleType,\n    connectionLineStyle: connectionLineStyle,\n    connectionLineType: connectionLineType,\n    isConnectable: nodesConnectable,\n    CustomConnectionLineComponent: connectionLineComponent\n  })));\n};\n\nEdgeRenderer.displayName = 'EdgeRenderer';\nvar EdgeRenderer$1 = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_2__.memo)(EdgeRenderer);\n\nvar selector = function selector(s) {\n  return \"translate(\".concat(s.transform[0], \"px,\").concat(s.transform[1], \"px) scale(\").concat(s.transform[2], \")\");\n};\n\nfunction Viewport(_ref) {\n  var children = _ref.children;\n  var transform = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.b)(selector);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n    className: \"react-flow__viewport react-flow__container\",\n    style: {\n      transform: transform\n    }\n  }, children);\n}\n\nfunction useOnInitHandler(onInit) {\n  var ReactFlowInstance = (0,_useReactFlow_993c30ca_js__WEBPACK_IMPORTED_MODULE_4__.u)();\n  var isInitialized = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(false);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function () {\n    if (!isInitialized.current && ReactFlowInstance.viewportInitialized && onInit) {\n      setTimeout(function () {\n        return onInit(ReactFlowInstance);\n      }, 1);\n      isInitialized.current = true;\n    }\n  }, [onInit, ReactFlowInstance.viewportInitialized]);\n}\n\nvar GraphView = function GraphView(_ref) {\n  var nodeTypes = _ref.nodeTypes,\n      edgeTypes = _ref.edgeTypes,\n      onMove = _ref.onMove,\n      onMoveStart = _ref.onMoveStart,\n      onMoveEnd = _ref.onMoveEnd,\n      onInit = _ref.onInit,\n      onNodeClick = _ref.onNodeClick,\n      onEdgeClick = _ref.onEdgeClick,\n      onNodeDoubleClick = _ref.onNodeDoubleClick,\n      onEdgeDoubleClick = _ref.onEdgeDoubleClick,\n      onNodeMouseEnter = _ref.onNodeMouseEnter,\n      onNodeMouseMove = _ref.onNodeMouseMove,\n      onNodeMouseLeave = _ref.onNodeMouseLeave,\n      onNodeContextMenu = _ref.onNodeContextMenu,\n      onSelectionContextMenu = _ref.onSelectionContextMenu,\n      connectionLineType = _ref.connectionLineType,\n      connectionLineStyle = _ref.connectionLineStyle,\n      connectionLineComponent = _ref.connectionLineComponent,\n      connectionLineContainerStyle = _ref.connectionLineContainerStyle,\n      selectionKeyCode = _ref.selectionKeyCode,\n      multiSelectionKeyCode = _ref.multiSelectionKeyCode,\n      zoomActivationKeyCode = _ref.zoomActivationKeyCode,\n      deleteKeyCode = _ref.deleteKeyCode,\n      onlyRenderVisibleElements = _ref.onlyRenderVisibleElements,\n      elementsSelectable = _ref.elementsSelectable,\n      selectNodesOnDrag = _ref.selectNodesOnDrag,\n      translateExtent = _ref.translateExtent,\n      minZoom = _ref.minZoom,\n      maxZoom = _ref.maxZoom,\n      defaultZoom = _ref.defaultZoom,\n      defaultPosition = _ref.defaultPosition,\n      preventScrolling = _ref.preventScrolling,\n      defaultMarkerColor = _ref.defaultMarkerColor,\n      zoomOnScroll = _ref.zoomOnScroll,\n      zoomOnPinch = _ref.zoomOnPinch,\n      panOnScroll = _ref.panOnScroll,\n      panOnScrollSpeed = _ref.panOnScrollSpeed,\n      panOnScrollMode = _ref.panOnScrollMode,\n      zoomOnDoubleClick = _ref.zoomOnDoubleClick,\n      panOnDrag = _ref.panOnDrag,\n      onPaneClick = _ref.onPaneClick,\n      onPaneScroll = _ref.onPaneScroll,\n      onPaneContextMenu = _ref.onPaneContextMenu,\n      onEdgeUpdate = _ref.onEdgeUpdate,\n      onEdgeContextMenu = _ref.onEdgeContextMenu,\n      onEdgeMouseEnter = _ref.onEdgeMouseEnter,\n      onEdgeMouseMove = _ref.onEdgeMouseMove,\n      onEdgeMouseLeave = _ref.onEdgeMouseLeave,\n      edgeUpdaterRadius = _ref.edgeUpdaterRadius,\n      onEdgeUpdateStart = _ref.onEdgeUpdateStart,\n      onEdgeUpdateEnd = _ref.onEdgeUpdateEnd,\n      noDragClassName = _ref.noDragClassName,\n      noWheelClassName = _ref.noWheelClassName,\n      noPanClassName = _ref.noPanClassName,\n      elevateEdgesOnSelect = _ref.elevateEdgesOnSelect,\n      id = _ref.id;\n  useOnInitHandler(onInit);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(FlowRenderer$1, {\n    onPaneClick: onPaneClick,\n    onPaneContextMenu: onPaneContextMenu,\n    onPaneScroll: onPaneScroll,\n    deleteKeyCode: deleteKeyCode,\n    selectionKeyCode: selectionKeyCode,\n    multiSelectionKeyCode: multiSelectionKeyCode,\n    zoomActivationKeyCode: zoomActivationKeyCode,\n    elementsSelectable: elementsSelectable,\n    onMove: onMove,\n    onMoveStart: onMoveStart,\n    onMoveEnd: onMoveEnd,\n    zoomOnScroll: zoomOnScroll,\n    zoomOnPinch: zoomOnPinch,\n    zoomOnDoubleClick: zoomOnDoubleClick,\n    panOnScroll: panOnScroll,\n    panOnScrollSpeed: panOnScrollSpeed,\n    panOnScrollMode: panOnScrollMode,\n    panOnDrag: panOnDrag,\n    translateExtent: translateExtent,\n    minZoom: minZoom,\n    maxZoom: maxZoom,\n    defaultZoom: defaultZoom,\n    defaultPosition: defaultPosition,\n    onSelectionContextMenu: onSelectionContextMenu,\n    preventScrolling: preventScrolling,\n    noDragClassName: noDragClassName,\n    noWheelClassName: noWheelClassName,\n    noPanClassName: noPanClassName\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(Viewport, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(EdgeRenderer$1, {\n    edgeTypes: edgeTypes,\n    onEdgeClick: onEdgeClick,\n    onEdgeDoubleClick: onEdgeDoubleClick,\n    connectionLineType: connectionLineType,\n    connectionLineStyle: connectionLineStyle,\n    connectionLineComponent: connectionLineComponent,\n    connectionLineContainerStyle: connectionLineContainerStyle,\n    onEdgeUpdate: onEdgeUpdate,\n    onlyRenderVisibleElements: onlyRenderVisibleElements,\n    onEdgeContextMenu: onEdgeContextMenu,\n    onEdgeMouseEnter: onEdgeMouseEnter,\n    onEdgeMouseMove: onEdgeMouseMove,\n    onEdgeMouseLeave: onEdgeMouseLeave,\n    onEdgeUpdateStart: onEdgeUpdateStart,\n    onEdgeUpdateEnd: onEdgeUpdateEnd,\n    edgeUpdaterRadius: edgeUpdaterRadius,\n    defaultMarkerColor: defaultMarkerColor,\n    noPanClassName: noPanClassName,\n    elevateEdgesOnSelect: !!elevateEdgesOnSelect,\n    rfId: id\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(NodeRenderer$1, {\n    nodeTypes: nodeTypes,\n    onNodeClick: onNodeClick,\n    onNodeDoubleClick: onNodeDoubleClick,\n    onNodeMouseEnter: onNodeMouseEnter,\n    onNodeMouseMove: onNodeMouseMove,\n    onNodeMouseLeave: onNodeMouseLeave,\n    onNodeContextMenu: onNodeContextMenu,\n    selectNodesOnDrag: selectNodesOnDrag,\n    onlyRenderVisibleElements: onlyRenderVisibleElements,\n    noPanClassName: noPanClassName,\n    noDragClassName: noDragClassName\n  })));\n};\n\nGraphView.displayName = 'GraphView';\nvar GraphView$1 = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_2__.memo)(GraphView);\n\nvar GroupNode = function GroupNode() {\n  return null;\n};\n\nGroupNode.displayName = 'GroupNode';\n\nfunction ownKeys$2(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$2(Object(source), !0).forEach(function (key) { (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.a)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$2(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar wrapNode = (function (NodeComponent) {\n  var NodeWrapper = function NodeWrapper(_ref) {\n    var id = _ref.id,\n        type = _ref.type,\n        data = _ref.data,\n        xPos = _ref.xPos,\n        yPos = _ref.yPos,\n        selected = _ref.selected,\n        onClick = _ref.onClick,\n        onMouseEnter = _ref.onMouseEnter,\n        onMouseMove = _ref.onMouseMove,\n        onMouseLeave = _ref.onMouseLeave,\n        onContextMenu = _ref.onContextMenu,\n        onDoubleClick = _ref.onDoubleClick,\n        style = _ref.style,\n        className = _ref.className,\n        isDraggable = _ref.isDraggable,\n        isSelectable = _ref.isSelectable,\n        isConnectable = _ref.isConnectable,\n        selectNodesOnDrag = _ref.selectNodesOnDrag,\n        sourcePosition = _ref.sourcePosition,\n        targetPosition = _ref.targetPosition,\n        hidden = _ref.hidden,\n        resizeObserver = _ref.resizeObserver,\n        dragHandle = _ref.dragHandle,\n        zIndex = _ref.zIndex,\n        isParent = _ref.isParent,\n        noPanClassName = _ref.noPanClassName,\n        noDragClassName = _ref.noDragClassName,\n        initialized = _ref.initialized;\n    var store = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.u)();\n    var nodeRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    var prevSourcePosition = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(sourcePosition);\n    var prevTargetPosition = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(targetPosition);\n    var prevType = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(type);\n    var hasPointerEvents = isSelectable || isDraggable || onClick || onMouseEnter || onMouseMove || onMouseLeave;\n    var onMouseEnterHandler = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.t)(id, store.getState, onMouseEnter);\n    var onMouseMoveHandler = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.t)(id, store.getState, onMouseMove);\n    var onMouseLeaveHandler = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.t)(id, store.getState, onMouseLeave);\n    var onContextMenuHandler = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.t)(id, store.getState, onContextMenu);\n    var onDoubleClickHandler = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.t)(id, store.getState, onDoubleClick);\n\n    var onSelectNodeHandler = function onSelectNodeHandler(event) {\n      if (isSelectable && (!selectNodesOnDrag || !isDraggable)) {\n        // this handler gets called within the drag start event when selectNodesOnDrag=true\n        (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.n)({\n          id: id,\n          store: store\n        });\n      }\n\n      if (onClick) {\n        var node = store.getState().nodeInternals.get(id);\n        onClick(event, _objectSpread$2({}, node));\n      }\n    };\n\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function () {\n      if (nodeRef.current && !hidden) {\n        var currNode = nodeRef.current;\n        resizeObserver === null || resizeObserver === void 0 ? void 0 : resizeObserver.observe(currNode);\n        return function () {\n          return resizeObserver === null || resizeObserver === void 0 ? void 0 : resizeObserver.unobserve(currNode);\n        };\n      }\n    }, [hidden]);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function () {\n      // when the user programmatically changes the source or handle position, we re-initialize the node\n      var typeChanged = prevType.current !== type;\n      var sourcePosChanged = prevSourcePosition.current !== sourcePosition;\n      var targetPosChanged = prevTargetPosition.current !== targetPosition;\n\n      if (nodeRef.current && (typeChanged || sourcePosChanged || targetPosChanged)) {\n        if (typeChanged) {\n          prevType.current = type;\n        }\n\n        if (sourcePosChanged) {\n          prevSourcePosition.current = sourcePosition;\n        }\n\n        if (targetPosChanged) {\n          prevTargetPosition.current = targetPosition;\n        }\n\n        store.getState().updateNodeDimensions([{\n          id: id,\n          nodeElement: nodeRef.current,\n          forceUpdate: true\n        }]);\n      }\n    }, [id, type, sourcePosition, targetPosition]);\n    var dragging = useDrag({\n      nodeRef: nodeRef,\n      disabled: hidden || !isDraggable,\n      noDragClassName: noDragClassName,\n      handleSelector: dragHandle,\n      nodeId: id,\n      isSelectable: isSelectable,\n      selectNodesOnDrag: selectNodesOnDrag\n    });\n\n    if (hidden) {\n      return null;\n    }\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n      className: (0,classcat__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(['react-flow__node', \"react-flow__node-\".concat(type), noPanClassName, className, {\n        selected: selected,\n        selectable: isSelectable,\n        parent: isParent\n      }]),\n      ref: nodeRef,\n      style: _objectSpread$2({\n        zIndex: zIndex,\n        transform: \"translate(\".concat(xPos, \"px,\").concat(yPos, \"px)\"),\n        pointerEvents: hasPointerEvents ? 'all' : 'none',\n        visibility: initialized ? 'visible' : 'hidden'\n      }, style),\n      onMouseEnter: onMouseEnterHandler,\n      onMouseMove: onMouseMoveHandler,\n      onMouseLeave: onMouseLeaveHandler,\n      onContextMenu: onContextMenuHandler,\n      onClick: onSelectNodeHandler,\n      onDoubleClick: onDoubleClickHandler,\n      \"data-testid\": \"rf__node-\".concat(id),\n      \"data-id\": id\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(Provider, {\n      value: id\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(NodeComponent, {\n      id: id,\n      data: data,\n      type: type,\n      xPos: xPos,\n      yPos: yPos,\n      selected: selected,\n      isConnectable: isConnectable,\n      sourcePosition: sourcePosition,\n      targetPosition: targetPosition,\n      dragging: dragging,\n      dragHandle: dragHandle,\n      zIndex: zIndex\n    })));\n  };\n\n  NodeWrapper.displayName = 'NodeWrapper';\n  return /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_2__.memo)(NodeWrapper);\n});\n\nfunction ownKeys$1(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$1(Object(source), !0).forEach(function (key) { (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.a)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$1(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction createNodeTypes(nodeTypes) {\n  var standardTypes = {\n    input: wrapNode(nodeTypes.input || InputNode$1),\n    \"default\": wrapNode(nodeTypes[\"default\"] || DefaultNode$1),\n    output: wrapNode(nodeTypes.output || OutputNode$1),\n    group: wrapNode(nodeTypes.group || GroupNode)\n  };\n  var wrappedTypes = {};\n  var specialTypes = Object.keys(nodeTypes).filter(function (k) {\n    return !['input', 'default', 'output', 'group'].includes(k);\n  }).reduce(function (res, key) {\n    res[key] = wrapNode(nodeTypes[key] || DefaultNode$1);\n    return res;\n  }, wrappedTypes);\n  return _objectSpread$1(_objectSpread$1({}, standardTypes), specialTypes);\n}\n\nfunction useNodeOrEdgeTypes(nodeOrEdgeTypes, createTypes) {\n  var typesKeysRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n  var typesParsed = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(function () {\n    // @ts-ignore\n    if (true) {\n      var typeKeys = Object.keys(nodeOrEdgeTypes);\n\n      if ((0,zustand_shallow__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(typesKeysRef.current, typeKeys)) {\n        console.warn(\"[React Flow]: It looks like you have created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them. Help: https://reactflow.dev/error#200\");\n      }\n\n      typesKeysRef.current = typeKeys;\n    }\n\n    return createTypes(nodeOrEdgeTypes);\n  }, [nodeOrEdgeTypes]);\n  return typesParsed;\n}\nfunction injectStyle(css) {\n  if (!css || typeof document === 'undefined') return;\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  head.appendChild(style);\n  style.appendChild(document.createTextNode(css));\n}\n\nvar Wrapper = function Wrapper(_ref) {\n  var children = _ref.children;\n  var isWrapped = true;\n\n  try {\n    (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.u)();\n  } catch (e) {\n    isWrapped = false;\n  }\n\n  if (isWrapped) {\n    // we need to wrap it with a fragment because it's not allowed for children to be a ReactNode\n    // https://github.com/DefinitelyTyped/DefinitelyTyped/issues/18051\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement((react__WEBPACK_IMPORTED_MODULE_2___default().Fragment), null, children);\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.v, {\n    createStore: _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.w\n  }, children);\n};\n\nWrapper.displayName = 'ReactFlowWrapper';\n\nvar _excluded = [\"nodes\", \"edges\", \"defaultNodes\", \"defaultEdges\", \"className\", \"nodeTypes\", \"edgeTypes\", \"onNodeClick\", \"onEdgeClick\", \"onInit\", \"onMove\", \"onMoveStart\", \"onMoveEnd\", \"onConnect\", \"onConnectStart\", \"onConnectStop\", \"onConnectEnd\", \"onClickConnectStart\", \"onClickConnectStop\", \"onClickConnectEnd\", \"onNodeMouseEnter\", \"onNodeMouseMove\", \"onNodeMouseLeave\", \"onNodeContextMenu\", \"onNodeDoubleClick\", \"onNodeDragStart\", \"onNodeDrag\", \"onNodeDragStop\", \"onNodesDelete\", \"onEdgesDelete\", \"onSelectionChange\", \"onSelectionDragStart\", \"onSelectionDrag\", \"onSelectionDragStop\", \"onSelectionContextMenu\", \"connectionMode\", \"connectionLineType\", \"connectionLineStyle\", \"connectionLineComponent\", \"connectionLineContainerStyle\", \"deleteKeyCode\", \"selectionKeyCode\", \"multiSelectionKeyCode\", \"zoomActivationKeyCode\", \"snapToGrid\", \"snapGrid\", \"onlyRenderVisibleElements\", \"selectNodesOnDrag\", \"nodesDraggable\", \"nodesConnectable\", \"elementsSelectable\", \"minZoom\", \"maxZoom\", \"defaultZoom\", \"defaultPosition\", \"translateExtent\", \"preventScrolling\", \"nodeExtent\", \"defaultMarkerColor\", \"zoomOnScroll\", \"zoomOnPinch\", \"panOnScroll\", \"panOnScrollSpeed\", \"panOnScrollMode\", \"zoomOnDoubleClick\", \"panOnDrag\", \"onPaneClick\", \"onPaneScroll\", \"onPaneContextMenu\", \"children\", \"onEdgeUpdate\", \"onEdgeContextMenu\", \"onEdgeDoubleClick\", \"onEdgeMouseEnter\", \"onEdgeMouseMove\", \"onEdgeMouseLeave\", \"onEdgeUpdateStart\", \"onEdgeUpdateEnd\", \"edgeUpdaterRadius\", \"onNodesChange\", \"onEdgesChange\", \"noDragClassName\", \"noWheelClassName\", \"noPanClassName\", \"fitView\", \"fitViewOptions\", \"connectOnClick\", \"attributionPosition\", \"proOptions\", \"defaultEdgeOptions\", \"elevateEdgesOnSelect\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.a)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\n{\n  injectStyle(css);\n  injectStyle(theme);\n}\n\nvar defaultNodeTypes = {\n  input: InputNode$1,\n  \"default\": DefaultNode$1,\n  output: OutputNode$1\n};\nvar defaultEdgeTypes = {\n  \"default\": BezierEdge,\n  straight: StraightEdge,\n  step: StepEdge,\n  smoothstep: SmoothStepEdge,\n  simplebezier: SimpleBezierEdge\n};\nvar initSnapGrid = [15, 15];\nvar initDefaultPosition = [0, 0];\nvar ReactFlow = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_2__.forwardRef)(function (_ref, ref) {\n  var nodes = _ref.nodes,\n      edges = _ref.edges,\n      defaultNodes = _ref.defaultNodes,\n      defaultEdges = _ref.defaultEdges,\n      className = _ref.className,\n      _ref$nodeTypes = _ref.nodeTypes,\n      nodeTypes = _ref$nodeTypes === void 0 ? defaultNodeTypes : _ref$nodeTypes,\n      _ref$edgeTypes = _ref.edgeTypes,\n      edgeTypes = _ref$edgeTypes === void 0 ? defaultEdgeTypes : _ref$edgeTypes,\n      onNodeClick = _ref.onNodeClick,\n      onEdgeClick = _ref.onEdgeClick,\n      onInit = _ref.onInit,\n      onMove = _ref.onMove,\n      onMoveStart = _ref.onMoveStart,\n      onMoveEnd = _ref.onMoveEnd,\n      onConnect = _ref.onConnect,\n      onConnectStart = _ref.onConnectStart,\n      onConnectStop = _ref.onConnectStop,\n      onConnectEnd = _ref.onConnectEnd,\n      onClickConnectStart = _ref.onClickConnectStart,\n      onClickConnectStop = _ref.onClickConnectStop,\n      onClickConnectEnd = _ref.onClickConnectEnd,\n      onNodeMouseEnter = _ref.onNodeMouseEnter,\n      onNodeMouseMove = _ref.onNodeMouseMove,\n      onNodeMouseLeave = _ref.onNodeMouseLeave,\n      onNodeContextMenu = _ref.onNodeContextMenu,\n      onNodeDoubleClick = _ref.onNodeDoubleClick,\n      onNodeDragStart = _ref.onNodeDragStart,\n      onNodeDrag = _ref.onNodeDrag,\n      onNodeDragStop = _ref.onNodeDragStop,\n      onNodesDelete = _ref.onNodesDelete,\n      onEdgesDelete = _ref.onEdgesDelete,\n      onSelectionChange = _ref.onSelectionChange,\n      onSelectionDragStart = _ref.onSelectionDragStart,\n      onSelectionDrag = _ref.onSelectionDrag,\n      onSelectionDragStop = _ref.onSelectionDragStop,\n      onSelectionContextMenu = _ref.onSelectionContextMenu,\n      _ref$connectionMode = _ref.connectionMode,\n      connectionMode = _ref$connectionMode === void 0 ? _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.C.Strict : _ref$connectionMode,\n      _ref$connectionLineTy = _ref.connectionLineType,\n      connectionLineType = _ref$connectionLineTy === void 0 ? _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.q.Bezier : _ref$connectionLineTy,\n      connectionLineStyle = _ref.connectionLineStyle,\n      connectionLineComponent = _ref.connectionLineComponent,\n      connectionLineContainerStyle = _ref.connectionLineContainerStyle,\n      _ref$deleteKeyCode = _ref.deleteKeyCode,\n      deleteKeyCode = _ref$deleteKeyCode === void 0 ? 'Backspace' : _ref$deleteKeyCode,\n      _ref$selectionKeyCode = _ref.selectionKeyCode,\n      selectionKeyCode = _ref$selectionKeyCode === void 0 ? 'Shift' : _ref$selectionKeyCode,\n      _ref$multiSelectionKe = _ref.multiSelectionKeyCode,\n      multiSelectionKeyCode = _ref$multiSelectionKe === void 0 ? 'Meta' : _ref$multiSelectionKe,\n      _ref$zoomActivationKe = _ref.zoomActivationKeyCode,\n      zoomActivationKeyCode = _ref$zoomActivationKe === void 0 ? 'Meta' : _ref$zoomActivationKe,\n      _ref$snapToGrid = _ref.snapToGrid,\n      snapToGrid = _ref$snapToGrid === void 0 ? false : _ref$snapToGrid,\n      _ref$snapGrid = _ref.snapGrid,\n      snapGrid = _ref$snapGrid === void 0 ? initSnapGrid : _ref$snapGrid,\n      _ref$onlyRenderVisibl = _ref.onlyRenderVisibleElements,\n      onlyRenderVisibleElements = _ref$onlyRenderVisibl === void 0 ? false : _ref$onlyRenderVisibl,\n      _ref$selectNodesOnDra = _ref.selectNodesOnDrag,\n      selectNodesOnDrag = _ref$selectNodesOnDra === void 0 ? true : _ref$selectNodesOnDra,\n      nodesDraggable = _ref.nodesDraggable,\n      nodesConnectable = _ref.nodesConnectable,\n      elementsSelectable = _ref.elementsSelectable,\n      _ref$minZoom = _ref.minZoom,\n      minZoom = _ref$minZoom === void 0 ? 0.5 : _ref$minZoom,\n      _ref$maxZoom = _ref.maxZoom,\n      maxZoom = _ref$maxZoom === void 0 ? 2 : _ref$maxZoom,\n      _ref$defaultZoom = _ref.defaultZoom,\n      defaultZoom = _ref$defaultZoom === void 0 ? 1 : _ref$defaultZoom,\n      _ref$defaultPosition = _ref.defaultPosition,\n      defaultPosition = _ref$defaultPosition === void 0 ? initDefaultPosition : _ref$defaultPosition,\n      _ref$translateExtent = _ref.translateExtent,\n      translateExtent = _ref$translateExtent === void 0 ? _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.x : _ref$translateExtent,\n      _ref$preventScrolling = _ref.preventScrolling,\n      preventScrolling = _ref$preventScrolling === void 0 ? true : _ref$preventScrolling,\n      nodeExtent = _ref.nodeExtent,\n      _ref$defaultMarkerCol = _ref.defaultMarkerColor,\n      defaultMarkerColor = _ref$defaultMarkerCol === void 0 ? '#b1b1b7' : _ref$defaultMarkerCol,\n      _ref$zoomOnScroll = _ref.zoomOnScroll,\n      zoomOnScroll = _ref$zoomOnScroll === void 0 ? true : _ref$zoomOnScroll,\n      _ref$zoomOnPinch = _ref.zoomOnPinch,\n      zoomOnPinch = _ref$zoomOnPinch === void 0 ? true : _ref$zoomOnPinch,\n      _ref$panOnScroll = _ref.panOnScroll,\n      panOnScroll = _ref$panOnScroll === void 0 ? false : _ref$panOnScroll,\n      _ref$panOnScrollSpeed = _ref.panOnScrollSpeed,\n      panOnScrollSpeed = _ref$panOnScrollSpeed === void 0 ? 0.5 : _ref$panOnScrollSpeed,\n      _ref$panOnScrollMode = _ref.panOnScrollMode,\n      panOnScrollMode = _ref$panOnScrollMode === void 0 ? _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.h.Free : _ref$panOnScrollMode,\n      _ref$zoomOnDoubleClic = _ref.zoomOnDoubleClick,\n      zoomOnDoubleClick = _ref$zoomOnDoubleClic === void 0 ? true : _ref$zoomOnDoubleClic,\n      _ref$panOnDrag = _ref.panOnDrag,\n      panOnDrag = _ref$panOnDrag === void 0 ? true : _ref$panOnDrag,\n      onPaneClick = _ref.onPaneClick,\n      onPaneScroll = _ref.onPaneScroll,\n      onPaneContextMenu = _ref.onPaneContextMenu,\n      children = _ref.children,\n      onEdgeUpdate = _ref.onEdgeUpdate,\n      onEdgeContextMenu = _ref.onEdgeContextMenu,\n      onEdgeDoubleClick = _ref.onEdgeDoubleClick,\n      onEdgeMouseEnter = _ref.onEdgeMouseEnter,\n      onEdgeMouseMove = _ref.onEdgeMouseMove,\n      onEdgeMouseLeave = _ref.onEdgeMouseLeave,\n      onEdgeUpdateStart = _ref.onEdgeUpdateStart,\n      onEdgeUpdateEnd = _ref.onEdgeUpdateEnd,\n      _ref$edgeUpdaterRadiu = _ref.edgeUpdaterRadius,\n      edgeUpdaterRadius = _ref$edgeUpdaterRadiu === void 0 ? 10 : _ref$edgeUpdaterRadiu,\n      onNodesChange = _ref.onNodesChange,\n      onEdgesChange = _ref.onEdgesChange,\n      _ref$noDragClassName = _ref.noDragClassName,\n      noDragClassName = _ref$noDragClassName === void 0 ? 'nodrag' : _ref$noDragClassName,\n      _ref$noWheelClassName = _ref.noWheelClassName,\n      noWheelClassName = _ref$noWheelClassName === void 0 ? 'nowheel' : _ref$noWheelClassName,\n      _ref$noPanClassName = _ref.noPanClassName,\n      noPanClassName = _ref$noPanClassName === void 0 ? 'nopan' : _ref$noPanClassName,\n      _ref$fitView = _ref.fitView,\n      fitView = _ref$fitView === void 0 ? false : _ref$fitView,\n      fitViewOptions = _ref.fitViewOptions,\n      _ref$connectOnClick = _ref.connectOnClick,\n      connectOnClick = _ref$connectOnClick === void 0 ? true : _ref$connectOnClick,\n      attributionPosition = _ref.attributionPosition,\n      proOptions = _ref.proOptions,\n      defaultEdgeOptions = _ref.defaultEdgeOptions,\n      _ref$elevateEdgesOnSe = _ref.elevateEdgesOnSelect,\n      elevateEdgesOnSelect = _ref$elevateEdgesOnSe === void 0 ? false : _ref$elevateEdgesOnSe,\n      rest = (0,_index_20df97c0_js__WEBPACK_IMPORTED_MODULE_1__._)(_ref, _excluded);\n\n  var nodeTypesWrapped = useNodeOrEdgeTypes(nodeTypes, createNodeTypes);\n  var edgeTypesWrapped = useNodeOrEdgeTypes(edgeTypes, createEdgeTypes);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", _objectSpread(_objectSpread({}, rest), {}, {\n    ref: ref,\n    className: (0,classcat__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(['react-flow', className])\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(Wrapper, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(GraphView$1, {\n    onInit: onInit,\n    onMove: onMove,\n    onMoveStart: onMoveStart,\n    onMoveEnd: onMoveEnd,\n    onNodeClick: onNodeClick,\n    onEdgeClick: onEdgeClick,\n    onNodeMouseEnter: onNodeMouseEnter,\n    onNodeMouseMove: onNodeMouseMove,\n    onNodeMouseLeave: onNodeMouseLeave,\n    onNodeContextMenu: onNodeContextMenu,\n    onNodeDoubleClick: onNodeDoubleClick,\n    nodeTypes: nodeTypesWrapped,\n    edgeTypes: edgeTypesWrapped,\n    connectionLineType: connectionLineType,\n    connectionLineStyle: connectionLineStyle,\n    connectionLineComponent: connectionLineComponent,\n    connectionLineContainerStyle: connectionLineContainerStyle,\n    selectionKeyCode: selectionKeyCode,\n    deleteKeyCode: deleteKeyCode,\n    multiSelectionKeyCode: multiSelectionKeyCode,\n    zoomActivationKeyCode: zoomActivationKeyCode,\n    onlyRenderVisibleElements: onlyRenderVisibleElements,\n    selectNodesOnDrag: selectNodesOnDrag,\n    translateExtent: translateExtent,\n    minZoom: minZoom,\n    maxZoom: maxZoom,\n    defaultZoom: defaultZoom,\n    defaultPosition: defaultPosition,\n    preventScrolling: preventScrolling,\n    zoomOnScroll: zoomOnScroll,\n    zoomOnPinch: zoomOnPinch,\n    zoomOnDoubleClick: zoomOnDoubleClick,\n    panOnScroll: panOnScroll,\n    panOnScrollSpeed: panOnScrollSpeed,\n    panOnScrollMode: panOnScrollMode,\n    panOnDrag: panOnDrag,\n    onPaneClick: onPaneClick,\n    onPaneScroll: onPaneScroll,\n    onPaneContextMenu: onPaneContextMenu,\n    onSelectionContextMenu: onSelectionContextMenu,\n    onEdgeUpdate: onEdgeUpdate,\n    onEdgeContextMenu: onEdgeContextMenu,\n    onEdgeDoubleClick: onEdgeDoubleClick,\n    onEdgeMouseEnter: onEdgeMouseEnter,\n    onEdgeMouseMove: onEdgeMouseMove,\n    onEdgeMouseLeave: onEdgeMouseLeave,\n    onEdgeUpdateStart: onEdgeUpdateStart,\n    onEdgeUpdateEnd: onEdgeUpdateEnd,\n    edgeUpdaterRadius: edgeUpdaterRadius,\n    defaultMarkerColor: defaultMarkerColor,\n    noDragClassName: noDragClassName,\n    noWheelClassName: noWheelClassName,\n    noPanClassName: noPanClassName,\n    elevateEdgesOnSelect: elevateEdgesOnSelect,\n    id: rest === null || rest === void 0 ? void 0 : rest.id\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(StoreUpdater, {\n    nodes: nodes,\n    edges: edges,\n    defaultNodes: defaultNodes,\n    defaultEdges: defaultEdges,\n    onConnect: onConnect,\n    onConnectStart: onConnectStart,\n    onConnectStop: onConnectStop,\n    onConnectEnd: onConnectEnd,\n    onClickConnectStart: onClickConnectStart,\n    onClickConnectStop: onClickConnectStop,\n    onClickConnectEnd: onClickConnectEnd,\n    nodesDraggable: nodesDraggable,\n    nodesConnectable: nodesConnectable,\n    elementsSelectable: elementsSelectable,\n    minZoom: minZoom,\n    maxZoom: maxZoom,\n    nodeExtent: nodeExtent,\n    onNodesChange: onNodesChange,\n    onEdgesChange: onEdgesChange,\n    snapToGrid: snapToGrid,\n    snapGrid: snapGrid,\n    connectionMode: connectionMode,\n    translateExtent: translateExtent,\n    connectOnClick: connectOnClick,\n    defaultEdgeOptions: defaultEdgeOptions,\n    fitView: fitView,\n    fitViewOptions: fitViewOptions,\n    onNodesDelete: onNodesDelete,\n    onEdgesDelete: onEdgesDelete,\n    onNodeDragStart: onNodeDragStart,\n    onNodeDrag: onNodeDrag,\n    onNodeDragStop: onNodeDragStop,\n    onSelectionDrag: onSelectionDrag,\n    onSelectionDragStart: onSelectionDragStart,\n    onSelectionDragStop: onSelectionDragStop\n  }), onSelectionChange && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(SelectionListener$1, {\n    onSelectionChange: onSelectionChange\n  }), children, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(Attribution, {\n    proOptions: proOptions,\n    position: attributionPosition\n  })));\n});\nReactFlow.displayName = 'ReactFlow';\n\nvar ReactFlowProvider = function ReactFlowProvider(_ref) {\n  var children = _ref.children;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.v, {\n    createStore: _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.w\n  }, children);\n};\n\nReactFlowProvider.displayName = 'ReactFlowProvider';\n\nfunction createUseItemsState(applyChanges) {\n  return function (initialItems) {\n    var _useState = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(initialItems),\n        _useState2 = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__._)(_useState, 2),\n        items = _useState2[0],\n        setItems = _useState2[1];\n\n    var onItemsChange = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(function (changes) {\n      return setItems(function (items) {\n        return applyChanges(changes, items);\n      });\n    }, []);\n    return [items, setItems, onItemsChange];\n  };\n}\n\nvar useNodesState = createUseItemsState(_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.y);\nvar useEdgesState = createUseItemsState(_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_0__.z);\n\n\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtZmxvdy1yZW5kZXJlci9kaXN0L2VzbS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWtvQjtBQUN0TjtBQUN4VztBQUNJO0FBQ3NEO0FBQ3BHO0FBQzhEO0FBQ3pCO0FBQ3pCO0FBQ087QUFDRTtBQUNoQjtBQUNrQjtBQUNHO0FBQzRCO0FBQzVCO0FBQ0E7QUFDTTtBQUN6QztBQUNROztBQUV6Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxzQkFBc0IsMERBQW1CO0FBQ3pDLGVBQWUsb0RBQUUsb0NBQW9DLDREQUFrQjtBQUN2RTtBQUNBLEdBQUcsZUFBZSwwREFBbUI7QUFDckM7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBOztBQUVBLDZDQUE2QyxnQ0FBZ0Msb0NBQW9DLG9EQUFvRCw2REFBNkQsaUVBQWlFLHNDQUFzQzs7QUFFelUsbUNBQW1DLGdCQUFnQixzQkFBc0IsT0FBTyx1REFBdUQsK0RBQStELHFEQUFlLDZCQUE2QixzS0FBc0ssbUZBQW1GLEtBQUs7O0FBRWhmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQ7QUFDbkQ7QUFDQTtBQUNBO0FBQ0EsdURBQXVEO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEscURBQXdCOztBQUVyQyxnQkFBZ0IsNkNBQU07O0FBRXRCLGtCQUFrQiwrQ0FBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxtQkFBbUIscURBQWM7QUFDakM7QUFDQTs7QUFFQSx3QkFBd0Isb0RBQUU7QUFDMUIsRUFBRSxnREFBUztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUEs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REFBbUI7QUFDdEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLGdCQUFnQiwwREFBbUI7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcscUNBQXFDLDBEQUFtQjtBQUMzRDtBQUNBLEdBQUcsMEJBQTBCLDBEQUFtQjtBQUNoRDtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRDs7QUFFQTtBQUNBO0FBQ0Esc0JBQXNCLDBEQUFtQixDQUFDLGlEQUFVO0FBQ3BELGlCQUFpQixpREFBVztBQUM1QixHQUFHO0FBQ0g7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLG9CQUFvQiwrQ0FBUTtBQUM1QixxQkFBcUIscURBQWM7QUFDbkM7QUFDQTs7QUFFQSx3QkFBd0Isa0RBQVc7QUFDbkM7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBLHdDQUF3QyxpREFBZ0I7QUFDeEQsd0NBQXdDLGlEQUFnQjs7QUFFcVY7QUFDN1kiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWZsb3ctcmVuZGVyZXIvZGlzdC9lc20vaW5kZXguanM/MDFhZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfIGFzIF9zbGljZWRUb0FycmF5LCBhIGFzIF9kZWZpbmVQcm9wZXJ0eSwgUCBhcyBQb3NpdGlvbiwgQyBhcyBDb25uZWN0aW9uTW9kZSwgZyBhcyBnZXRIb3N0Rm9yRWxlbWVudCwgdSBhcyB1c2VTdG9yZUFwaSwgYiBhcyB1c2VTdG9yZSwgYyBhcyBhZGRFZGdlLCBkIGFzIGdldE1hcmtlcklkLCBpIGFzIGludGVybmFsc1N5bWJvbCwgciBhcyByZWN0VG9Cb3gsIGUgYXMgZ2V0Q29ubmVjdGVkRWRnZXMsIGYgYXMgZ2V0RGltZW5zaW9ucywgaCBhcyBQYW5PblNjcm9sbE1vZGUsIGogYXMgY2xhbXAsIGsgYXMgZ2V0Tm9kZXNJbnNpZGUsIGwgYXMgZ2V0U2VsZWN0aW9uQ2hhbmdlcywgbSBhcyBjbGFtcFBvc2l0aW9uLCBwIGFzIHBvaW50VG9SZW5kZXJlclBvaW50LCBuIGFzIGhhbmRsZU5vZGVDbGljaywgbyBhcyBnZXRSZWN0T2ZOb2RlcywgcSBhcyBDb25uZWN0aW9uTGluZVR5cGUsIE0gYXMgTWFya2VyVHlwZSwgcyBhcyBpc051bWVyaWMsIHQgYXMgZ2V0TW91c2VIYW5kbGVyJDEsIHYgYXMgUHJvdmlkZXIkMSwgdyBhcyBjcmVhdGVTdG9yZSwgeCBhcyBpbmZpbml0ZUV4dGVudCwgeSBhcyBhcHBseU5vZGVDaGFuZ2VzLCB6IGFzIGFwcGx5RWRnZUNoYW5nZXMgfSBmcm9tICcuL2luZGV4LWExMmM4MGJkLmpzJztcbmV4cG9ydCB7IEggYXMgQmFja2dyb3VuZFZhcmlhbnQsIHEgYXMgQ29ubmVjdGlvbkxpbmVUeXBlLCBDIGFzIENvbm5lY3Rpb25Nb2RlLCBNIGFzIE1hcmtlclR5cGUsIGggYXMgUGFuT25TY3JvbGxNb2RlLCBQIGFzIFBvc2l0aW9uLCBjIGFzIGFkZEVkZ2UsIHogYXMgYXBwbHlFZGdlQ2hhbmdlcywgeSBhcyBhcHBseU5vZGVDaGFuZ2VzLCBlIGFzIGdldENvbm5lY3RlZEVkZ2VzLCBFIGFzIGdldEluY29tZXJzLCBEIGFzIGdldE91dGdvZXJzLCBvIGFzIGdldFJlY3RPZk5vZGVzLCBHIGFzIGdldFRyYW5zZm9ybUZvckJvdW5kcywgaSBhcyBpbnRlcm5hbHNTeW1ib2wsIEIgYXMgaXNFZGdlLCBBIGFzIGlzTm9kZSwgRiBhcyB1cGRhdGVFZGdlLCBiIGFzIHVzZVN0b3JlLCB1IGFzIHVzZVN0b3JlQXBpIH0gZnJvbSAnLi9pbmRleC1hMTJjODBiZC5qcyc7XG5pbXBvcnQgeyBfIGFzIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyB9IGZyb20gJy4vaW5kZXgtMjBkZjk3YzAuanMnO1xuZXhwb3J0IHsgQyBhcyBDb250cm9sQnV0dG9uLCBpIGFzIENvbnRyb2xzIH0gZnJvbSAnLi9pbmRleC0yMGRmOTdjMC5qcyc7XG5pbXBvcnQgUmVhY3QsIHsgbWVtbywgdXNlUmVmLCB1c2VTdGF0ZSwgdXNlRWZmZWN0LCBjcmVhdGVDb250ZXh0LCBmb3J3YXJkUmVmLCB1c2VDb250ZXh0LCB1c2VNZW1vLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjYyBmcm9tICdjbGFzc2NhdCc7XG5pbXBvcnQgeyBfIGFzIF90b0NvbnN1bWFibGVBcnJheSwgdSBhcyB1c2VSZWFjdEZsb3cgfSBmcm9tICcuL3VzZVJlYWN0Rmxvdy05OTNjMzBjYS5qcyc7XG5leHBvcnQgeyB1IGFzIHVzZVJlYWN0RmxvdyB9IGZyb20gJy4vdXNlUmVhY3RGbG93LTk5M2MzMGNhLmpzJztcbmltcG9ydCBzaGFsbG93IGZyb20gJ3p1c3RhbmQvc2hhbGxvdyc7XG5pbXBvcnQgeyB6b29tLCB6b29tSWRlbnRpdHkgfSBmcm9tICdkMy16b29tJztcbmltcG9ydCB7IHNlbGVjdCwgcG9pbnRlciB9IGZyb20gJ2QzLXNlbGVjdGlvbic7XG5pbXBvcnQgeyBkcmFnIH0gZnJvbSAnZDMtZHJhZyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIE1pbmlNYXAgfSBmcm9tICcuL2luZGV4Mi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJhY2tncm91bmQgfSBmcm9tICcuL2luZGV4My5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHVzZVVwZGF0ZU5vZGVJbnRlcm5hbHMgfSBmcm9tICcuL3VzZVVwZGF0ZU5vZGVJbnRlcm5hbHMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB1c2VOb2RlcyB9IGZyb20gJy4vdXNlTm9kZXMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB1c2VFZGdlcyB9IGZyb20gJy4vdXNlRWRnZXMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB1c2VWaWV3cG9ydCB9IGZyb20gJy4vdXNlVmlld3BvcnQuanMnO1xuaW1wb3J0ICd6dXN0YW5kJztcbmltcG9ydCAnenVzdGFuZC9jb250ZXh0JztcblxudmFyIGFjY291bnRzID0gWydwYWlkLXBybycsICdwYWlkLXNwb25zb3InLCAncGFpZC1lbnRlcnByaXNlJywgJ3BhaWQtY3VzdG9tJ107XG5cbmZ1bmN0aW9uIEF0dHJpYnV0aW9uKF9yZWYpIHtcbiAgdmFyIHByb09wdGlvbnMgPSBfcmVmLnByb09wdGlvbnMsXG4gICAgICBfcmVmJHBvc2l0aW9uID0gX3JlZi5wb3NpdGlvbixcbiAgICAgIHBvc2l0aW9uID0gX3JlZiRwb3NpdGlvbiA9PT0gdm9pZCAwID8gJ2JvdHRvbS1yaWdodCcgOiBfcmVmJHBvc2l0aW9uO1xuXG4gIGlmIChwcm9PcHRpb25zICE9PSBudWxsICYmIHByb09wdGlvbnMgIT09IHZvaWQgMCAmJiBwcm9PcHRpb25zLmFjY291bnQgJiYgYWNjb3VudHMuaW5jbHVkZXMocHJvT3B0aW9ucyA9PT0gbnVsbCB8fCBwcm9PcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwcm9PcHRpb25zLmFjY291bnQpICYmIHByb09wdGlvbnMgIT09IG51bGwgJiYgcHJvT3B0aW9ucyAhPT0gdm9pZCAwICYmIHByb09wdGlvbnMuaGlkZUF0dHJpYnV0aW9uKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgcG9zaXRpb25DbGFzc2VzID0gXCJcIi5jb25jYXQocG9zaXRpb24pLnNwbGl0KCctJyk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjYyhbJ3JlYWN0LWZsb3dfX2F0dHJpYnV0aW9uJ10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShwb3NpdGlvbkNsYXNzZXMpKSksXG4gICAgXCJkYXRhLW1lc3NhZ2VcIjogXCJQbGVhc2Ugb25seSBoaWRlIHRoaXMgYXR0cmlidXRpb24gd2hlbiB5b3UgYXJlIHN1YnNjcmliZWQgdG8gUmVhY3QgRmxvdyBQcm86IGh0dHBzOi8vcHJvLnJlYWN0Zmxvdy5kZXYvcHJpY2luZ1wiXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiYVwiLCB7XG4gICAgaHJlZjogXCJodHRwczovL3JlYWN0Zmxvdy5kZXZcIixcbiAgICB0YXJnZXQ6IFwiX2JsYW5rXCIsXG4gICAgcmVsOiBcIm5vb3BlbmVyIG5vcmVmZXJyZXJcIlxuICB9LCBcIlJlYWN0IEZsb3dcIikpO1xufVxuXG52YXIgX2V4Y2x1ZGVkJDIgPSBbXCJ4XCIsIFwieVwiLCBcImxhYmVsXCIsIFwibGFiZWxTdHlsZVwiLCBcImxhYmVsU2hvd0JnXCIsIFwibGFiZWxCZ1N0eWxlXCIsIFwibGFiZWxCZ1BhZGRpbmdcIiwgXCJsYWJlbEJnQm9yZGVyUmFkaXVzXCIsIFwiY2hpbGRyZW5cIiwgXCJjbGFzc05hbWVcIl07XG5cbmZ1bmN0aW9uIG93bktleXMkYyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGVudW1lcmFibGVPbmx5ICYmIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSkpLCBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCRjKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gbnVsbCAhPSBhcmd1bWVudHNbaV0gPyBhcmd1bWVudHNbaV0gOiB7fTsgaSAlIDIgPyBvd25LZXlzJGMoT2JqZWN0KHNvdXJjZSksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpIDogb3duS2V5cyRjKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cblxudmFyIEVkZ2VUZXh0ID0gZnVuY3Rpb24gRWRnZVRleHQoX3JlZikge1xuICB2YXIgeCA9IF9yZWYueCxcbiAgICAgIHkgPSBfcmVmLnksXG4gICAgICBsYWJlbCA9IF9yZWYubGFiZWwsXG4gICAgICBfcmVmJGxhYmVsU3R5bGUgPSBfcmVmLmxhYmVsU3R5bGUsXG4gICAgICBsYWJlbFN0eWxlID0gX3JlZiRsYWJlbFN0eWxlID09PSB2b2lkIDAgPyB7fSA6IF9yZWYkbGFiZWxTdHlsZSxcbiAgICAgIF9yZWYkbGFiZWxTaG93QmcgPSBfcmVmLmxhYmVsU2hvd0JnLFxuICAgICAgbGFiZWxTaG93QmcgPSBfcmVmJGxhYmVsU2hvd0JnID09PSB2b2lkIDAgPyB0cnVlIDogX3JlZiRsYWJlbFNob3dCZyxcbiAgICAgIF9yZWYkbGFiZWxCZ1N0eWxlID0gX3JlZi5sYWJlbEJnU3R5bGUsXG4gICAgICBsYWJlbEJnU3R5bGUgPSBfcmVmJGxhYmVsQmdTdHlsZSA9PT0gdm9pZCAwID8ge30gOiBfcmVmJGxhYmVsQmdTdHlsZSxcbiAgICAgIF9yZWYkbGFiZWxCZ1BhZGRpbmcgPSBfcmVmLmxhYmVsQmdQYWRkaW5nLFxuICAgICAgbGFiZWxCZ1BhZGRpbmcgPSBfcmVmJGxhYmVsQmdQYWRkaW5nID09PSB2b2lkIDAgPyBbMiwgNF0gOiBfcmVmJGxhYmVsQmdQYWRkaW5nLFxuICAgICAgX3JlZiRsYWJlbEJnQm9yZGVyUmFkID0gX3JlZi5sYWJlbEJnQm9yZGVyUmFkaXVzLFxuICAgICAgbGFiZWxCZ0JvcmRlclJhZGl1cyA9IF9yZWYkbGFiZWxCZ0JvcmRlclJhZCA9PT0gdm9pZCAwID8gMiA6IF9yZWYkbGFiZWxCZ0JvcmRlclJhZCxcbiAgICAgIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbixcbiAgICAgIGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBfZXhjbHVkZWQkMik7XG5cbiAgdmFyIGVkZ2VSZWYgPSB1c2VSZWYobnVsbCk7XG5cbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKHtcbiAgICB4OiAwLFxuICAgIHk6IDAsXG4gICAgd2lkdGg6IDAsXG4gICAgaGVpZ2h0OiAwXG4gIH0pLFxuICAgICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksXG4gICAgICBlZGdlVGV4dEJib3ggPSBfdXNlU3RhdGUyWzBdLFxuICAgICAgc2V0RWRnZVRleHRCYm94ID0gX3VzZVN0YXRlMlsxXTtcblxuICB2YXIgZWRnZVRleHRDbGFzc2VzID0gY2MoWydyZWFjdC1mbG93X19lZGdlLXRleHR3cmFwcGVyJywgY2xhc3NOYW1lXSk7XG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGVkZ2VSZWYuY3VycmVudCkge1xuICAgICAgdmFyIHRleHRCYm94ID0gZWRnZVJlZi5jdXJyZW50LmdldEJCb3goKTtcbiAgICAgIHNldEVkZ2VUZXh0QmJveCh7XG4gICAgICAgIHg6IHRleHRCYm94LngsXG4gICAgICAgIHk6IHRleHRCYm94LnksXG4gICAgICAgIHdpZHRoOiB0ZXh0QmJveC53aWR0aCxcbiAgICAgICAgaGVpZ2h0OiB0ZXh0QmJveC5oZWlnaHRcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2xhYmVsXSk7XG5cbiAgaWYgKHR5cGVvZiBsYWJlbCA9PT0gJ3VuZGVmaW5lZCcgfHwgIWxhYmVsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIF9vYmplY3RTcHJlYWQkYyh7XG4gICAgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZShcIi5jb25jYXQoeCAtIGVkZ2VUZXh0QmJveC53aWR0aCAvIDIsIFwiIFwiKS5jb25jYXQoeSAtIGVkZ2VUZXh0QmJveC5oZWlnaHQgLyAyLCBcIilcIiksXG4gICAgY2xhc3NOYW1lOiBlZGdlVGV4dENsYXNzZXNcbiAgfSwgcmVzdCksIGxhYmVsU2hvd0JnICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicmVjdFwiLCB7XG4gICAgd2lkdGg6IGVkZ2VUZXh0QmJveC53aWR0aCArIDIgKiBsYWJlbEJnUGFkZGluZ1swXSxcbiAgICB4OiAtbGFiZWxCZ1BhZGRpbmdbMF0sXG4gICAgeTogLWxhYmVsQmdQYWRkaW5nWzFdLFxuICAgIGhlaWdodDogZWRnZVRleHRCYm94LmhlaWdodCArIDIgKiBsYWJlbEJnUGFkZGluZ1sxXSxcbiAgICBjbGFzc05hbWU6IFwicmVhY3QtZmxvd19fZWRnZS10ZXh0YmdcIixcbiAgICBzdHlsZTogbGFiZWxCZ1N0eWxlLFxuICAgIHJ4OiBsYWJlbEJnQm9yZGVyUmFkaXVzLFxuICAgIHJ5OiBsYWJlbEJnQm9yZGVyUmFkaXVzXG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInRleHRcIiwge1xuICAgIGNsYXNzTmFtZTogXCJyZWFjdC1mbG93X19lZGdlLXRleHRcIixcbiAgICB5OiBlZGdlVGV4dEJib3guaGVpZ2h0IC8gMixcbiAgICBkeTogXCIwLjNlbVwiLFxuICAgIHJlZjogZWRnZVJlZixcbiAgICBzdHlsZTogbGFiZWxTdHlsZVxuICB9LCBsYWJlbCksIGNoaWxkcmVuKTtcbn07XG5cbnZhciBFZGdlVGV4dCQxID0gLyojX19QVVJFX18qL21lbW8oRWRnZVRleHQpO1xuXG52YXIgQmFzZUVkZ2UgPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIHBhdGggPSBfcmVmLnBhdGgsXG4gICAgICBjZW50ZXJYID0gX3JlZi5jZW50ZXJYLFxuICAgICAgY2VudGVyWSA9IF9yZWYuY2VudGVyWSxcbiAgICAgIGxhYmVsID0gX3JlZi5sYWJlbCxcbiAgICAgIGxhYmVsU3R5bGUgPSBfcmVmLmxhYmVsU3R5bGUsXG4gICAgICBsYWJlbFNob3dCZyA9IF9yZWYubGFiZWxTaG93QmcsXG4gICAgICBsYWJlbEJnU3R5bGUgPSBfcmVmLmxhYmVsQmdTdHlsZSxcbiAgICAgIGxhYmVsQmdQYWRkaW5nID0gX3JlZi5sYWJlbEJnUGFkZGluZyxcbiAgICAgIGxhYmVsQmdCb3JkZXJSYWRpdXMgPSBfcmVmLmxhYmVsQmdCb3JkZXJSYWRpdXMsXG4gICAgICBzdHlsZSA9IF9yZWYuc3R5bGUsXG4gICAgICBtYXJrZXJFbmQgPSBfcmVmLm1hcmtlckVuZCxcbiAgICAgIG1hcmtlclN0YXJ0ID0gX3JlZi5tYXJrZXJTdGFydDtcbiAgdmFyIHRleHQgPSBsYWJlbCA/IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEVkZ2VUZXh0JDEsIHtcbiAgICB4OiBjZW50ZXJYLFxuICAgIHk6IGNlbnRlclksXG4gICAgbGFiZWw6IGxhYmVsLFxuICAgIGxhYmVsU3R5bGU6IGxhYmVsU3R5bGUsXG4gICAgbGFiZWxTaG93Qmc6IGxhYmVsU2hvd0JnLFxuICAgIGxhYmVsQmdTdHlsZTogbGFiZWxCZ1N0eWxlLFxuICAgIGxhYmVsQmdQYWRkaW5nOiBsYWJlbEJnUGFkZGluZyxcbiAgICBsYWJlbEJnQm9yZGVyUmFkaXVzOiBsYWJlbEJnQm9yZGVyUmFkaXVzXG4gIH0pIDogbnVsbDtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIHN0eWxlOiBzdHlsZSxcbiAgICBkOiBwYXRoLFxuICAgIGNsYXNzTmFtZTogXCJyZWFjdC1mbG93X19lZGdlLXBhdGhcIixcbiAgICBtYXJrZXJFbmQ6IG1hcmtlckVuZCxcbiAgICBtYXJrZXJTdGFydDogbWFya2VyU3RhcnRcbiAgfSksIHRleHQpO1xufSk7XG5cbmZ1bmN0aW9uIGdldENvbnRyb2woX3JlZikge1xuICB2YXIgcG9zID0gX3JlZi5wb3MsXG4gICAgICB4MSA9IF9yZWYueDEsXG4gICAgICB5MSA9IF9yZWYueTEsXG4gICAgICB4MiA9IF9yZWYueDIsXG4gICAgICB5MiA9IF9yZWYueTI7XG4gIHZhciBjdFgsIGN0WTtcblxuICBzd2l0Y2ggKHBvcykge1xuICAgIGNhc2UgUG9zaXRpb24uTGVmdDpcbiAgICBjYXNlIFBvc2l0aW9uLlJpZ2h0OlxuICAgICAge1xuICAgICAgICBjdFggPSAwLjUgKiAoeDEgKyB4Mik7XG4gICAgICAgIGN0WSA9IHkxO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFBvc2l0aW9uLlRvcDpcbiAgICBjYXNlIFBvc2l0aW9uLkJvdHRvbTpcbiAgICAgIHtcbiAgICAgICAgY3RYID0geDE7XG4gICAgICAgIGN0WSA9IDAuNSAqICh5MSArIHkyKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgcmV0dXJuIFtjdFgsIGN0WV07XG59XG5cbmZ1bmN0aW9uIGdldFNpbXBsZUJlemllclBhdGgoX3JlZjIpIHtcbiAgdmFyIHNvdXJjZVggPSBfcmVmMi5zb3VyY2VYLFxuICAgICAgc291cmNlWSA9IF9yZWYyLnNvdXJjZVksXG4gICAgICBfcmVmMiRzb3VyY2VQb3NpdGlvbiA9IF9yZWYyLnNvdXJjZVBvc2l0aW9uLFxuICAgICAgc291cmNlUG9zaXRpb24gPSBfcmVmMiRzb3VyY2VQb3NpdGlvbiA9PT0gdm9pZCAwID8gUG9zaXRpb24uQm90dG9tIDogX3JlZjIkc291cmNlUG9zaXRpb24sXG4gICAgICB0YXJnZXRYID0gX3JlZjIudGFyZ2V0WCxcbiAgICAgIHRhcmdldFkgPSBfcmVmMi50YXJnZXRZLFxuICAgICAgX3JlZjIkdGFyZ2V0UG9zaXRpb24gPSBfcmVmMi50YXJnZXRQb3NpdGlvbixcbiAgICAgIHRhcmdldFBvc2l0aW9uID0gX3JlZjIkdGFyZ2V0UG9zaXRpb24gPT09IHZvaWQgMCA/IFBvc2l0aW9uLlRvcCA6IF9yZWYyJHRhcmdldFBvc2l0aW9uO1xuXG4gIHZhciBfZ2V0Q29udHJvbCA9IGdldENvbnRyb2woe1xuICAgIHBvczogc291cmNlUG9zaXRpb24sXG4gICAgeDE6IHNvdXJjZVgsXG4gICAgeTE6IHNvdXJjZVksXG4gICAgeDI6IHRhcmdldFgsXG4gICAgeTI6IHRhcmdldFlcbiAgfSksXG4gICAgICBfZ2V0Q29udHJvbDIgPSBfc2xpY2VkVG9BcnJheShfZ2V0Q29udHJvbCwgMiksXG4gICAgICBzb3VyY2VDb250cm9sWCA9IF9nZXRDb250cm9sMlswXSxcbiAgICAgIHNvdXJjZUNvbnRyb2xZID0gX2dldENvbnRyb2wyWzFdO1xuXG4gIHZhciBfZ2V0Q29udHJvbDMgPSBnZXRDb250cm9sKHtcbiAgICBwb3M6IHRhcmdldFBvc2l0aW9uLFxuICAgIHgxOiB0YXJnZXRYLFxuICAgIHkxOiB0YXJnZXRZLFxuICAgIHgyOiBzb3VyY2VYLFxuICAgIHkyOiBzb3VyY2VZXG4gIH0pLFxuICAgICAgX2dldENvbnRyb2w0ID0gX3NsaWNlZFRvQXJyYXkoX2dldENvbnRyb2wzLCAyKSxcbiAgICAgIHRhcmdldENvbnRyb2xYID0gX2dldENvbnRyb2w0WzBdLFxuICAgICAgdGFyZ2V0Q29udHJvbFkgPSBfZ2V0Q29udHJvbDRbMV07XG5cbiAgcmV0dXJuIFwiTVwiLmNvbmNhdChzb3VyY2VYLCBcIixcIikuY29uY2F0KHNvdXJjZVksIFwiIENcIikuY29uY2F0KHNvdXJjZUNvbnRyb2xYLCBcIixcIikuY29uY2F0KHNvdXJjZUNvbnRyb2xZLCBcIiBcIikuY29uY2F0KHRhcmdldENvbnRyb2xYLCBcIixcIikuY29uY2F0KHRhcmdldENvbnRyb2xZLCBcIiBcIikuY29uY2F0KHRhcmdldFgsIFwiLFwiKS5jb25jYXQodGFyZ2V0WSk7XG59IC8vIEBUT0RPOiB0aGlzIGZ1bmN0aW9uIHdpbGwgcmVjYWxjdWxhdGUgdGhlIGNvbnRyb2wgcG9pbnRzXG4vLyBvbmUgb3B0aW9uIGlzIHRvIGxldCBnZXRYWFhQYXRoKCkgcmV0dXJuIGNlbnRlciBwb2ludHNcbi8vIGJ1dCB3aWxsIGludHJvZHVjZSBicmVha2luZyBjaGFuZ2VzXG4vLyB0aGUgZ2V0Q2VudGVyKCkgb2Ygb3RoZXIgdHlwZXMgb2YgZWRnZXMgbWlnaHQgbmVlZCB0byBjaGFuZ2UsIHRvb1xuXG5mdW5jdGlvbiBnZXRTaW1wbGVCZXppZXJDZW50ZXIoX3JlZjMpIHtcbiAgdmFyIHNvdXJjZVggPSBfcmVmMy5zb3VyY2VYLFxuICAgICAgc291cmNlWSA9IF9yZWYzLnNvdXJjZVksXG4gICAgICBfcmVmMyRzb3VyY2VQb3NpdGlvbiA9IF9yZWYzLnNvdXJjZVBvc2l0aW9uLFxuICAgICAgc291cmNlUG9zaXRpb24gPSBfcmVmMyRzb3VyY2VQb3NpdGlvbiA9PT0gdm9pZCAwID8gUG9zaXRpb24uQm90dG9tIDogX3JlZjMkc291cmNlUG9zaXRpb24sXG4gICAgICB0YXJnZXRYID0gX3JlZjMudGFyZ2V0WCxcbiAgICAgIHRhcmdldFkgPSBfcmVmMy50YXJnZXRZLFxuICAgICAgX3JlZjMkdGFyZ2V0UG9zaXRpb24gPSBfcmVmMy50YXJnZXRQb3NpdGlvbixcbiAgICAgIHRhcmdldFBvc2l0aW9uID0gX3JlZjMkdGFyZ2V0UG9zaXRpb24gPT09IHZvaWQgMCA/IFBvc2l0aW9uLlRvcCA6IF9yZWYzJHRhcmdldFBvc2l0aW9uO1xuXG4gIHZhciBfZ2V0Q29udHJvbDUgPSBnZXRDb250cm9sKHtcbiAgICBwb3M6IHNvdXJjZVBvc2l0aW9uLFxuICAgIHgxOiBzb3VyY2VYLFxuICAgIHkxOiBzb3VyY2VZLFxuICAgIHgyOiB0YXJnZXRYLFxuICAgIHkyOiB0YXJnZXRZXG4gIH0pLFxuICAgICAgX2dldENvbnRyb2w2ID0gX3NsaWNlZFRvQXJyYXkoX2dldENvbnRyb2w1LCAyKSxcbiAgICAgIHNvdXJjZUNvbnRyb2xYID0gX2dldENvbnRyb2w2WzBdLFxuICAgICAgc291cmNlQ29udHJvbFkgPSBfZ2V0Q29udHJvbDZbMV07XG5cbiAgdmFyIF9nZXRDb250cm9sNyA9IGdldENvbnRyb2woe1xuICAgIHBvczogdGFyZ2V0UG9zaXRpb24sXG4gICAgeDE6IHRhcmdldFgsXG4gICAgeTE6IHRhcmdldFksXG4gICAgeDI6IHNvdXJjZVgsXG4gICAgeTI6IHNvdXJjZVlcbiAgfSksXG4gICAgICBfZ2V0Q29udHJvbDggPSBfc2xpY2VkVG9BcnJheShfZ2V0Q29udHJvbDcsIDIpLFxuICAgICAgdGFyZ2V0Q29udHJvbFggPSBfZ2V0Q29udHJvbDhbMF0sXG4gICAgICB0YXJnZXRDb250cm9sWSA9IF9nZXRDb250cm9sOFsxXTsgLy8gY3ViaWMgYmV6aWVyIHQ9MC41IG1pZCBwb2ludCwgbm90IHRoZSBhY3R1YWwgbWlkIHBvaW50LCBidXQgZWFzeSB0byBjYWxjdWxhdGVcbiAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNjc1MTYxMDEvaG93LXRvLWZpbmQtZGlzdGFuY2UtbWlkLXBvaW50LW9mLWJlemllci1jdXJ2ZVxuXG5cbiAgdmFyIGNlbnRlclggPSBzb3VyY2VYICogMC4xMjUgKyBzb3VyY2VDb250cm9sWCAqIDAuMzc1ICsgdGFyZ2V0Q29udHJvbFggKiAwLjM3NSArIHRhcmdldFggKiAwLjEyNTtcbiAgdmFyIGNlbnRlclkgPSBzb3VyY2VZICogMC4xMjUgKyBzb3VyY2VDb250cm9sWSAqIDAuMzc1ICsgdGFyZ2V0Q29udHJvbFkgKiAwLjM3NSArIHRhcmdldFkgKiAwLjEyNTtcbiAgdmFyIHhPZmZzZXQgPSBNYXRoLmFicyhjZW50ZXJYIC0gc291cmNlWCk7XG4gIHZhciB5T2Zmc2V0ID0gTWF0aC5hYnMoY2VudGVyWSAtIHNvdXJjZVkpO1xuICByZXR1cm4gW2NlbnRlclgsIGNlbnRlclksIHhPZmZzZXQsIHlPZmZzZXRdO1xufVxudmFyIFNpbXBsZUJlemllckVkZ2UgPSAvKiNfX1BVUkVfXyovbWVtbyhmdW5jdGlvbiAoX3JlZjQpIHtcbiAgdmFyIHNvdXJjZVggPSBfcmVmNC5zb3VyY2VYLFxuICAgICAgc291cmNlWSA9IF9yZWY0LnNvdXJjZVksXG4gICAgICB0YXJnZXRYID0gX3JlZjQudGFyZ2V0WCxcbiAgICAgIHRhcmdldFkgPSBfcmVmNC50YXJnZXRZLFxuICAgICAgX3JlZjQkc291cmNlUG9zaXRpb24gPSBfcmVmNC5zb3VyY2VQb3NpdGlvbixcbiAgICAgIHNvdXJjZVBvc2l0aW9uID0gX3JlZjQkc291cmNlUG9zaXRpb24gPT09IHZvaWQgMCA/IFBvc2l0aW9uLkJvdHRvbSA6IF9yZWY0JHNvdXJjZVBvc2l0aW9uLFxuICAgICAgX3JlZjQkdGFyZ2V0UG9zaXRpb24gPSBfcmVmNC50YXJnZXRQb3NpdGlvbixcbiAgICAgIHRhcmdldFBvc2l0aW9uID0gX3JlZjQkdGFyZ2V0UG9zaXRpb24gPT09IHZvaWQgMCA/IFBvc2l0aW9uLlRvcCA6IF9yZWY0JHRhcmdldFBvc2l0aW9uLFxuICAgICAgbGFiZWwgPSBfcmVmNC5sYWJlbCxcbiAgICAgIGxhYmVsU3R5bGUgPSBfcmVmNC5sYWJlbFN0eWxlLFxuICAgICAgbGFiZWxTaG93QmcgPSBfcmVmNC5sYWJlbFNob3dCZyxcbiAgICAgIGxhYmVsQmdTdHlsZSA9IF9yZWY0LmxhYmVsQmdTdHlsZSxcbiAgICAgIGxhYmVsQmdQYWRkaW5nID0gX3JlZjQubGFiZWxCZ1BhZGRpbmcsXG4gICAgICBsYWJlbEJnQm9yZGVyUmFkaXVzID0gX3JlZjQubGFiZWxCZ0JvcmRlclJhZGl1cyxcbiAgICAgIHN0eWxlID0gX3JlZjQuc3R5bGUsXG4gICAgICBtYXJrZXJFbmQgPSBfcmVmNC5tYXJrZXJFbmQsXG4gICAgICBtYXJrZXJTdGFydCA9IF9yZWY0Lm1hcmtlclN0YXJ0O1xuICB2YXIgcGFyYW1zID0ge1xuICAgIHNvdXJjZVg6IHNvdXJjZVgsXG4gICAgc291cmNlWTogc291cmNlWSxcbiAgICBzb3VyY2VQb3NpdGlvbjogc291cmNlUG9zaXRpb24sXG4gICAgdGFyZ2V0WDogdGFyZ2V0WCxcbiAgICB0YXJnZXRZOiB0YXJnZXRZLFxuICAgIHRhcmdldFBvc2l0aW9uOiB0YXJnZXRQb3NpdGlvblxuICB9O1xuICB2YXIgcGF0aCA9IGdldFNpbXBsZUJlemllclBhdGgocGFyYW1zKTtcblxuICB2YXIgX2dldFNpbXBsZUJlemllckNlbnRlID0gZ2V0U2ltcGxlQmV6aWVyQ2VudGVyKHBhcmFtcyksXG4gICAgICBfZ2V0U2ltcGxlQmV6aWVyQ2VudGUyID0gX3NsaWNlZFRvQXJyYXkoX2dldFNpbXBsZUJlemllckNlbnRlLCAyKSxcbiAgICAgIGNlbnRlclggPSBfZ2V0U2ltcGxlQmV6aWVyQ2VudGUyWzBdLFxuICAgICAgY2VudGVyWSA9IF9nZXRTaW1wbGVCZXppZXJDZW50ZTJbMV07XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEJhc2VFZGdlLCB7XG4gICAgcGF0aDogcGF0aCxcbiAgICBjZW50ZXJYOiBjZW50ZXJYLFxuICAgIGNlbnRlclk6IGNlbnRlclksXG4gICAgbGFiZWw6IGxhYmVsLFxuICAgIGxhYmVsU3R5bGU6IGxhYmVsU3R5bGUsXG4gICAgbGFiZWxTaG93Qmc6IGxhYmVsU2hvd0JnLFxuICAgIGxhYmVsQmdTdHlsZTogbGFiZWxCZ1N0eWxlLFxuICAgIGxhYmVsQmdQYWRkaW5nOiBsYWJlbEJnUGFkZGluZyxcbiAgICBsYWJlbEJnQm9yZGVyUmFkaXVzOiBsYWJlbEJnQm9yZGVyUmFkaXVzLFxuICAgIHN0eWxlOiBzdHlsZSxcbiAgICBtYXJrZXJFbmQ6IG1hcmtlckVuZCxcbiAgICBtYXJrZXJTdGFydDogbWFya2VyU3RhcnRcbiAgfSk7XG59KTtcblxuZnVuY3Rpb24gb3duS2V5cyRiKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgZW51bWVyYWJsZU9ubHkgJiYgKHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KSksIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkJGIodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBudWxsICE9IGFyZ3VtZW50c1tpXSA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpICUgMiA/IG93bktleXMkYihPYmplY3Qoc291cmNlKSwgITApLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSkgOiBvd25LZXlzJGIoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfVxudmFyIGdldE1hcmtlckVuZCA9IGZ1bmN0aW9uIGdldE1hcmtlckVuZChtYXJrZXJUeXBlLCBtYXJrZXJFbmRJZCkge1xuICBpZiAodHlwZW9mIG1hcmtlckVuZElkICE9PSAndW5kZWZpbmVkJyAmJiBtYXJrZXJFbmRJZCkge1xuICAgIHJldHVybiBcInVybCgjXCIuY29uY2F0KG1hcmtlckVuZElkLCBcIilcIik7XG4gIH1cblxuICByZXR1cm4gdHlwZW9mIG1hcmtlclR5cGUgIT09ICd1bmRlZmluZWQnID8gXCJ1cmwoI3JlYWN0LWZsb3dfX1wiLmNvbmNhdChtYXJrZXJUeXBlLCBcIilcIikgOiAnbm9uZSc7XG59O1xudmFyIExlZnRPclJpZ2h0ID0gW1Bvc2l0aW9uLkxlZnQsIFBvc2l0aW9uLlJpZ2h0XTtcbnZhciBnZXRDZW50ZXIgPSBmdW5jdGlvbiBnZXRDZW50ZXIoX3JlZikge1xuICB2YXIgc291cmNlWCA9IF9yZWYuc291cmNlWCxcbiAgICAgIHNvdXJjZVkgPSBfcmVmLnNvdXJjZVksXG4gICAgICB0YXJnZXRYID0gX3JlZi50YXJnZXRYLFxuICAgICAgdGFyZ2V0WSA9IF9yZWYudGFyZ2V0WSxcbiAgICAgIF9yZWYkc291cmNlUG9zaXRpb24gPSBfcmVmLnNvdXJjZVBvc2l0aW9uLFxuICAgICAgc291cmNlUG9zaXRpb24gPSBfcmVmJHNvdXJjZVBvc2l0aW9uID09PSB2b2lkIDAgPyBQb3NpdGlvbi5Cb3R0b20gOiBfcmVmJHNvdXJjZVBvc2l0aW9uLFxuICAgICAgX3JlZiR0YXJnZXRQb3NpdGlvbiA9IF9yZWYudGFyZ2V0UG9zaXRpb24sXG4gICAgICB0YXJnZXRQb3NpdGlvbiA9IF9yZWYkdGFyZ2V0UG9zaXRpb24gPT09IHZvaWQgMCA/IFBvc2l0aW9uLlRvcCA6IF9yZWYkdGFyZ2V0UG9zaXRpb247XG4gIHZhciBzb3VyY2VJc0xlZnRPclJpZ2h0ID0gTGVmdE9yUmlnaHQuaW5jbHVkZXMoc291cmNlUG9zaXRpb24pO1xuICB2YXIgdGFyZ2V0SXNMZWZ0T3JSaWdodCA9IExlZnRPclJpZ2h0LmluY2x1ZGVzKHRhcmdldFBvc2l0aW9uKTsgLy8gd2UgZXhwZWN0IGZsb3dzIHRvIGJlIGhvcml6b250YWwgb3IgdmVydGljYWwgKGFsbCBoYW5kbGVzIGxlZnQgb3IgcmlnaHQgcmVzcGVjdGl2ZWx5IHRvcCBvciBib3R0b20pXG4gIC8vIGEgbWl4ZWQgZWRnZSBpcyB3aGVuIG9uZSB0aGUgc291cmNlIGlzIG9uIHRoZSBsZWZ0IGFuZCB0aGUgdGFyZ2V0IGlzIG9uIHRoZSB0b3AgZm9yIGV4YW1wbGUuXG5cbiAgdmFyIG1peGVkRWRnZSA9IHNvdXJjZUlzTGVmdE9yUmlnaHQgJiYgIXRhcmdldElzTGVmdE9yUmlnaHQgfHwgdGFyZ2V0SXNMZWZ0T3JSaWdodCAmJiAhc291cmNlSXNMZWZ0T3JSaWdodDtcblxuICBpZiAobWl4ZWRFZGdlKSB7XG4gICAgdmFyIF94T2Zmc2V0ID0gc291cmNlSXNMZWZ0T3JSaWdodCA/IE1hdGguYWJzKHRhcmdldFggLSBzb3VyY2VYKSA6IDA7XG5cbiAgICB2YXIgX2NlbnRlclggPSBzb3VyY2VYID4gdGFyZ2V0WCA/IHNvdXJjZVggLSBfeE9mZnNldCA6IHNvdXJjZVggKyBfeE9mZnNldDtcblxuICAgIHZhciBfeU9mZnNldCA9IHNvdXJjZUlzTGVmdE9yUmlnaHQgPyAwIDogTWF0aC5hYnModGFyZ2V0WSAtIHNvdXJjZVkpO1xuXG4gICAgdmFyIF9jZW50ZXJZID0gc291cmNlWSA8IHRhcmdldFkgPyBzb3VyY2VZICsgX3lPZmZzZXQgOiBzb3VyY2VZIC0gX3lPZmZzZXQ7XG5cbiAgICByZXR1cm4gW19jZW50ZXJYLCBfY2VudGVyWSwgX3hPZmZzZXQsIF95T2Zmc2V0XTtcbiAgfVxuXG4gIHZhciB4T2Zmc2V0ID0gTWF0aC5hYnModGFyZ2V0WCAtIHNvdXJjZVgpIC8gMjtcbiAgdmFyIGNlbnRlclggPSB0YXJnZXRYIDwgc291cmNlWCA/IHRhcmdldFggKyB4T2Zmc2V0IDogdGFyZ2V0WCAtIHhPZmZzZXQ7XG4gIHZhciB5T2Zmc2V0ID0gTWF0aC5hYnModGFyZ2V0WSAtIHNvdXJjZVkpIC8gMjtcbiAgdmFyIGNlbnRlclkgPSB0YXJnZXRZIDwgc291cmNlWSA/IHRhcmdldFkgKyB5T2Zmc2V0IDogdGFyZ2V0WSAtIHlPZmZzZXQ7XG4gIHJldHVybiBbY2VudGVyWCwgY2VudGVyWSwgeE9mZnNldCwgeU9mZnNldF07XG59O1xuZnVuY3Rpb24gZ2V0TW91c2VIYW5kbGVyKGlkLCBnZXRTdGF0ZSwgaGFuZGxlcikge1xuICByZXR1cm4gaGFuZGxlciA9PT0gdW5kZWZpbmVkID8gaGFuZGxlciA6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIHZhciBlZGdlID0gZ2V0U3RhdGUoKS5lZGdlcy5maW5kKGZ1bmN0aW9uIChlKSB7XG4gICAgICByZXR1cm4gZS5pZCA9PT0gaWQ7XG4gICAgfSk7XG4gICAgaGFuZGxlcihldmVudCwgX29iamVjdFNwcmVhZCRiKHt9LCBlZGdlKSk7XG4gIH07XG59XG5cbi8vIFRoZSBuYW1lIGluZGljYXRlcyB0aGUgZGlyZWN0aW9uIG9mIHRoZSBwYXRoLiBcImJvdHRvbUxlZnRDb3JuZXJcIiBnb2VzXG4vLyBmcm9tIGJvdHRvbSB0byB0aGUgbGVmdCBhbmQgXCJsZWZ0Qm90dG9tQ29ybmVyXCIgZ29lcyBmcm9tIGxlZnQgdG8gdGhlIGJvdHRvbS5cbi8vIFdlIGhhdmUgdG8gY29uc2lkZXIgdGhlIGRpcmVjdGlvbiBvZiB0aGUgcGF0aHMgYmVjYXVzZSBvZiB0aGUgYW5pbWF0ZWQgbGluZXMuXG5cbnZhciBib3R0b21MZWZ0Q29ybmVyID0gZnVuY3Rpb24gYm90dG9tTGVmdENvcm5lcih4LCB5LCBzaXplKSB7XG4gIHJldHVybiBcIkwgXCIuY29uY2F0KHgsIFwiLFwiKS5jb25jYXQoeSAtIHNpemUsIFwiUSBcIikuY29uY2F0KHgsIFwiLFwiKS5jb25jYXQoeSwgXCIgXCIpLmNvbmNhdCh4ICsgc2l6ZSwgXCIsXCIpLmNvbmNhdCh5KTtcbn07XG5cbnZhciBsZWZ0Qm90dG9tQ29ybmVyID0gZnVuY3Rpb24gbGVmdEJvdHRvbUNvcm5lcih4LCB5LCBzaXplKSB7XG4gIHJldHVybiBcIkwgXCIuY29uY2F0KHggKyBzaXplLCBcIixcIikuY29uY2F0KHksIFwiUSBcIikuY29uY2F0KHgsIFwiLFwiKS5jb25jYXQoeSwgXCIgXCIpLmNvbmNhdCh4LCBcIixcIikuY29uY2F0KHkgLSBzaXplKTtcbn07XG5cbnZhciBib3R0b21SaWdodENvcm5lciA9IGZ1bmN0aW9uIGJvdHRvbVJpZ2h0Q29ybmVyKHgsIHksIHNpemUpIHtcbiAgcmV0dXJuIFwiTCBcIi5jb25jYXQoeCwgXCIsXCIpLmNvbmNhdCh5IC0gc2l6ZSwgXCJRIFwiKS5jb25jYXQoeCwgXCIsXCIpLmNvbmNhdCh5LCBcIiBcIikuY29uY2F0KHggLSBzaXplLCBcIixcIikuY29uY2F0KHkpO1xufTtcblxudmFyIHJpZ2h0Qm90dG9tQ29ybmVyID0gZnVuY3Rpb24gcmlnaHRCb3R0b21Db3JuZXIoeCwgeSwgc2l6ZSkge1xuICByZXR1cm4gXCJMIFwiLmNvbmNhdCh4IC0gc2l6ZSwgXCIsXCIpLmNvbmNhdCh5LCBcIlEgXCIpLmNvbmNhdCh4LCBcIixcIikuY29uY2F0KHksIFwiIFwiKS5jb25jYXQoeCwgXCIsXCIpLmNvbmNhdCh5IC0gc2l6ZSk7XG59O1xuXG52YXIgbGVmdFRvcENvcm5lciA9IGZ1bmN0aW9uIGxlZnRUb3BDb3JuZXIoeCwgeSwgc2l6ZSkge1xuICByZXR1cm4gXCJMIFwiLmNvbmNhdCh4ICsgc2l6ZSwgXCIsXCIpLmNvbmNhdCh5LCBcIlEgXCIpLmNvbmNhdCh4LCBcIixcIikuY29uY2F0KHksIFwiIFwiKS5jb25jYXQoeCwgXCIsXCIpLmNvbmNhdCh5ICsgc2l6ZSk7XG59O1xuXG52YXIgdG9wTGVmdENvcm5lciA9IGZ1bmN0aW9uIHRvcExlZnRDb3JuZXIoeCwgeSwgc2l6ZSkge1xuICByZXR1cm4gXCJMIFwiLmNvbmNhdCh4LCBcIixcIikuY29uY2F0KHkgKyBzaXplLCBcIlEgXCIpLmNvbmNhdCh4LCBcIixcIikuY29uY2F0KHksIFwiIFwiKS5jb25jYXQoeCArIHNpemUsIFwiLFwiKS5jb25jYXQoeSk7XG59O1xuXG52YXIgdG9wUmlnaHRDb3JuZXIgPSBmdW5jdGlvbiB0b3BSaWdodENvcm5lcih4LCB5LCBzaXplKSB7XG4gIHJldHVybiBcIkwgXCIuY29uY2F0KHgsIFwiLFwiKS5jb25jYXQoeSArIHNpemUsIFwiUSBcIikuY29uY2F0KHgsIFwiLFwiKS5jb25jYXQoeSwgXCIgXCIpLmNvbmNhdCh4IC0gc2l6ZSwgXCIsXCIpLmNvbmNhdCh5KTtcbn07XG5cbnZhciByaWdodFRvcENvcm5lciA9IGZ1bmN0aW9uIHJpZ2h0VG9wQ29ybmVyKHgsIHksIHNpemUpIHtcbiAgcmV0dXJuIFwiTCBcIi5jb25jYXQoeCAtIHNpemUsIFwiLFwiKS5jb25jYXQoeSwgXCJRIFwiKS5jb25jYXQoeCwgXCIsXCIpLmNvbmNhdCh5LCBcIiBcIikuY29uY2F0KHgsIFwiLFwiKS5jb25jYXQoeSArIHNpemUpO1xufTtcblxuZnVuY3Rpb24gZ2V0U21vb3RoU3RlcFBhdGgoX3JlZikge1xuICB2YXIgc291cmNlWCA9IF9yZWYuc291cmNlWCxcbiAgICAgIHNvdXJjZVkgPSBfcmVmLnNvdXJjZVksXG4gICAgICBfcmVmJHNvdXJjZVBvc2l0aW9uID0gX3JlZi5zb3VyY2VQb3NpdGlvbixcbiAgICAgIHNvdXJjZVBvc2l0aW9uID0gX3JlZiRzb3VyY2VQb3NpdGlvbiA9PT0gdm9pZCAwID8gUG9zaXRpb24uQm90dG9tIDogX3JlZiRzb3VyY2VQb3NpdGlvbixcbiAgICAgIHRhcmdldFggPSBfcmVmLnRhcmdldFgsXG4gICAgICB0YXJnZXRZID0gX3JlZi50YXJnZXRZLFxuICAgICAgX3JlZiR0YXJnZXRQb3NpdGlvbiA9IF9yZWYudGFyZ2V0UG9zaXRpb24sXG4gICAgICB0YXJnZXRQb3NpdGlvbiA9IF9yZWYkdGFyZ2V0UG9zaXRpb24gPT09IHZvaWQgMCA/IFBvc2l0aW9uLlRvcCA6IF9yZWYkdGFyZ2V0UG9zaXRpb24sXG4gICAgICBfcmVmJGJvcmRlclJhZGl1cyA9IF9yZWYuYm9yZGVyUmFkaXVzLFxuICAgICAgYm9yZGVyUmFkaXVzID0gX3JlZiRib3JkZXJSYWRpdXMgPT09IHZvaWQgMCA/IDUgOiBfcmVmJGJvcmRlclJhZGl1cyxcbiAgICAgIGNlbnRlclggPSBfcmVmLmNlbnRlclgsXG4gICAgICBjZW50ZXJZID0gX3JlZi5jZW50ZXJZO1xuXG4gIHZhciBfZ2V0Q2VudGVyID0gZ2V0Q2VudGVyKHtcbiAgICBzb3VyY2VYOiBzb3VyY2VYLFxuICAgIHNvdXJjZVk6IHNvdXJjZVksXG4gICAgdGFyZ2V0WDogdGFyZ2V0WCxcbiAgICB0YXJnZXRZOiB0YXJnZXRZXG4gIH0pLFxuICAgICAgX2dldENlbnRlcjIgPSBfc2xpY2VkVG9BcnJheShfZ2V0Q2VudGVyLCA0KSxcbiAgICAgIF9jZW50ZXJYID0gX2dldENlbnRlcjJbMF0sXG4gICAgICBfY2VudGVyWSA9IF9nZXRDZW50ZXIyWzFdLFxuICAgICAgb2Zmc2V0WCA9IF9nZXRDZW50ZXIyWzJdLFxuICAgICAgb2Zmc2V0WSA9IF9nZXRDZW50ZXIyWzNdO1xuXG4gIHZhciBjb3JuZXJXaWR0aCA9IE1hdGgubWluKGJvcmRlclJhZGl1cywgTWF0aC5hYnModGFyZ2V0WCAtIHNvdXJjZVgpKTtcbiAgdmFyIGNvcm5lckhlaWdodCA9IE1hdGgubWluKGJvcmRlclJhZGl1cywgTWF0aC5hYnModGFyZ2V0WSAtIHNvdXJjZVkpKTtcbiAgdmFyIGNvcm5lclNpemUgPSBNYXRoLm1pbihjb3JuZXJXaWR0aCwgY29ybmVySGVpZ2h0LCBvZmZzZXRYLCBvZmZzZXRZKTtcbiAgdmFyIGxlZnRBbmRSaWdodCA9IFtQb3NpdGlvbi5MZWZ0LCBQb3NpdGlvbi5SaWdodF07XG4gIHZhciBjWCA9IHR5cGVvZiBjZW50ZXJYICE9PSAndW5kZWZpbmVkJyA/IGNlbnRlclggOiBfY2VudGVyWDtcbiAgdmFyIGNZID0gdHlwZW9mIGNlbnRlclkgIT09ICd1bmRlZmluZWQnID8gY2VudGVyWSA6IF9jZW50ZXJZO1xuICB2YXIgZmlyc3RDb3JuZXJQYXRoID0gbnVsbDtcbiAgdmFyIHNlY29uZENvcm5lclBhdGggPSBudWxsO1xuXG4gIGlmIChzb3VyY2VYIDw9IHRhcmdldFgpIHtcbiAgICBmaXJzdENvcm5lclBhdGggPSBzb3VyY2VZIDw9IHRhcmdldFkgPyBib3R0b21MZWZ0Q29ybmVyKHNvdXJjZVgsIGNZLCBjb3JuZXJTaXplKSA6IHRvcExlZnRDb3JuZXIoc291cmNlWCwgY1ksIGNvcm5lclNpemUpO1xuICAgIHNlY29uZENvcm5lclBhdGggPSBzb3VyY2VZIDw9IHRhcmdldFkgPyByaWdodFRvcENvcm5lcih0YXJnZXRYLCBjWSwgY29ybmVyU2l6ZSkgOiByaWdodEJvdHRvbUNvcm5lcih0YXJnZXRYLCBjWSwgY29ybmVyU2l6ZSk7XG4gIH0gZWxzZSB7XG4gICAgZmlyc3RDb3JuZXJQYXRoID0gc291cmNlWSA8IHRhcmdldFkgPyBib3R0b21SaWdodENvcm5lcihzb3VyY2VYLCBjWSwgY29ybmVyU2l6ZSkgOiB0b3BSaWdodENvcm5lcihzb3VyY2VYLCBjWSwgY29ybmVyU2l6ZSk7XG4gICAgc2Vjb25kQ29ybmVyUGF0aCA9IHNvdXJjZVkgPCB0YXJnZXRZID8gbGVmdFRvcENvcm5lcih0YXJnZXRYLCBjWSwgY29ybmVyU2l6ZSkgOiBsZWZ0Qm90dG9tQ29ybmVyKHRhcmdldFgsIGNZLCBjb3JuZXJTaXplKTtcbiAgfVxuXG4gIGlmIChsZWZ0QW5kUmlnaHQuaW5jbHVkZXMoc291cmNlUG9zaXRpb24pICYmIGxlZnRBbmRSaWdodC5pbmNsdWRlcyh0YXJnZXRQb3NpdGlvbikpIHtcbiAgICBpZiAoc291cmNlWCA8PSB0YXJnZXRYKSB7XG4gICAgICBmaXJzdENvcm5lclBhdGggPSBzb3VyY2VZIDw9IHRhcmdldFkgPyByaWdodFRvcENvcm5lcihjWCwgc291cmNlWSwgY29ybmVyU2l6ZSkgOiByaWdodEJvdHRvbUNvcm5lcihjWCwgc291cmNlWSwgY29ybmVyU2l6ZSk7XG4gICAgICBzZWNvbmRDb3JuZXJQYXRoID0gc291cmNlWSA8PSB0YXJnZXRZID8gYm90dG9tTGVmdENvcm5lcihjWCwgdGFyZ2V0WSwgY29ybmVyU2l6ZSkgOiB0b3BMZWZ0Q29ybmVyKGNYLCB0YXJnZXRZLCBjb3JuZXJTaXplKTtcbiAgICB9IGVsc2UgaWYgKHNvdXJjZVBvc2l0aW9uID09PSBQb3NpdGlvbi5SaWdodCAmJiB0YXJnZXRQb3NpdGlvbiA9PT0gUG9zaXRpb24uTGVmdCB8fCBzb3VyY2VQb3NpdGlvbiA9PT0gUG9zaXRpb24uTGVmdCAmJiB0YXJnZXRQb3NpdGlvbiA9PT0gUG9zaXRpb24uUmlnaHQgfHwgc291cmNlUG9zaXRpb24gPT09IFBvc2l0aW9uLkxlZnQgJiYgdGFyZ2V0UG9zaXRpb24gPT09IFBvc2l0aW9uLkxlZnQpIHtcbiAgICAgIC8vIGFuZCBzb3VyY2VYID4gdGFyZ2V0WFxuICAgICAgZmlyc3RDb3JuZXJQYXRoID0gc291cmNlWSA8PSB0YXJnZXRZID8gbGVmdFRvcENvcm5lcihjWCwgc291cmNlWSwgY29ybmVyU2l6ZSkgOiBsZWZ0Qm90dG9tQ29ybmVyKGNYLCBzb3VyY2VZLCBjb3JuZXJTaXplKTtcbiAgICAgIHNlY29uZENvcm5lclBhdGggPSBzb3VyY2VZIDw9IHRhcmdldFkgPyBib3R0b21SaWdodENvcm5lcihjWCwgdGFyZ2V0WSwgY29ybmVyU2l6ZSkgOiB0b3BSaWdodENvcm5lcihjWCwgdGFyZ2V0WSwgY29ybmVyU2l6ZSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGxlZnRBbmRSaWdodC5pbmNsdWRlcyhzb3VyY2VQb3NpdGlvbikgJiYgIWxlZnRBbmRSaWdodC5pbmNsdWRlcyh0YXJnZXRQb3NpdGlvbikpIHtcbiAgICBpZiAoc291cmNlWCA8PSB0YXJnZXRYKSB7XG4gICAgICBmaXJzdENvcm5lclBhdGggPSBzb3VyY2VZIDw9IHRhcmdldFkgPyByaWdodFRvcENvcm5lcih0YXJnZXRYLCBzb3VyY2VZLCBjb3JuZXJTaXplKSA6IHJpZ2h0Qm90dG9tQ29ybmVyKHRhcmdldFgsIHNvdXJjZVksIGNvcm5lclNpemUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmaXJzdENvcm5lclBhdGggPSBzb3VyY2VZIDw9IHRhcmdldFkgPyBsZWZ0VG9wQ29ybmVyKHRhcmdldFgsIHNvdXJjZVksIGNvcm5lclNpemUpIDogbGVmdEJvdHRvbUNvcm5lcih0YXJnZXRYLCBzb3VyY2VZLCBjb3JuZXJTaXplKTtcbiAgICB9XG5cbiAgICBzZWNvbmRDb3JuZXJQYXRoID0gJyc7XG4gIH0gZWxzZSBpZiAoIWxlZnRBbmRSaWdodC5pbmNsdWRlcyhzb3VyY2VQb3NpdGlvbikgJiYgbGVmdEFuZFJpZ2h0LmluY2x1ZGVzKHRhcmdldFBvc2l0aW9uKSkge1xuICAgIGlmIChzb3VyY2VYIDw9IHRhcmdldFgpIHtcbiAgICAgIGZpcnN0Q29ybmVyUGF0aCA9IHNvdXJjZVkgPD0gdGFyZ2V0WSA/IGJvdHRvbUxlZnRDb3JuZXIoc291cmNlWCwgdGFyZ2V0WSwgY29ybmVyU2l6ZSkgOiB0b3BMZWZ0Q29ybmVyKHNvdXJjZVgsIHRhcmdldFksIGNvcm5lclNpemUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmaXJzdENvcm5lclBhdGggPSBzb3VyY2VZIDw9IHRhcmdldFkgPyBib3R0b21SaWdodENvcm5lcihzb3VyY2VYLCB0YXJnZXRZLCBjb3JuZXJTaXplKSA6IHRvcFJpZ2h0Q29ybmVyKHNvdXJjZVgsIHRhcmdldFksIGNvcm5lclNpemUpO1xuICAgIH1cblxuICAgIHNlY29uZENvcm5lclBhdGggPSAnJztcbiAgfVxuXG4gIHJldHVybiBcIk0gXCIuY29uY2F0KHNvdXJjZVgsIFwiLFwiKS5jb25jYXQoc291cmNlWSkuY29uY2F0KGZpcnN0Q29ybmVyUGF0aCkuY29uY2F0KHNlY29uZENvcm5lclBhdGgsIFwiTCBcIikuY29uY2F0KHRhcmdldFgsIFwiLFwiKS5jb25jYXQodGFyZ2V0WSk7XG59XG52YXIgU21vb3RoU3RlcEVkZ2UgPSAvKiNfX1BVUkVfXyovbWVtbyhmdW5jdGlvbiAoX3JlZjIpIHtcbiAgdmFyIHNvdXJjZVggPSBfcmVmMi5zb3VyY2VYLFxuICAgICAgc291cmNlWSA9IF9yZWYyLnNvdXJjZVksXG4gICAgICB0YXJnZXRYID0gX3JlZjIudGFyZ2V0WCxcbiAgICAgIHRhcmdldFkgPSBfcmVmMi50YXJnZXRZLFxuICAgICAgbGFiZWwgPSBfcmVmMi5sYWJlbCxcbiAgICAgIGxhYmVsU3R5bGUgPSBfcmVmMi5sYWJlbFN0eWxlLFxuICAgICAgbGFiZWxTaG93QmcgPSBfcmVmMi5sYWJlbFNob3dCZyxcbiAgICAgIGxhYmVsQmdTdHlsZSA9IF9yZWYyLmxhYmVsQmdTdHlsZSxcbiAgICAgIGxhYmVsQmdQYWRkaW5nID0gX3JlZjIubGFiZWxCZ1BhZGRpbmcsXG4gICAgICBsYWJlbEJnQm9yZGVyUmFkaXVzID0gX3JlZjIubGFiZWxCZ0JvcmRlclJhZGl1cyxcbiAgICAgIHN0eWxlID0gX3JlZjIuc3R5bGUsXG4gICAgICBfcmVmMiRzb3VyY2VQb3NpdGlvbiA9IF9yZWYyLnNvdXJjZVBvc2l0aW9uLFxuICAgICAgc291cmNlUG9zaXRpb24gPSBfcmVmMiRzb3VyY2VQb3NpdGlvbiA9PT0gdm9pZCAwID8gUG9zaXRpb24uQm90dG9tIDogX3JlZjIkc291cmNlUG9zaXRpb24sXG4gICAgICBfcmVmMiR0YXJnZXRQb3NpdGlvbiA9IF9yZWYyLnRhcmdldFBvc2l0aW9uLFxuICAgICAgdGFyZ2V0UG9zaXRpb24gPSBfcmVmMiR0YXJnZXRQb3NpdGlvbiA9PT0gdm9pZCAwID8gUG9zaXRpb24uVG9wIDogX3JlZjIkdGFyZ2V0UG9zaXRpb24sXG4gICAgICBtYXJrZXJFbmQgPSBfcmVmMi5tYXJrZXJFbmQsXG4gICAgICBtYXJrZXJTdGFydCA9IF9yZWYyLm1hcmtlclN0YXJ0LFxuICAgICAgX3JlZjIkYm9yZGVyUmFkaXVzID0gX3JlZjIuYm9yZGVyUmFkaXVzLFxuICAgICAgYm9yZGVyUmFkaXVzID0gX3JlZjIkYm9yZGVyUmFkaXVzID09PSB2b2lkIDAgPyA1IDogX3JlZjIkYm9yZGVyUmFkaXVzO1xuXG4gIHZhciBfZ2V0Q2VudGVyMyA9IGdldENlbnRlcih7XG4gICAgc291cmNlWDogc291cmNlWCxcbiAgICBzb3VyY2VZOiBzb3VyY2VZLFxuICAgIHRhcmdldFg6IHRhcmdldFgsXG4gICAgdGFyZ2V0WTogdGFyZ2V0WSxcbiAgICBzb3VyY2VQb3NpdGlvbjogc291cmNlUG9zaXRpb24sXG4gICAgdGFyZ2V0UG9zaXRpb246IHRhcmdldFBvc2l0aW9uXG4gIH0pLFxuICAgICAgX2dldENlbnRlcjQgPSBfc2xpY2VkVG9BcnJheShfZ2V0Q2VudGVyMywgMiksXG4gICAgICBjZW50ZXJYID0gX2dldENlbnRlcjRbMF0sXG4gICAgICBjZW50ZXJZID0gX2dldENlbnRlcjRbMV07XG5cbiAgdmFyIHBhdGggPSBnZXRTbW9vdGhTdGVwUGF0aCh7XG4gICAgc291cmNlWDogc291cmNlWCxcbiAgICBzb3VyY2VZOiBzb3VyY2VZLFxuICAgIHNvdXJjZVBvc2l0aW9uOiBzb3VyY2VQb3NpdGlvbixcbiAgICB0YXJnZXRYOiB0YXJnZXRYLFxuICAgIHRhcmdldFk6IHRhcmdldFksXG4gICAgdGFyZ2V0UG9zaXRpb246IHRhcmdldFBvc2l0aW9uLFxuICAgIGJvcmRlclJhZGl1czogYm9yZGVyUmFkaXVzXG4gIH0pO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQmFzZUVkZ2UsIHtcbiAgICBwYXRoOiBwYXRoLFxuICAgIGNlbnRlclg6IGNlbnRlclgsXG4gICAgY2VudGVyWTogY2VudGVyWSxcbiAgICBsYWJlbDogbGFiZWwsXG4gICAgbGFiZWxTdHlsZTogbGFiZWxTdHlsZSxcbiAgICBsYWJlbFNob3dCZzogbGFiZWxTaG93QmcsXG4gICAgbGFiZWxCZ1N0eWxlOiBsYWJlbEJnU3R5bGUsXG4gICAgbGFiZWxCZ1BhZGRpbmc6IGxhYmVsQmdQYWRkaW5nLFxuICAgIGxhYmVsQmdCb3JkZXJSYWRpdXM6IGxhYmVsQmdCb3JkZXJSYWRpdXMsXG4gICAgc3R5bGU6IHN0eWxlLFxuICAgIG1hcmtlckVuZDogbWFya2VyRW5kLFxuICAgIG1hcmtlclN0YXJ0OiBtYXJrZXJTdGFydFxuICB9KTtcbn0pO1xuXG5mdW5jdGlvbiBvd25LZXlzJGEob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBlbnVtZXJhYmxlT25seSAmJiAoc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pKSwga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQkYSh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IG51bGwgIT0gYXJndW1lbnRzW2ldID8gYXJndW1lbnRzW2ldIDoge307IGkgJSAyID8gb3duS2V5cyRhKE9iamVjdChzb3VyY2UpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKSA6IG93bktleXMkYShPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XG52YXIgU3RlcEVkZ2UgPSAvKiNfX1BVUkVfXyovbWVtbyhmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFNtb290aFN0ZXBFZGdlLCBfb2JqZWN0U3ByZWFkJGEoX29iamVjdFNwcmVhZCRhKHt9LCBwcm9wcyksIHt9LCB7XG4gICAgYm9yZGVyUmFkaXVzOiAwXG4gIH0pKTtcbn0pO1xuXG52YXIgU3RyYWlnaHRFZGdlID0gLyojX19QVVJFX18qL21lbW8oZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIHNvdXJjZVggPSBfcmVmLnNvdXJjZVgsXG4gICAgICBzb3VyY2VZID0gX3JlZi5zb3VyY2VZLFxuICAgICAgdGFyZ2V0WCA9IF9yZWYudGFyZ2V0WCxcbiAgICAgIHRhcmdldFkgPSBfcmVmLnRhcmdldFksXG4gICAgICBsYWJlbCA9IF9yZWYubGFiZWwsXG4gICAgICBsYWJlbFN0eWxlID0gX3JlZi5sYWJlbFN0eWxlLFxuICAgICAgbGFiZWxTaG93QmcgPSBfcmVmLmxhYmVsU2hvd0JnLFxuICAgICAgbGFiZWxCZ1N0eWxlID0gX3JlZi5sYWJlbEJnU3R5bGUsXG4gICAgICBsYWJlbEJnUGFkZGluZyA9IF9yZWYubGFiZWxCZ1BhZGRpbmcsXG4gICAgICBsYWJlbEJnQm9yZGVyUmFkaXVzID0gX3JlZi5sYWJlbEJnQm9yZGVyUmFkaXVzLFxuICAgICAgc3R5bGUgPSBfcmVmLnN0eWxlLFxuICAgICAgbWFya2VyRW5kID0gX3JlZi5tYXJrZXJFbmQsXG4gICAgICBtYXJrZXJTdGFydCA9IF9yZWYubWFya2VyU3RhcnQ7XG4gIHZhciB5T2Zmc2V0ID0gTWF0aC5hYnModGFyZ2V0WSAtIHNvdXJjZVkpIC8gMjtcbiAgdmFyIGNlbnRlclkgPSB0YXJnZXRZIDwgc291cmNlWSA/IHRhcmdldFkgKyB5T2Zmc2V0IDogdGFyZ2V0WSAtIHlPZmZzZXQ7XG4gIHZhciB4T2Zmc2V0ID0gTWF0aC5hYnModGFyZ2V0WCAtIHNvdXJjZVgpIC8gMjtcbiAgdmFyIGNlbnRlclggPSB0YXJnZXRYIDwgc291cmNlWCA/IHRhcmdldFggKyB4T2Zmc2V0IDogdGFyZ2V0WCAtIHhPZmZzZXQ7XG4gIHZhciBwYXRoID0gXCJNIFwiLmNvbmNhdChzb3VyY2VYLCBcIixcIikuY29uY2F0KHNvdXJjZVksIFwiTCBcIikuY29uY2F0KHRhcmdldFgsIFwiLFwiKS5jb25jYXQodGFyZ2V0WSk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChCYXNlRWRnZSwge1xuICAgIHBhdGg6IHBhdGgsXG4gICAgY2VudGVyWDogY2VudGVyWCxcbiAgICBjZW50ZXJZOiBjZW50ZXJZLFxuICAgIGxhYmVsOiBsYWJlbCxcbiAgICBsYWJlbFN0eWxlOiBsYWJlbFN0eWxlLFxuICAgIGxhYmVsU2hvd0JnOiBsYWJlbFNob3dCZyxcbiAgICBsYWJlbEJnU3R5bGU6IGxhYmVsQmdTdHlsZSxcbiAgICBsYWJlbEJnUGFkZGluZzogbGFiZWxCZ1BhZGRpbmcsXG4gICAgbGFiZWxCZ0JvcmRlclJhZGl1czogbGFiZWxCZ0JvcmRlclJhZGl1cyxcbiAgICBzdHlsZTogc3R5bGUsXG4gICAgbWFya2VyRW5kOiBtYXJrZXJFbmQsXG4gICAgbWFya2VyU3RhcnQ6IG1hcmtlclN0YXJ0XG4gIH0pO1xufSk7XG5cbmZ1bmN0aW9uIGNhbGN1bGF0ZUNvbnRyb2xPZmZzZXQoZGlzdGFuY2UsIGN1cnZhdHVyZSkge1xuICBpZiAoZGlzdGFuY2UgPj0gMCkge1xuICAgIHJldHVybiAwLjUgKiBkaXN0YW5jZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY3VydmF0dXJlICogMjUgKiBNYXRoLnNxcnQoLWRpc3RhbmNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRDb250cm9sV2l0aEN1cnZhdHVyZShfcmVmKSB7XG4gIHZhciBwb3MgPSBfcmVmLnBvcyxcbiAgICAgIHgxID0gX3JlZi54MSxcbiAgICAgIHkxID0gX3JlZi55MSxcbiAgICAgIHgyID0gX3JlZi54MixcbiAgICAgIHkyID0gX3JlZi55MixcbiAgICAgIGMgPSBfcmVmLmM7XG4gIHZhciBjdFgsIGN0WTtcblxuICBzd2l0Y2ggKHBvcykge1xuICAgIGNhc2UgUG9zaXRpb24uTGVmdDpcbiAgICAgIHtcbiAgICAgICAgY3RYID0geDEgLSBjYWxjdWxhdGVDb250cm9sT2Zmc2V0KHgxIC0geDIsIGMpO1xuICAgICAgICBjdFkgPSB5MTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBQb3NpdGlvbi5SaWdodDpcbiAgICAgIHtcbiAgICAgICAgY3RYID0geDEgKyBjYWxjdWxhdGVDb250cm9sT2Zmc2V0KHgyIC0geDEsIGMpO1xuICAgICAgICBjdFkgPSB5MTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBQb3NpdGlvbi5Ub3A6XG4gICAgICB7XG4gICAgICAgIGN0WCA9IHgxO1xuICAgICAgICBjdFkgPSB5MSAtIGNhbGN1bGF0ZUNvbnRyb2xPZmZzZXQoeTEgLSB5MiwgYyk7XG4gICAgICB9XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgUG9zaXRpb24uQm90dG9tOlxuICAgICAge1xuICAgICAgICBjdFggPSB4MTtcbiAgICAgICAgY3RZID0geTEgKyBjYWxjdWxhdGVDb250cm9sT2Zmc2V0KHkyIC0geTEsIGMpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gIH1cblxuICByZXR1cm4gW2N0WCwgY3RZXTtcbn1cblxuZnVuY3Rpb24gZ2V0QmV6aWVyUGF0aChfcmVmMikge1xuICB2YXIgc291cmNlWCA9IF9yZWYyLnNvdXJjZVgsXG4gICAgICBzb3VyY2VZID0gX3JlZjIuc291cmNlWSxcbiAgICAgIF9yZWYyJHNvdXJjZVBvc2l0aW9uID0gX3JlZjIuc291cmNlUG9zaXRpb24sXG4gICAgICBzb3VyY2VQb3NpdGlvbiA9IF9yZWYyJHNvdXJjZVBvc2l0aW9uID09PSB2b2lkIDAgPyBQb3NpdGlvbi5Cb3R0b20gOiBfcmVmMiRzb3VyY2VQb3NpdGlvbixcbiAgICAgIHRhcmdldFggPSBfcmVmMi50YXJnZXRYLFxuICAgICAgdGFyZ2V0WSA9IF9yZWYyLnRhcmdldFksXG4gICAgICBfcmVmMiR0YXJnZXRQb3NpdGlvbiA9IF9yZWYyLnRhcmdldFBvc2l0aW9uLFxuICAgICAgdGFyZ2V0UG9zaXRpb24gPSBfcmVmMiR0YXJnZXRQb3NpdGlvbiA9PT0gdm9pZCAwID8gUG9zaXRpb24uVG9wIDogX3JlZjIkdGFyZ2V0UG9zaXRpb24sXG4gICAgICBfcmVmMiRjdXJ2YXR1cmUgPSBfcmVmMi5jdXJ2YXR1cmUsXG4gICAgICBjdXJ2YXR1cmUgPSBfcmVmMiRjdXJ2YXR1cmUgPT09IHZvaWQgMCA/IDAuMjUgOiBfcmVmMiRjdXJ2YXR1cmU7XG5cbiAgdmFyIF9nZXRDb250cm9sV2l0aEN1cnZhdCA9IGdldENvbnRyb2xXaXRoQ3VydmF0dXJlKHtcbiAgICBwb3M6IHNvdXJjZVBvc2l0aW9uLFxuICAgIHgxOiBzb3VyY2VYLFxuICAgIHkxOiBzb3VyY2VZLFxuICAgIHgyOiB0YXJnZXRYLFxuICAgIHkyOiB0YXJnZXRZLFxuICAgIGM6IGN1cnZhdHVyZVxuICB9KSxcbiAgICAgIF9nZXRDb250cm9sV2l0aEN1cnZhdDIgPSBfc2xpY2VkVG9BcnJheShfZ2V0Q29udHJvbFdpdGhDdXJ2YXQsIDIpLFxuICAgICAgc291cmNlQ29udHJvbFggPSBfZ2V0Q29udHJvbFdpdGhDdXJ2YXQyWzBdLFxuICAgICAgc291cmNlQ29udHJvbFkgPSBfZ2V0Q29udHJvbFdpdGhDdXJ2YXQyWzFdO1xuXG4gIHZhciBfZ2V0Q29udHJvbFdpdGhDdXJ2YXQzID0gZ2V0Q29udHJvbFdpdGhDdXJ2YXR1cmUoe1xuICAgIHBvczogdGFyZ2V0UG9zaXRpb24sXG4gICAgeDE6IHRhcmdldFgsXG4gICAgeTE6IHRhcmdldFksXG4gICAgeDI6IHNvdXJjZVgsXG4gICAgeTI6IHNvdXJjZVksXG4gICAgYzogY3VydmF0dXJlXG4gIH0pLFxuICAgICAgX2dldENvbnRyb2xXaXRoQ3VydmF0NCA9IF9zbGljZWRUb0FycmF5KF9nZXRDb250cm9sV2l0aEN1cnZhdDMsIDIpLFxuICAgICAgdGFyZ2V0Q29udHJvbFggPSBfZ2V0Q29udHJvbFdpdGhDdXJ2YXQ0WzBdLFxuICAgICAgdGFyZ2V0Q29udHJvbFkgPSBfZ2V0Q29udHJvbFdpdGhDdXJ2YXQ0WzFdO1xuXG4gIHJldHVybiBcIk1cIi5jb25jYXQoc291cmNlWCwgXCIsXCIpLmNvbmNhdChzb3VyY2VZLCBcIiBDXCIpLmNvbmNhdChzb3VyY2VDb250cm9sWCwgXCIsXCIpLmNvbmNhdChzb3VyY2VDb250cm9sWSwgXCIgXCIpLmNvbmNhdCh0YXJnZXRDb250cm9sWCwgXCIsXCIpLmNvbmNhdCh0YXJnZXRDb250cm9sWSwgXCIgXCIpLmNvbmNhdCh0YXJnZXRYLCBcIixcIikuY29uY2F0KHRhcmdldFkpO1xufSAvLyBAVE9ETzogdGhpcyBmdW5jdGlvbiB3aWxsIHJlY2FsY3VsYXRlIHRoZSBjb250cm9sIHBvaW50c1xuLy8gb25lIG9wdGlvbiBpcyB0byBsZXQgZ2V0WFhYUGF0aCgpIHJldHVybiBjZW50ZXIgcG9pbnRzXG4vLyBidXQgd2lsbCBpbnRyb2R1Y2UgYnJlYWtpbmcgY2hhbmdlc1xuLy8gdGhlIGdldENlbnRlcigpIG9mIG90aGVyIHR5cGVzIG9mIGVkZ2VzIG1pZ2h0IG5lZWQgdG8gY2hhbmdlLCB0b29cblxuZnVuY3Rpb24gZ2V0QmV6aWVyQ2VudGVyKF9yZWYzKSB7XG4gIHZhciBzb3VyY2VYID0gX3JlZjMuc291cmNlWCxcbiAgICAgIHNvdXJjZVkgPSBfcmVmMy5zb3VyY2VZLFxuICAgICAgX3JlZjMkc291cmNlUG9zaXRpb24gPSBfcmVmMy5zb3VyY2VQb3NpdGlvbixcbiAgICAgIHNvdXJjZVBvc2l0aW9uID0gX3JlZjMkc291cmNlUG9zaXRpb24gPT09IHZvaWQgMCA/IFBvc2l0aW9uLkJvdHRvbSA6IF9yZWYzJHNvdXJjZVBvc2l0aW9uLFxuICAgICAgdGFyZ2V0WCA9IF9yZWYzLnRhcmdldFgsXG4gICAgICB0YXJnZXRZID0gX3JlZjMudGFyZ2V0WSxcbiAgICAgIF9yZWYzJHRhcmdldFBvc2l0aW9uID0gX3JlZjMudGFyZ2V0UG9zaXRpb24sXG4gICAgICB0YXJnZXRQb3NpdGlvbiA9IF9yZWYzJHRhcmdldFBvc2l0aW9uID09PSB2b2lkIDAgPyBQb3NpdGlvbi5Ub3AgOiBfcmVmMyR0YXJnZXRQb3NpdGlvbixcbiAgICAgIF9yZWYzJGN1cnZhdHVyZSA9IF9yZWYzLmN1cnZhdHVyZSxcbiAgICAgIGN1cnZhdHVyZSA9IF9yZWYzJGN1cnZhdHVyZSA9PT0gdm9pZCAwID8gMC4yNSA6IF9yZWYzJGN1cnZhdHVyZTtcblxuICB2YXIgX2dldENvbnRyb2xXaXRoQ3VydmF0NSA9IGdldENvbnRyb2xXaXRoQ3VydmF0dXJlKHtcbiAgICBwb3M6IHNvdXJjZVBvc2l0aW9uLFxuICAgIHgxOiBzb3VyY2VYLFxuICAgIHkxOiBzb3VyY2VZLFxuICAgIHgyOiB0YXJnZXRYLFxuICAgIHkyOiB0YXJnZXRZLFxuICAgIGM6IGN1cnZhdHVyZVxuICB9KSxcbiAgICAgIF9nZXRDb250cm9sV2l0aEN1cnZhdDYgPSBfc2xpY2VkVG9BcnJheShfZ2V0Q29udHJvbFdpdGhDdXJ2YXQ1LCAyKSxcbiAgICAgIHNvdXJjZUNvbnRyb2xYID0gX2dldENvbnRyb2xXaXRoQ3VydmF0NlswXSxcbiAgICAgIHNvdXJjZUNvbnRyb2xZID0gX2dldENvbnRyb2xXaXRoQ3VydmF0NlsxXTtcblxuICB2YXIgX2dldENvbnRyb2xXaXRoQ3VydmF0NyA9IGdldENvbnRyb2xXaXRoQ3VydmF0dXJlKHtcbiAgICBwb3M6IHRhcmdldFBvc2l0aW9uLFxuICAgIHgxOiB0YXJnZXRYLFxuICAgIHkxOiB0YXJnZXRZLFxuICAgIHgyOiBzb3VyY2VYLFxuICAgIHkyOiBzb3VyY2VZLFxuICAgIGM6IGN1cnZhdHVyZVxuICB9KSxcbiAgICAgIF9nZXRDb250cm9sV2l0aEN1cnZhdDggPSBfc2xpY2VkVG9BcnJheShfZ2V0Q29udHJvbFdpdGhDdXJ2YXQ3LCAyKSxcbiAgICAgIHRhcmdldENvbnRyb2xYID0gX2dldENvbnRyb2xXaXRoQ3VydmF0OFswXSxcbiAgICAgIHRhcmdldENvbnRyb2xZID0gX2dldENvbnRyb2xXaXRoQ3VydmF0OFsxXTsgLy8gY3ViaWMgYmV6aWVyIHQ9MC41IG1pZCBwb2ludCwgbm90IHRoZSBhY3R1YWwgbWlkIHBvaW50LCBidXQgZWFzeSB0byBjYWxjdWxhdGVcbiAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNjc1MTYxMDEvaG93LXRvLWZpbmQtZGlzdGFuY2UtbWlkLXBvaW50LW9mLWJlemllci1jdXJ2ZVxuXG5cbiAgdmFyIGNlbnRlclggPSBzb3VyY2VYICogMC4xMjUgKyBzb3VyY2VDb250cm9sWCAqIDAuMzc1ICsgdGFyZ2V0Q29udHJvbFggKiAwLjM3NSArIHRhcmdldFggKiAwLjEyNTtcbiAgdmFyIGNlbnRlclkgPSBzb3VyY2VZICogMC4xMjUgKyBzb3VyY2VDb250cm9sWSAqIDAuMzc1ICsgdGFyZ2V0Q29udHJvbFkgKiAwLjM3NSArIHRhcmdldFkgKiAwLjEyNTtcbiAgdmFyIHhPZmZzZXQgPSBNYXRoLmFicyhjZW50ZXJYIC0gc291cmNlWCk7XG4gIHZhciB5T2Zmc2V0ID0gTWF0aC5hYnMoY2VudGVyWSAtIHNvdXJjZVkpO1xuICByZXR1cm4gW2NlbnRlclgsIGNlbnRlclksIHhPZmZzZXQsIHlPZmZzZXRdO1xufVxudmFyIEJlemllckVkZ2UgPSAvKiNfX1BVUkVfXyovbWVtbyhmdW5jdGlvbiAoX3JlZjQpIHtcbiAgdmFyIHNvdXJjZVggPSBfcmVmNC5zb3VyY2VYLFxuICAgICAgc291cmNlWSA9IF9yZWY0LnNvdXJjZVksXG4gICAgICB0YXJnZXRYID0gX3JlZjQudGFyZ2V0WCxcbiAgICAgIHRhcmdldFkgPSBfcmVmNC50YXJnZXRZLFxuICAgICAgX3JlZjQkc291cmNlUG9zaXRpb24gPSBfcmVmNC5zb3VyY2VQb3NpdGlvbixcbiAgICAgIHNvdXJjZVBvc2l0aW9uID0gX3JlZjQkc291cmNlUG9zaXRpb24gPT09IHZvaWQgMCA/IFBvc2l0aW9uLkJvdHRvbSA6IF9yZWY0JHNvdXJjZVBvc2l0aW9uLFxuICAgICAgX3JlZjQkdGFyZ2V0UG9zaXRpb24gPSBfcmVmNC50YXJnZXRQb3NpdGlvbixcbiAgICAgIHRhcmdldFBvc2l0aW9uID0gX3JlZjQkdGFyZ2V0UG9zaXRpb24gPT09IHZvaWQgMCA/IFBvc2l0aW9uLlRvcCA6IF9yZWY0JHRhcmdldFBvc2l0aW9uLFxuICAgICAgbGFiZWwgPSBfcmVmNC5sYWJlbCxcbiAgICAgIGxhYmVsU3R5bGUgPSBfcmVmNC5sYWJlbFN0eWxlLFxuICAgICAgbGFiZWxTaG93QmcgPSBfcmVmNC5sYWJlbFNob3dCZyxcbiAgICAgIGxhYmVsQmdTdHlsZSA9IF9yZWY0LmxhYmVsQmdTdHlsZSxcbiAgICAgIGxhYmVsQmdQYWRkaW5nID0gX3JlZjQubGFiZWxCZ1BhZGRpbmcsXG4gICAgICBsYWJlbEJnQm9yZGVyUmFkaXVzID0gX3JlZjQubGFiZWxCZ0JvcmRlclJhZGl1cyxcbiAgICAgIHN0eWxlID0gX3JlZjQuc3R5bGUsXG4gICAgICBtYXJrZXJFbmQgPSBfcmVmNC5tYXJrZXJFbmQsXG4gICAgICBtYXJrZXJTdGFydCA9IF9yZWY0Lm1hcmtlclN0YXJ0LFxuICAgICAgY3VydmF0dXJlID0gX3JlZjQuY3VydmF0dXJlO1xuICB2YXIgcGFyYW1zID0ge1xuICAgIHNvdXJjZVg6IHNvdXJjZVgsXG4gICAgc291cmNlWTogc291cmNlWSxcbiAgICBzb3VyY2VQb3NpdGlvbjogc291cmNlUG9zaXRpb24sXG4gICAgdGFyZ2V0WDogdGFyZ2V0WCxcbiAgICB0YXJnZXRZOiB0YXJnZXRZLFxuICAgIHRhcmdldFBvc2l0aW9uOiB0YXJnZXRQb3NpdGlvbixcbiAgICBjdXJ2YXR1cmU6IGN1cnZhdHVyZVxuICB9O1xuICB2YXIgcGF0aCA9IGdldEJlemllclBhdGgocGFyYW1zKTtcblxuICB2YXIgX2dldEJlemllckNlbnRlciA9IGdldEJlemllckNlbnRlcihwYXJhbXMpLFxuICAgICAgX2dldEJlemllckNlbnRlcjIgPSBfc2xpY2VkVG9BcnJheShfZ2V0QmV6aWVyQ2VudGVyLCAyKSxcbiAgICAgIGNlbnRlclggPSBfZ2V0QmV6aWVyQ2VudGVyMlswXSxcbiAgICAgIGNlbnRlclkgPSBfZ2V0QmV6aWVyQ2VudGVyMlsxXTtcblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQmFzZUVkZ2UsIHtcbiAgICBwYXRoOiBwYXRoLFxuICAgIGNlbnRlclg6IGNlbnRlclgsXG4gICAgY2VudGVyWTogY2VudGVyWSxcbiAgICBsYWJlbDogbGFiZWwsXG4gICAgbGFiZWxTdHlsZTogbGFiZWxTdHlsZSxcbiAgICBsYWJlbFNob3dCZzogbGFiZWxTaG93QmcsXG4gICAgbGFiZWxCZ1N0eWxlOiBsYWJlbEJnU3R5bGUsXG4gICAgbGFiZWxCZ1BhZGRpbmc6IGxhYmVsQmdQYWRkaW5nLFxuICAgIGxhYmVsQmdCb3JkZXJSYWRpdXM6IGxhYmVsQmdCb3JkZXJSYWRpdXMsXG4gICAgc3R5bGU6IHN0eWxlLFxuICAgIG1hcmtlckVuZDogbWFya2VyRW5kLFxuICAgIG1hcmtlclN0YXJ0OiBtYXJrZXJTdGFydFxuICB9KTtcbn0pO1xuXG52YXIgTm9kZUlkQ29udGV4dCA9IC8qI19fUFVSRV9fKi9jcmVhdGVDb250ZXh0KG51bGwpO1xudmFyIFByb3ZpZGVyID0gTm9kZUlkQ29udGV4dC5Qcm92aWRlcjtcbk5vZGVJZENvbnRleHQuQ29uc3VtZXI7XG5cbmZ1bmN0aW9uIGNoZWNrRWxlbWVudEJlbG93SXNWYWxpZChldmVudCwgY29ubmVjdGlvbk1vZGUsIGlzVGFyZ2V0LCBub2RlSWQsIGhhbmRsZUlkLCBpc1ZhbGlkQ29ubmVjdGlvbiwgZG9jKSB7XG4gIHZhciBlbGVtZW50QmVsb3cgPSBkb2MuZWxlbWVudEZyb21Qb2ludChldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZKTtcbiAgdmFyIGVsZW1lbnRCZWxvd0lzVGFyZ2V0ID0gKGVsZW1lbnRCZWxvdyA9PT0gbnVsbCB8fCBlbGVtZW50QmVsb3cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVsZW1lbnRCZWxvdy5jbGFzc0xpc3QuY29udGFpbnMoJ3RhcmdldCcpKSB8fCBmYWxzZTtcbiAgdmFyIGVsZW1lbnRCZWxvd0lzU291cmNlID0gKGVsZW1lbnRCZWxvdyA9PT0gbnVsbCB8fCBlbGVtZW50QmVsb3cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVsZW1lbnRCZWxvdy5jbGFzc0xpc3QuY29udGFpbnMoJ3NvdXJjZScpKSB8fCBmYWxzZTtcbiAgdmFyIHJlc3VsdCA9IHtcbiAgICBlbGVtZW50QmVsb3c6IGVsZW1lbnRCZWxvdyxcbiAgICBpc1ZhbGlkOiBmYWxzZSxcbiAgICBjb25uZWN0aW9uOiB7XG4gICAgICBzb3VyY2U6IG51bGwsXG4gICAgICB0YXJnZXQ6IG51bGwsXG4gICAgICBzb3VyY2VIYW5kbGU6IG51bGwsXG4gICAgICB0YXJnZXRIYW5kbGU6IG51bGxcbiAgICB9LFxuICAgIGlzSG92ZXJpbmdIYW5kbGU6IGZhbHNlXG4gIH07XG5cbiAgaWYgKGVsZW1lbnRCZWxvdyAmJiAoZWxlbWVudEJlbG93SXNUYXJnZXQgfHwgZWxlbWVudEJlbG93SXNTb3VyY2UpKSB7XG4gICAgcmVzdWx0LmlzSG92ZXJpbmdIYW5kbGUgPSB0cnVlO1xuICAgIHZhciBlbGVtZW50QmVsb3dOb2RlSWQgPSBlbGVtZW50QmVsb3cuZ2V0QXR0cmlidXRlKCdkYXRhLW5vZGVpZCcpO1xuICAgIHZhciBlbGVtZW50QmVsb3dIYW5kbGVJZCA9IGVsZW1lbnRCZWxvdy5nZXRBdHRyaWJ1dGUoJ2RhdGEtaGFuZGxlaWQnKTtcbiAgICB2YXIgY29ubmVjdGlvbiA9IGlzVGFyZ2V0ID8ge1xuICAgICAgc291cmNlOiBlbGVtZW50QmVsb3dOb2RlSWQsXG4gICAgICBzb3VyY2VIYW5kbGU6IGVsZW1lbnRCZWxvd0hhbmRsZUlkLFxuICAgICAgdGFyZ2V0OiBub2RlSWQsXG4gICAgICB0YXJnZXRIYW5kbGU6IGhhbmRsZUlkXG4gICAgfSA6IHtcbiAgICAgIHNvdXJjZTogbm9kZUlkLFxuICAgICAgc291cmNlSGFuZGxlOiBoYW5kbGVJZCxcbiAgICAgIHRhcmdldDogZWxlbWVudEJlbG93Tm9kZUlkLFxuICAgICAgdGFyZ2V0SGFuZGxlOiBlbGVtZW50QmVsb3dIYW5kbGVJZFxuICAgIH07XG4gICAgcmVzdWx0LmNvbm5lY3Rpb24gPSBjb25uZWN0aW9uOyAvLyBpbiBzdHJpY3QgbW9kZSB3ZSBkb24ndCBhbGxvdyB0YXJnZXQgdG8gdGFyZ2V0IG9yIHNvdXJjZSB0byBzb3VyY2UgY29ubmVjdGlvbnNcblxuICAgIHZhciBpc1ZhbGlkID0gY29ubmVjdGlvbk1vZGUgPT09IENvbm5lY3Rpb25Nb2RlLlN0cmljdCA/IGlzVGFyZ2V0ICYmIGVsZW1lbnRCZWxvd0lzU291cmNlIHx8ICFpc1RhcmdldCAmJiBlbGVtZW50QmVsb3dJc1RhcmdldCA6IHRydWU7XG5cbiAgICBpZiAoaXNWYWxpZCkge1xuICAgICAgcmVzdWx0LmlzVmFsaWQgPSBpc1ZhbGlkQ29ubmVjdGlvbihjb25uZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiByZXNldFJlY2VudEhhbmRsZShob3ZlcmVkSGFuZGxlKSB7XG4gIGhvdmVyZWRIYW5kbGUgPT09IG51bGwgfHwgaG92ZXJlZEhhbmRsZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogaG92ZXJlZEhhbmRsZS5jbGFzc0xpc3QucmVtb3ZlKCdyZWFjdC1mbG93X19oYW5kbGUtdmFsaWQnKTtcbiAgaG92ZXJlZEhhbmRsZSA9PT0gbnVsbCB8fCBob3ZlcmVkSGFuZGxlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBob3ZlcmVkSGFuZGxlLmNsYXNzTGlzdC5yZW1vdmUoJ3JlYWN0LWZsb3dfX2hhbmRsZS1jb25uZWN0aW5nJyk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZU1vdXNlRG93bihfcmVmKSB7XG4gIHZhciBldmVudCA9IF9yZWYuZXZlbnQsXG4gICAgICBoYW5kbGVJZCA9IF9yZWYuaGFuZGxlSWQsXG4gICAgICBub2RlSWQgPSBfcmVmLm5vZGVJZCxcbiAgICAgIG9uQ29ubmVjdCA9IF9yZWYub25Db25uZWN0LFxuICAgICAgaXNUYXJnZXQgPSBfcmVmLmlzVGFyZ2V0LFxuICAgICAgZ2V0U3RhdGUgPSBfcmVmLmdldFN0YXRlLFxuICAgICAgc2V0U3RhdGUgPSBfcmVmLnNldFN0YXRlLFxuICAgICAgaXNWYWxpZENvbm5lY3Rpb24gPSBfcmVmLmlzVmFsaWRDb25uZWN0aW9uLFxuICAgICAgZWxlbWVudEVkZ2VVcGRhdGVyVHlwZSA9IF9yZWYuZWxlbWVudEVkZ2VVcGRhdGVyVHlwZSxcbiAgICAgIG9uRWRnZVVwZGF0ZUVuZCA9IF9yZWYub25FZGdlVXBkYXRlRW5kO1xuICB2YXIgcmVhY3RGbG93Tm9kZSA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCcucmVhY3QtZmxvdycpOyAvLyB3aGVuIHJlYWN0LWZsb3cgaXMgdXNlZCBpbnNpZGUgYSBzaGFkb3cgcm9vdCB3ZSBjYW4ndCB1c2UgZG9jdW1lbnRcblxuICB2YXIgZG9jID0gZ2V0SG9zdEZvckVsZW1lbnQoZXZlbnQudGFyZ2V0KTtcblxuICBpZiAoIWRvYykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBlbGVtZW50QmVsb3cgPSBkb2MuZWxlbWVudEZyb21Qb2ludChldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZKTtcbiAgdmFyIGVsZW1lbnRCZWxvd0lzVGFyZ2V0ID0gZWxlbWVudEJlbG93ID09PSBudWxsIHx8IGVsZW1lbnRCZWxvdyA9PT0gdm9pZCAwID8gdm9pZCAwIDogZWxlbWVudEJlbG93LmNsYXNzTGlzdC5jb250YWlucygndGFyZ2V0Jyk7XG4gIHZhciBlbGVtZW50QmVsb3dJc1NvdXJjZSA9IGVsZW1lbnRCZWxvdyA9PT0gbnVsbCB8fCBlbGVtZW50QmVsb3cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVsZW1lbnRCZWxvdy5jbGFzc0xpc3QuY29udGFpbnMoJ3NvdXJjZScpO1xuXG4gIGlmICghcmVhY3RGbG93Tm9kZSB8fCAhZWxlbWVudEJlbG93SXNUYXJnZXQgJiYgIWVsZW1lbnRCZWxvd0lzU291cmNlICYmICFlbGVtZW50RWRnZVVwZGF0ZXJUeXBlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIF9nZXRTdGF0ZSA9IGdldFN0YXRlKCksXG4gICAgICBvbkNvbm5lY3RTdGFydCA9IF9nZXRTdGF0ZS5vbkNvbm5lY3RTdGFydCxcbiAgICAgIGNvbm5lY3Rpb25Nb2RlID0gX2dldFN0YXRlLmNvbm5lY3Rpb25Nb2RlO1xuXG4gIHZhciBoYW5kbGVUeXBlID0gZWxlbWVudEVkZ2VVcGRhdGVyVHlwZSA/IGVsZW1lbnRFZGdlVXBkYXRlclR5cGUgOiBlbGVtZW50QmVsb3dJc1RhcmdldCA/ICd0YXJnZXQnIDogJ3NvdXJjZSc7XG4gIHZhciBjb250YWluZXJCb3VuZHMgPSByZWFjdEZsb3dOb2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICB2YXIgcmVjZW50SG92ZXJlZEhhbmRsZTtcbiAgc2V0U3RhdGUoe1xuICAgIGNvbm5lY3Rpb25Qb3NpdGlvbjoge1xuICAgICAgeDogZXZlbnQuY2xpZW50WCAtIGNvbnRhaW5lckJvdW5kcy5sZWZ0LFxuICAgICAgeTogZXZlbnQuY2xpZW50WSAtIGNvbnRhaW5lckJvdW5kcy50b3BcbiAgICB9LFxuICAgIGNvbm5lY3Rpb25Ob2RlSWQ6IG5vZGVJZCxcbiAgICBjb25uZWN0aW9uSGFuZGxlSWQ6IGhhbmRsZUlkLFxuICAgIGNvbm5lY3Rpb25IYW5kbGVUeXBlOiBoYW5kbGVUeXBlXG4gIH0pO1xuICBvbkNvbm5lY3RTdGFydCA9PT0gbnVsbCB8fCBvbkNvbm5lY3RTdGFydCA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25Db25uZWN0U3RhcnQoZXZlbnQsIHtcbiAgICBub2RlSWQ6IG5vZGVJZCxcbiAgICBoYW5kbGVJZDogaGFuZGxlSWQsXG4gICAgaGFuZGxlVHlwZTogaGFuZGxlVHlwZVxuICB9KTtcblxuICBmdW5jdGlvbiBvbk1vdXNlTW92ZShldmVudCkge1xuICAgIHNldFN0YXRlKHtcbiAgICAgIGNvbm5lY3Rpb25Qb3NpdGlvbjoge1xuICAgICAgICB4OiBldmVudC5jbGllbnRYIC0gY29udGFpbmVyQm91bmRzLmxlZnQsXG4gICAgICAgIHk6IGV2ZW50LmNsaWVudFkgLSBjb250YWluZXJCb3VuZHMudG9wXG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgX2NoZWNrRWxlbWVudEJlbG93SXNWID0gY2hlY2tFbGVtZW50QmVsb3dJc1ZhbGlkKGV2ZW50LCBjb25uZWN0aW9uTW9kZSwgaXNUYXJnZXQsIG5vZGVJZCwgaGFuZGxlSWQsIGlzVmFsaWRDb25uZWN0aW9uLCBkb2MpLFxuICAgICAgICBjb25uZWN0aW9uID0gX2NoZWNrRWxlbWVudEJlbG93SXNWLmNvbm5lY3Rpb24sXG4gICAgICAgIGVsZW1lbnRCZWxvdyA9IF9jaGVja0VsZW1lbnRCZWxvd0lzVi5lbGVtZW50QmVsb3csXG4gICAgICAgIGlzVmFsaWQgPSBfY2hlY2tFbGVtZW50QmVsb3dJc1YuaXNWYWxpZCxcbiAgICAgICAgaXNIb3ZlcmluZ0hhbmRsZSA9IF9jaGVja0VsZW1lbnRCZWxvd0lzVi5pc0hvdmVyaW5nSGFuZGxlO1xuXG4gICAgaWYgKCFpc0hvdmVyaW5nSGFuZGxlKSB7XG4gICAgICByZXR1cm4gcmVzZXRSZWNlbnRIYW5kbGUocmVjZW50SG92ZXJlZEhhbmRsZSk7XG4gICAgfVxuXG4gICAgaWYgKGNvbm5lY3Rpb24uc291cmNlICE9PSBjb25uZWN0aW9uLnRhcmdldCAmJiBlbGVtZW50QmVsb3cpIHtcbiAgICAgIHJlc2V0UmVjZW50SGFuZGxlKHJlY2VudEhvdmVyZWRIYW5kbGUpO1xuICAgICAgcmVjZW50SG92ZXJlZEhhbmRsZSA9IGVsZW1lbnRCZWxvdztcbiAgICAgIGVsZW1lbnRCZWxvdy5jbGFzc0xpc3QuYWRkKCdyZWFjdC1mbG93X19oYW5kbGUtY29ubmVjdGluZycpO1xuICAgICAgZWxlbWVudEJlbG93LmNsYXNzTGlzdC50b2dnbGUoJ3JlYWN0LWZsb3dfX2hhbmRsZS12YWxpZCcsIGlzVmFsaWQpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uTW91c2VVcChldmVudCkge1xuICAgIHZhciBfZ2V0U3RhdGUyID0gZ2V0U3RhdGUoKSxcbiAgICAgICAgb25Db25uZWN0U3RvcCA9IF9nZXRTdGF0ZTIub25Db25uZWN0U3RvcCxcbiAgICAgICAgb25Db25uZWN0RW5kID0gX2dldFN0YXRlMi5vbkNvbm5lY3RFbmQ7XG5cbiAgICB2YXIgX2NoZWNrRWxlbWVudEJlbG93SXNWMiA9IGNoZWNrRWxlbWVudEJlbG93SXNWYWxpZChldmVudCwgY29ubmVjdGlvbk1vZGUsIGlzVGFyZ2V0LCBub2RlSWQsIGhhbmRsZUlkLCBpc1ZhbGlkQ29ubmVjdGlvbiwgZG9jKSxcbiAgICAgICAgY29ubmVjdGlvbiA9IF9jaGVja0VsZW1lbnRCZWxvd0lzVjIuY29ubmVjdGlvbixcbiAgICAgICAgaXNWYWxpZCA9IF9jaGVja0VsZW1lbnRCZWxvd0lzVjIuaXNWYWxpZDtcblxuICAgIG9uQ29ubmVjdFN0b3AgPT09IG51bGwgfHwgb25Db25uZWN0U3RvcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25Db25uZWN0U3RvcChldmVudCk7XG5cbiAgICBpZiAoaXNWYWxpZCkge1xuICAgICAgb25Db25uZWN0ID09PSBudWxsIHx8IG9uQ29ubmVjdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25Db25uZWN0KGNvbm5lY3Rpb24pO1xuICAgIH1cblxuICAgIG9uQ29ubmVjdEVuZCA9PT0gbnVsbCB8fCBvbkNvbm5lY3RFbmQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uQ29ubmVjdEVuZChldmVudCk7XG5cbiAgICBpZiAoZWxlbWVudEVkZ2VVcGRhdGVyVHlwZSAmJiBvbkVkZ2VVcGRhdGVFbmQpIHtcbiAgICAgIG9uRWRnZVVwZGF0ZUVuZChldmVudCk7XG4gICAgfVxuXG4gICAgcmVzZXRSZWNlbnRIYW5kbGUocmVjZW50SG92ZXJlZEhhbmRsZSk7XG4gICAgc2V0U3RhdGUoe1xuICAgICAgY29ubmVjdGlvbk5vZGVJZDogbnVsbCxcbiAgICAgIGNvbm5lY3Rpb25IYW5kbGVJZDogbnVsbCxcbiAgICAgIGNvbm5lY3Rpb25IYW5kbGVUeXBlOiBudWxsXG4gICAgfSk7XG4gICAgZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uTW91c2VNb3ZlKTtcbiAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2VVcCk7XG4gIH1cblxuICBkb2MuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Nb3VzZU1vdmUpO1xuICBkb2MuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2VVcCk7XG59XG5cbnZhciBfZXhjbHVkZWQkMSA9IFtcInR5cGVcIiwgXCJwb3NpdGlvblwiLCBcImlzVmFsaWRDb25uZWN0aW9uXCIsIFwiaXNDb25uZWN0YWJsZVwiLCBcImlkXCIsIFwib25Db25uZWN0XCIsIFwiY2hpbGRyZW5cIiwgXCJjbGFzc05hbWVcIiwgXCJvbk1vdXNlRG93blwiXTtcblxuZnVuY3Rpb24gb3duS2V5cyQ5KG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgZW51bWVyYWJsZU9ubHkgJiYgKHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KSksIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkJDkodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBudWxsICE9IGFyZ3VtZW50c1tpXSA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpICUgMiA/IG93bktleXMkOShPYmplY3Qoc291cmNlKSwgITApLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSkgOiBvd25LZXlzJDkoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfVxuXG52YXIgYWx3YXlzVmFsaWQgPSBmdW5jdGlvbiBhbHdheXNWYWxpZCgpIHtcbiAgcmV0dXJuIHRydWU7XG59O1xuXG52YXIgc2VsZWN0b3IkYSA9IGZ1bmN0aW9uIHNlbGVjdG9yKHMpIHtcbiAgcmV0dXJuIHtcbiAgICBjb25uZWN0aW9uU3RhcnRIYW5kbGU6IHMuY29ubmVjdGlvblN0YXJ0SGFuZGxlLFxuICAgIGNvbm5lY3RPbkNsaWNrOiBzLmNvbm5lY3RPbkNsaWNrXG4gIH07XG59O1xuXG52YXIgSGFuZGxlID0gLyojX19QVVJFX18qL2ZvcndhcmRSZWYoZnVuY3Rpb24gKF9yZWYsIHJlZikge1xuICB2YXIgX3JlZiR0eXBlID0gX3JlZi50eXBlLFxuICAgICAgdHlwZSA9IF9yZWYkdHlwZSA9PT0gdm9pZCAwID8gJ3NvdXJjZScgOiBfcmVmJHR5cGUsXG4gICAgICBfcmVmJHBvc2l0aW9uID0gX3JlZi5wb3NpdGlvbixcbiAgICAgIHBvc2l0aW9uID0gX3JlZiRwb3NpdGlvbiA9PT0gdm9pZCAwID8gUG9zaXRpb24uVG9wIDogX3JlZiRwb3NpdGlvbixcbiAgICAgIF9yZWYkaXNWYWxpZENvbm5lY3RpbyA9IF9yZWYuaXNWYWxpZENvbm5lY3Rpb24sXG4gICAgICBpc1ZhbGlkQ29ubmVjdGlvbiA9IF9yZWYkaXNWYWxpZENvbm5lY3RpbyA9PT0gdm9pZCAwID8gYWx3YXlzVmFsaWQgOiBfcmVmJGlzVmFsaWRDb25uZWN0aW8sXG4gICAgICBfcmVmJGlzQ29ubmVjdGFibGUgPSBfcmVmLmlzQ29ubmVjdGFibGUsXG4gICAgICBpc0Nvbm5lY3RhYmxlID0gX3JlZiRpc0Nvbm5lY3RhYmxlID09PSB2b2lkIDAgPyB0cnVlIDogX3JlZiRpc0Nvbm5lY3RhYmxlLFxuICAgICAgaWQgPSBfcmVmLmlkLFxuICAgICAgb25Db25uZWN0ID0gX3JlZi5vbkNvbm5lY3QsXG4gICAgICBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW4sXG4gICAgICBjbGFzc05hbWUgPSBfcmVmLmNsYXNzTmFtZSxcbiAgICAgIG9uTW91c2VEb3duID0gX3JlZi5vbk1vdXNlRG93bixcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZiwgX2V4Y2x1ZGVkJDEpO1xuXG4gIHZhciBzdG9yZSA9IHVzZVN0b3JlQXBpKCk7XG4gIHZhciBub2RlSWQgPSB1c2VDb250ZXh0KE5vZGVJZENvbnRleHQpO1xuXG4gIHZhciBfdXNlU3RvcmUgPSB1c2VTdG9yZShzZWxlY3RvciRhLCBzaGFsbG93KSxcbiAgICAgIGNvbm5lY3Rpb25TdGFydEhhbmRsZSA9IF91c2VTdG9yZS5jb25uZWN0aW9uU3RhcnRIYW5kbGUsXG4gICAgICBjb25uZWN0T25DbGljayA9IF91c2VTdG9yZS5jb25uZWN0T25DbGljaztcblxuICB2YXIgaGFuZGxlSWQgPSBpZCB8fCBudWxsO1xuICB2YXIgaXNUYXJnZXQgPSB0eXBlID09PSAndGFyZ2V0JztcblxuICB2YXIgb25Db25uZWN0RXh0ZW5kZWQgPSBmdW5jdGlvbiBvbkNvbm5lY3RFeHRlbmRlZChwYXJhbXMpIHtcbiAgICB2YXIgX3N0b3JlJGdldFN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKSxcbiAgICAgICAgZGVmYXVsdEVkZ2VPcHRpb25zID0gX3N0b3JlJGdldFN0YXRlLmRlZmF1bHRFZGdlT3B0aW9ucyxcbiAgICAgICAgb25Db25uZWN0QWN0aW9uID0gX3N0b3JlJGdldFN0YXRlLm9uQ29ubmVjdCxcbiAgICAgICAgaGFzRGVmYXVsdEVkZ2VzID0gX3N0b3JlJGdldFN0YXRlLmhhc0RlZmF1bHRFZGdlcztcblxuICAgIHZhciBlZGdlUGFyYW1zID0gX29iamVjdFNwcmVhZCQ5KF9vYmplY3RTcHJlYWQkOSh7fSwgZGVmYXVsdEVkZ2VPcHRpb25zKSwgcGFyYW1zKTtcblxuICAgIGlmIChoYXNEZWZhdWx0RWRnZXMpIHtcbiAgICAgIHZhciBfc3RvcmUkZ2V0U3RhdGUyID0gc3RvcmUuZ2V0U3RhdGUoKSxcbiAgICAgICAgICBlZGdlcyA9IF9zdG9yZSRnZXRTdGF0ZTIuZWRnZXM7XG5cbiAgICAgIHN0b3JlLnNldFN0YXRlKHtcbiAgICAgICAgZWRnZXM6IGFkZEVkZ2UoZWRnZVBhcmFtcywgZWRnZXMpXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBvbkNvbm5lY3RBY3Rpb24gPT09IG51bGwgfHwgb25Db25uZWN0QWN0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbkNvbm5lY3RBY3Rpb24oZWRnZVBhcmFtcyk7XG4gICAgb25Db25uZWN0ID09PSBudWxsIHx8IG9uQ29ubmVjdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25Db25uZWN0KGVkZ2VQYXJhbXMpO1xuICB9O1xuXG4gIHZhciBvbk1vdXNlRG93bkhhbmRsZXIgPSBmdW5jdGlvbiBvbk1vdXNlRG93bkhhbmRsZXIoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQuYnV0dG9uID09PSAwKSB7XG4gICAgICBoYW5kbGVNb3VzZURvd24oe1xuICAgICAgICBldmVudDogZXZlbnQsXG4gICAgICAgIGhhbmRsZUlkOiBoYW5kbGVJZCxcbiAgICAgICAgbm9kZUlkOiBub2RlSWQsXG4gICAgICAgIG9uQ29ubmVjdDogb25Db25uZWN0RXh0ZW5kZWQsXG4gICAgICAgIGlzVGFyZ2V0OiBpc1RhcmdldCxcbiAgICAgICAgZ2V0U3RhdGU6IHN0b3JlLmdldFN0YXRlLFxuICAgICAgICBzZXRTdGF0ZTogc3RvcmUuc2V0U3RhdGUsXG4gICAgICAgIGlzVmFsaWRDb25uZWN0aW9uOiBpc1ZhbGlkQ29ubmVjdGlvblxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgb25Nb3VzZURvd24gPT09IG51bGwgfHwgb25Nb3VzZURvd24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uTW91c2VEb3duKGV2ZW50KTtcbiAgfTtcblxuICB2YXIgb25DbGljayA9IGZ1bmN0aW9uIG9uQ2xpY2soZXZlbnQpIHtcbiAgICB2YXIgX3N0b3JlJGdldFN0YXRlMyA9IHN0b3JlLmdldFN0YXRlKCksXG4gICAgICAgIG9uQ2xpY2tDb25uZWN0U3RhcnQgPSBfc3RvcmUkZ2V0U3RhdGUzLm9uQ2xpY2tDb25uZWN0U3RhcnQsXG4gICAgICAgIG9uQ2xpY2tDb25uZWN0U3RvcCA9IF9zdG9yZSRnZXRTdGF0ZTMub25DbGlja0Nvbm5lY3RTdG9wLFxuICAgICAgICBvbkNsaWNrQ29ubmVjdEVuZCA9IF9zdG9yZSRnZXRTdGF0ZTMub25DbGlja0Nvbm5lY3RFbmQsXG4gICAgICAgIGNvbm5lY3Rpb25Nb2RlID0gX3N0b3JlJGdldFN0YXRlMy5jb25uZWN0aW9uTW9kZTtcblxuICAgIGlmICghY29ubmVjdGlvblN0YXJ0SGFuZGxlKSB7XG4gICAgICBvbkNsaWNrQ29ubmVjdFN0YXJ0ID09PSBudWxsIHx8IG9uQ2xpY2tDb25uZWN0U3RhcnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uQ2xpY2tDb25uZWN0U3RhcnQoZXZlbnQsIHtcbiAgICAgICAgbm9kZUlkOiBub2RlSWQsXG4gICAgICAgIGhhbmRsZUlkOiBoYW5kbGVJZCxcbiAgICAgICAgaGFuZGxlVHlwZTogdHlwZVxuICAgICAgfSk7XG4gICAgICBzdG9yZS5zZXRTdGF0ZSh7XG4gICAgICAgIGNvbm5lY3Rpb25TdGFydEhhbmRsZToge1xuICAgICAgICAgIG5vZGVJZDogbm9kZUlkLFxuICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgaGFuZGxlSWQ6IGhhbmRsZUlkXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBkb2MgPSBnZXRIb3N0Rm9yRWxlbWVudChldmVudC50YXJnZXQpO1xuXG4gICAgdmFyIF9jaGVja0VsZW1lbnRCZWxvd0lzViA9IGNoZWNrRWxlbWVudEJlbG93SXNWYWxpZChldmVudCwgY29ubmVjdGlvbk1vZGUsIGNvbm5lY3Rpb25TdGFydEhhbmRsZS50eXBlID09PSAndGFyZ2V0JywgY29ubmVjdGlvblN0YXJ0SGFuZGxlLm5vZGVJZCwgY29ubmVjdGlvblN0YXJ0SGFuZGxlLmhhbmRsZUlkIHx8IG51bGwsIGlzVmFsaWRDb25uZWN0aW9uLCBkb2MpLFxuICAgICAgICBjb25uZWN0aW9uID0gX2NoZWNrRWxlbWVudEJlbG93SXNWLmNvbm5lY3Rpb24sXG4gICAgICAgIGlzVmFsaWQgPSBfY2hlY2tFbGVtZW50QmVsb3dJc1YuaXNWYWxpZDtcblxuICAgIG9uQ2xpY2tDb25uZWN0U3RvcCA9PT0gbnVsbCB8fCBvbkNsaWNrQ29ubmVjdFN0b3AgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uQ2xpY2tDb25uZWN0U3RvcChldmVudCk7XG5cbiAgICBpZiAoaXNWYWxpZCkge1xuICAgICAgb25Db25uZWN0RXh0ZW5kZWQoY29ubmVjdGlvbik7XG4gICAgfVxuXG4gICAgb25DbGlja0Nvbm5lY3RFbmQgPT09IG51bGwgfHwgb25DbGlja0Nvbm5lY3RFbmQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uQ2xpY2tDb25uZWN0RW5kKGV2ZW50KTtcbiAgICBzdG9yZS5zZXRTdGF0ZSh7XG4gICAgICBjb25uZWN0aW9uU3RhcnRIYW5kbGU6IG51bGxcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX29iamVjdFNwcmVhZCQ5KHtcbiAgICBcImRhdGEtaGFuZGxlaWRcIjogaGFuZGxlSWQsXG4gICAgXCJkYXRhLW5vZGVpZFwiOiBub2RlSWQsXG4gICAgXCJkYXRhLWhhbmRsZXBvc1wiOiBwb3NpdGlvbixcbiAgICBjbGFzc05hbWU6IGNjKFsncmVhY3QtZmxvd19faGFuZGxlJywgXCJyZWFjdC1mbG93X19oYW5kbGUtXCIuY29uY2F0KHBvc2l0aW9uKSwgJ25vZHJhZycsIGNsYXNzTmFtZSwge1xuICAgICAgc291cmNlOiAhaXNUYXJnZXQsXG4gICAgICB0YXJnZXQ6IGlzVGFyZ2V0LFxuICAgICAgY29ubmVjdGFibGU6IGlzQ29ubmVjdGFibGUsXG4gICAgICBjb25uZWN0aW5nOiAoY29ubmVjdGlvblN0YXJ0SGFuZGxlID09PSBudWxsIHx8IGNvbm5lY3Rpb25TdGFydEhhbmRsZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29ubmVjdGlvblN0YXJ0SGFuZGxlLm5vZGVJZCkgPT09IG5vZGVJZCAmJiAoY29ubmVjdGlvblN0YXJ0SGFuZGxlID09PSBudWxsIHx8IGNvbm5lY3Rpb25TdGFydEhhbmRsZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29ubmVjdGlvblN0YXJ0SGFuZGxlLmhhbmRsZUlkKSA9PT0gaGFuZGxlSWQgJiYgKGNvbm5lY3Rpb25TdGFydEhhbmRsZSA9PT0gbnVsbCB8fCBjb25uZWN0aW9uU3RhcnRIYW5kbGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbm5lY3Rpb25TdGFydEhhbmRsZS50eXBlKSA9PT0gdHlwZVxuICAgIH1dKSxcbiAgICBvbk1vdXNlRG93bjogb25Nb3VzZURvd25IYW5kbGVyLFxuICAgIG9uQ2xpY2s6IGNvbm5lY3RPbkNsaWNrID8gb25DbGljayA6IHVuZGVmaW5lZCxcbiAgICByZWY6IHJlZlxuICB9LCByZXN0KSwgY2hpbGRyZW4pO1xufSk7XG5IYW5kbGUuZGlzcGxheU5hbWUgPSAnSGFuZGxlJztcbnZhciBIYW5kbGUkMSA9IC8qI19fUFVSRV9fKi9tZW1vKEhhbmRsZSk7XG5cbnZhciBEZWZhdWx0Tm9kZSA9IGZ1bmN0aW9uIERlZmF1bHROb2RlKF9yZWYpIHtcbiAgdmFyIGRhdGEgPSBfcmVmLmRhdGEsXG4gICAgICBpc0Nvbm5lY3RhYmxlID0gX3JlZi5pc0Nvbm5lY3RhYmxlLFxuICAgICAgX3JlZiR0YXJnZXRQb3NpdGlvbiA9IF9yZWYudGFyZ2V0UG9zaXRpb24sXG4gICAgICB0YXJnZXRQb3NpdGlvbiA9IF9yZWYkdGFyZ2V0UG9zaXRpb24gPT09IHZvaWQgMCA/IFBvc2l0aW9uLlRvcCA6IF9yZWYkdGFyZ2V0UG9zaXRpb24sXG4gICAgICBfcmVmJHNvdXJjZVBvc2l0aW9uID0gX3JlZi5zb3VyY2VQb3NpdGlvbixcbiAgICAgIHNvdXJjZVBvc2l0aW9uID0gX3JlZiRzb3VyY2VQb3NpdGlvbiA9PT0gdm9pZCAwID8gUG9zaXRpb24uQm90dG9tIDogX3JlZiRzb3VyY2VQb3NpdGlvbjtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChIYW5kbGUkMSwge1xuICAgIHR5cGU6IFwidGFyZ2V0XCIsXG4gICAgcG9zaXRpb246IHRhcmdldFBvc2l0aW9uLFxuICAgIGlzQ29ubmVjdGFibGU6IGlzQ29ubmVjdGFibGVcbiAgfSksIGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YS5sYWJlbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoSGFuZGxlJDEsIHtcbiAgICB0eXBlOiBcInNvdXJjZVwiLFxuICAgIHBvc2l0aW9uOiBzb3VyY2VQb3NpdGlvbixcbiAgICBpc0Nvbm5lY3RhYmxlOiBpc0Nvbm5lY3RhYmxlXG4gIH0pKTtcbn07XG5cbkRlZmF1bHROb2RlLmRpc3BsYXlOYW1lID0gJ0RlZmF1bHROb2RlJztcbnZhciBEZWZhdWx0Tm9kZSQxID0gLyojX19QVVJFX18qL21lbW8oRGVmYXVsdE5vZGUpO1xuXG52YXIgSW5wdXROb2RlID0gZnVuY3Rpb24gSW5wdXROb2RlKF9yZWYpIHtcbiAgdmFyIGRhdGEgPSBfcmVmLmRhdGEsXG4gICAgICBpc0Nvbm5lY3RhYmxlID0gX3JlZi5pc0Nvbm5lY3RhYmxlLFxuICAgICAgX3JlZiRzb3VyY2VQb3NpdGlvbiA9IF9yZWYuc291cmNlUG9zaXRpb24sXG4gICAgICBzb3VyY2VQb3NpdGlvbiA9IF9yZWYkc291cmNlUG9zaXRpb24gPT09IHZvaWQgMCA/IFBvc2l0aW9uLkJvdHRvbSA6IF9yZWYkc291cmNlUG9zaXRpb247XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgZGF0YSA9PT0gbnVsbCB8fCBkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkYXRhLmxhYmVsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChIYW5kbGUkMSwge1xuICAgIHR5cGU6IFwic291cmNlXCIsXG4gICAgcG9zaXRpb246IHNvdXJjZVBvc2l0aW9uLFxuICAgIGlzQ29ubmVjdGFibGU6IGlzQ29ubmVjdGFibGVcbiAgfSkpO1xufTtcblxuSW5wdXROb2RlLmRpc3BsYXlOYW1lID0gJ0lucHV0Tm9kZSc7XG52YXIgSW5wdXROb2RlJDEgPSAvKiNfX1BVUkVfXyovbWVtbyhJbnB1dE5vZGUpO1xuXG52YXIgT3V0cHV0Tm9kZSA9IGZ1bmN0aW9uIE91dHB1dE5vZGUoX3JlZikge1xuICB2YXIgZGF0YSA9IF9yZWYuZGF0YSxcbiAgICAgIGlzQ29ubmVjdGFibGUgPSBfcmVmLmlzQ29ubmVjdGFibGUsXG4gICAgICBfcmVmJHRhcmdldFBvc2l0aW9uID0gX3JlZi50YXJnZXRQb3NpdGlvbixcbiAgICAgIHRhcmdldFBvc2l0aW9uID0gX3JlZiR0YXJnZXRQb3NpdGlvbiA9PT0gdm9pZCAwID8gUG9zaXRpb24uVG9wIDogX3JlZiR0YXJnZXRQb3NpdGlvbjtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChIYW5kbGUkMSwge1xuICAgIHR5cGU6IFwidGFyZ2V0XCIsXG4gICAgcG9zaXRpb246IHRhcmdldFBvc2l0aW9uLFxuICAgIGlzQ29ubmVjdGFibGU6IGlzQ29ubmVjdGFibGVcbiAgfSksIGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YS5sYWJlbCk7XG59O1xuXG5PdXRwdXROb2RlLmRpc3BsYXlOYW1lID0gJ091dHB1dE5vZGUnO1xudmFyIE91dHB1dE5vZGUkMSA9IC8qI19fUFVSRV9fKi9tZW1vKE91dHB1dE5vZGUpO1xuXG52YXIgc2VsZWN0b3IkOSA9IGZ1bmN0aW9uIHNlbGVjdG9yKHMpIHtcbiAgcmV0dXJuIHtcbiAgICBzZWxlY3RlZE5vZGVzOiBBcnJheS5mcm9tKHMubm9kZUludGVybmFscy52YWx1ZXMoKSkuZmlsdGVyKGZ1bmN0aW9uIChuKSB7XG4gICAgICByZXR1cm4gbi5zZWxlY3RlZDtcbiAgICB9KSxcbiAgICBzZWxlY3RlZEVkZ2VzOiBzLmVkZ2VzLmZpbHRlcihmdW5jdGlvbiAoZSkge1xuICAgICAgcmV0dXJuIGUuc2VsZWN0ZWQ7XG4gICAgfSlcbiAgfTtcbn07XG5cbnZhciBhcmVFcXVhbCA9IGZ1bmN0aW9uIGFyZUVxdWFsKG9iakEsIG9iakIpIHtcbiAgdmFyIHNlbGVjdGVkTm9kZUlkc0EgPSBvYmpBLnNlbGVjdGVkTm9kZXMubWFwKGZ1bmN0aW9uIChuKSB7XG4gICAgcmV0dXJuIG4uaWQ7XG4gIH0pO1xuICB2YXIgc2VsZWN0ZWROb2RlSWRzQiA9IG9iakIuc2VsZWN0ZWROb2Rlcy5tYXAoZnVuY3Rpb24gKG4pIHtcbiAgICByZXR1cm4gbi5pZDtcbiAgfSk7XG4gIHZhciBzZWxlY3RlZEVkZ2VJZHNBID0gb2JqQS5zZWxlY3RlZEVkZ2VzLm1hcChmdW5jdGlvbiAoZSkge1xuICAgIHJldHVybiBlLmlkO1xuICB9KTtcbiAgdmFyIHNlbGVjdGVkRWRnZUlkc0IgPSBvYmpCLnNlbGVjdGVkRWRnZXMubWFwKGZ1bmN0aW9uIChlKSB7XG4gICAgcmV0dXJuIGUuaWQ7XG4gIH0pO1xuICByZXR1cm4gc2hhbGxvdyhzZWxlY3RlZE5vZGVJZHNBLCBzZWxlY3RlZE5vZGVJZHNCKSAmJiBzaGFsbG93KHNlbGVjdGVkRWRnZUlkc0EsIHNlbGVjdGVkRWRnZUlkc0IpO1xufTsgLy8gVGhpcyBpcyBqdXN0IGEgaGVscGVyIGNvbXBvbmVudCBmb3IgY2FsbGluZyB0aGUgb25TZWxlY3Rpb25DaGFuZ2UgbGlzdGVuZXIuXG4vLyBAVE9ETzogTm93IHRoYXQgd2UgaGF2ZSB0aGUgb25Ob2Rlc0NoYW5nZSBhbmQgb24gRWRnZXNDaGFuZ2UgbGlzdGVuZXJzLCBkbyB3ZSBzdGlsbCBuZWVkIHRoaXMgY29tcG9uZW50P1xuXG5cbmZ1bmN0aW9uIFNlbGVjdGlvbkxpc3RlbmVyKF9yZWYpIHtcbiAgdmFyIG9uU2VsZWN0aW9uQ2hhbmdlID0gX3JlZi5vblNlbGVjdGlvbkNoYW5nZTtcblxuICB2YXIgX3VzZVN0b3JlID0gdXNlU3RvcmUoc2VsZWN0b3IkOSwgYXJlRXF1YWwpLFxuICAgICAgc2VsZWN0ZWROb2RlcyA9IF91c2VTdG9yZS5zZWxlY3RlZE5vZGVzLFxuICAgICAgc2VsZWN0ZWRFZGdlcyA9IF91c2VTdG9yZS5zZWxlY3RlZEVkZ2VzO1xuXG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgb25TZWxlY3Rpb25DaGFuZ2Uoe1xuICAgICAgbm9kZXM6IHNlbGVjdGVkTm9kZXMsXG4gICAgICBlZGdlczogc2VsZWN0ZWRFZGdlc1xuICAgIH0pO1xuICB9LCBbc2VsZWN0ZWROb2Rlcywgc2VsZWN0ZWRFZGdlc10pO1xuICByZXR1cm4gbnVsbDtcbn1cblxudmFyIFNlbGVjdGlvbkxpc3RlbmVyJDEgPSAvKiNfX1BVUkVfXyovbWVtbyhTZWxlY3Rpb25MaXN0ZW5lcik7XG5cbnZhciBzZWxlY3RvciQ4ID0gZnVuY3Rpb24gc2VsZWN0b3Iocykge1xuICByZXR1cm4ge1xuICAgIHNldE5vZGVzOiBzLnNldE5vZGVzLFxuICAgIHNldEVkZ2VzOiBzLnNldEVkZ2VzLFxuICAgIHNldERlZmF1bHROb2Rlc0FuZEVkZ2VzOiBzLnNldERlZmF1bHROb2Rlc0FuZEVkZ2VzLFxuICAgIHNldE1pblpvb206IHMuc2V0TWluWm9vbSxcbiAgICBzZXRNYXhab29tOiBzLnNldE1heFpvb20sXG4gICAgc2V0VHJhbnNsYXRlRXh0ZW50OiBzLnNldFRyYW5zbGF0ZUV4dGVudCxcbiAgICBzZXROb2RlRXh0ZW50OiBzLnNldE5vZGVFeHRlbnQsXG4gICAgcmVzZXQ6IHMucmVzZXRcbiAgfTtcbn07XG5cbmZ1bmN0aW9uIHVzZVN0b3JlVXBkYXRlcih2YWx1ZSwgc2V0U3RvcmVTdGF0ZSkge1xuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBzZXRTdG9yZVN0YXRlKHZhbHVlKTtcbiAgICB9XG4gIH0sIFt2YWx1ZV0pO1xufVxuXG5mdW5jdGlvbiB1c2VEaXJlY3RTdG9yZVVwZGF0ZXIoa2V5LCB2YWx1ZSwgc2V0U3RhdGUpIHtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgc2V0U3RhdGUoX2RlZmluZVByb3BlcnR5KHt9LCBrZXksIHZhbHVlKSk7XG4gICAgfVxuICB9LCBbdmFsdWVdKTtcbn1cblxudmFyIFN0b3JlVXBkYXRlciA9IGZ1bmN0aW9uIFN0b3JlVXBkYXRlcihfcmVmKSB7XG4gIHZhciBub2RlcyA9IF9yZWYubm9kZXMsXG4gICAgICBlZGdlcyA9IF9yZWYuZWRnZXMsXG4gICAgICBkZWZhdWx0Tm9kZXMgPSBfcmVmLmRlZmF1bHROb2RlcyxcbiAgICAgIGRlZmF1bHRFZGdlcyA9IF9yZWYuZGVmYXVsdEVkZ2VzLFxuICAgICAgb25Db25uZWN0ID0gX3JlZi5vbkNvbm5lY3QsXG4gICAgICBvbkNvbm5lY3RTdGFydCA9IF9yZWYub25Db25uZWN0U3RhcnQsXG4gICAgICBvbkNvbm5lY3RTdG9wID0gX3JlZi5vbkNvbm5lY3RTdG9wLFxuICAgICAgb25Db25uZWN0RW5kID0gX3JlZi5vbkNvbm5lY3RFbmQsXG4gICAgICBvbkNsaWNrQ29ubmVjdFN0YXJ0ID0gX3JlZi5vbkNsaWNrQ29ubmVjdFN0YXJ0LFxuICAgICAgb25DbGlja0Nvbm5lY3RTdG9wID0gX3JlZi5vbkNsaWNrQ29ubmVjdFN0b3AsXG4gICAgICBvbkNsaWNrQ29ubmVjdEVuZCA9IF9yZWYub25DbGlja0Nvbm5lY3RFbmQsXG4gICAgICBub2Rlc0RyYWdnYWJsZSA9IF9yZWYubm9kZXNEcmFnZ2FibGUsXG4gICAgICBub2Rlc0Nvbm5lY3RhYmxlID0gX3JlZi5ub2Rlc0Nvbm5lY3RhYmxlLFxuICAgICAgbWluWm9vbSA9IF9yZWYubWluWm9vbSxcbiAgICAgIG1heFpvb20gPSBfcmVmLm1heFpvb20sXG4gICAgICBub2RlRXh0ZW50ID0gX3JlZi5ub2RlRXh0ZW50LFxuICAgICAgb25Ob2Rlc0NoYW5nZSA9IF9yZWYub25Ob2Rlc0NoYW5nZSxcbiAgICAgIG9uRWRnZXNDaGFuZ2UgPSBfcmVmLm9uRWRnZXNDaGFuZ2UsXG4gICAgICBlbGVtZW50c1NlbGVjdGFibGUgPSBfcmVmLmVsZW1lbnRzU2VsZWN0YWJsZSxcbiAgICAgIGNvbm5lY3Rpb25Nb2RlID0gX3JlZi5jb25uZWN0aW9uTW9kZSxcbiAgICAgIHNuYXBHcmlkID0gX3JlZi5zbmFwR3JpZCxcbiAgICAgIHNuYXBUb0dyaWQgPSBfcmVmLnNuYXBUb0dyaWQsXG4gICAgICB0cmFuc2xhdGVFeHRlbnQgPSBfcmVmLnRyYW5zbGF0ZUV4dGVudCxcbiAgICAgIGNvbm5lY3RPbkNsaWNrID0gX3JlZi5jb25uZWN0T25DbGljayxcbiAgICAgIGRlZmF1bHRFZGdlT3B0aW9ucyA9IF9yZWYuZGVmYXVsdEVkZ2VPcHRpb25zLFxuICAgICAgZml0VmlldyA9IF9yZWYuZml0VmlldyxcbiAgICAgIGZpdFZpZXdPcHRpb25zID0gX3JlZi5maXRWaWV3T3B0aW9ucyxcbiAgICAgIG9uTm9kZXNEZWxldGUgPSBfcmVmLm9uTm9kZXNEZWxldGUsXG4gICAgICBvbkVkZ2VzRGVsZXRlID0gX3JlZi5vbkVkZ2VzRGVsZXRlLFxuICAgICAgb25Ob2RlRHJhZyA9IF9yZWYub25Ob2RlRHJhZyxcbiAgICAgIG9uTm9kZURyYWdTdGFydCA9IF9yZWYub25Ob2RlRHJhZ1N0YXJ0LFxuICAgICAgb25Ob2RlRHJhZ1N0b3AgPSBfcmVmLm9uTm9kZURyYWdTdG9wLFxuICAgICAgb25TZWxlY3Rpb25EcmFnID0gX3JlZi5vblNlbGVjdGlvbkRyYWcsXG4gICAgICBvblNlbGVjdGlvbkRyYWdTdGFydCA9IF9yZWYub25TZWxlY3Rpb25EcmFnU3RhcnQsXG4gICAgICBvblNlbGVjdGlvbkRyYWdTdG9wID0gX3JlZi5vblNlbGVjdGlvbkRyYWdTdG9wO1xuXG4gIHZhciBfdXNlU3RvcmUgPSB1c2VTdG9yZShzZWxlY3RvciQ4LCBzaGFsbG93KSxcbiAgICAgIHNldE5vZGVzID0gX3VzZVN0b3JlLnNldE5vZGVzLFxuICAgICAgc2V0RWRnZXMgPSBfdXNlU3RvcmUuc2V0RWRnZXMsXG4gICAgICBzZXREZWZhdWx0Tm9kZXNBbmRFZGdlcyA9IF91c2VTdG9yZS5zZXREZWZhdWx0Tm9kZXNBbmRFZGdlcyxcbiAgICAgIHNldE1pblpvb20gPSBfdXNlU3RvcmUuc2V0TWluWm9vbSxcbiAgICAgIHNldE1heFpvb20gPSBfdXNlU3RvcmUuc2V0TWF4Wm9vbSxcbiAgICAgIHNldFRyYW5zbGF0ZUV4dGVudCA9IF91c2VTdG9yZS5zZXRUcmFuc2xhdGVFeHRlbnQsXG4gICAgICBzZXROb2RlRXh0ZW50ID0gX3VzZVN0b3JlLnNldE5vZGVFeHRlbnQsXG4gICAgICByZXNldCA9IF91c2VTdG9yZS5yZXNldDtcblxuICB2YXIgc3RvcmUgPSB1c2VTdG9yZUFwaSgpO1xuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIHNldERlZmF1bHROb2Rlc0FuZEVkZ2VzKGRlZmF1bHROb2RlcywgZGVmYXVsdEVkZ2VzKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgcmVzZXQoKTtcbiAgICB9O1xuICB9LCBbXSk7XG4gIHVzZURpcmVjdFN0b3JlVXBkYXRlcignZGVmYXVsdEVkZ2VPcHRpb25zJywgZGVmYXVsdEVkZ2VPcHRpb25zLCBzdG9yZS5zZXRTdGF0ZSk7XG4gIHVzZURpcmVjdFN0b3JlVXBkYXRlcignY29ubmVjdGlvbk1vZGUnLCBjb25uZWN0aW9uTW9kZSwgc3RvcmUuc2V0U3RhdGUpO1xuICB1c2VEaXJlY3RTdG9yZVVwZGF0ZXIoJ29uQ29ubmVjdCcsIG9uQ29ubmVjdCwgc3RvcmUuc2V0U3RhdGUpO1xuICB1c2VEaXJlY3RTdG9yZVVwZGF0ZXIoJ29uQ29ubmVjdFN0YXJ0Jywgb25Db25uZWN0U3RhcnQsIHN0b3JlLnNldFN0YXRlKTtcbiAgdXNlRGlyZWN0U3RvcmVVcGRhdGVyKCdvbkNvbm5lY3RTdG9wJywgb25Db25uZWN0U3RvcCwgc3RvcmUuc2V0U3RhdGUpO1xuICB1c2VEaXJlY3RTdG9yZVVwZGF0ZXIoJ29uQ29ubmVjdEVuZCcsIG9uQ29ubmVjdEVuZCwgc3RvcmUuc2V0U3RhdGUpO1xuICB1c2VEaXJlY3RTdG9yZVVwZGF0ZXIoJ29uQ2xpY2tDb25uZWN0U3RhcnQnLCBvbkNsaWNrQ29ubmVjdFN0YXJ0LCBzdG9yZS5zZXRTdGF0ZSk7XG4gIHVzZURpcmVjdFN0b3JlVXBkYXRlcignb25DbGlja0Nvbm5lY3RTdG9wJywgb25DbGlja0Nvbm5lY3RTdG9wLCBzdG9yZS5zZXRTdGF0ZSk7XG4gIHVzZURpcmVjdFN0b3JlVXBkYXRlcignb25DbGlja0Nvbm5lY3RFbmQnLCBvbkNsaWNrQ29ubmVjdEVuZCwgc3RvcmUuc2V0U3RhdGUpO1xuICB1c2VEaXJlY3RTdG9yZVVwZGF0ZXIoJ25vZGVzRHJhZ2dhYmxlJywgbm9kZXNEcmFnZ2FibGUsIHN0b3JlLnNldFN0YXRlKTtcbiAgdXNlRGlyZWN0U3RvcmVVcGRhdGVyKCdub2Rlc0Nvbm5lY3RhYmxlJywgbm9kZXNDb25uZWN0YWJsZSwgc3RvcmUuc2V0U3RhdGUpO1xuICB1c2VEaXJlY3RTdG9yZVVwZGF0ZXIoJ2VsZW1lbnRzU2VsZWN0YWJsZScsIGVsZW1lbnRzU2VsZWN0YWJsZSwgc3RvcmUuc2V0U3RhdGUpO1xuICB1c2VEaXJlY3RTdG9yZVVwZGF0ZXIoJ3NuYXBUb0dyaWQnLCBzbmFwVG9HcmlkLCBzdG9yZS5zZXRTdGF0ZSk7XG4gIHVzZURpcmVjdFN0b3JlVXBkYXRlcignc25hcEdyaWQnLCBzbmFwR3JpZCwgc3RvcmUuc2V0U3RhdGUpO1xuICB1c2VEaXJlY3RTdG9yZVVwZGF0ZXIoJ29uTm9kZXNDaGFuZ2UnLCBvbk5vZGVzQ2hhbmdlLCBzdG9yZS5zZXRTdGF0ZSk7XG4gIHVzZURpcmVjdFN0b3JlVXBkYXRlcignb25FZGdlc0NoYW5nZScsIG9uRWRnZXNDaGFuZ2UsIHN0b3JlLnNldFN0YXRlKTtcbiAgdXNlRGlyZWN0U3RvcmVVcGRhdGVyKCdjb25uZWN0T25DbGljaycsIGNvbm5lY3RPbkNsaWNrLCBzdG9yZS5zZXRTdGF0ZSk7XG4gIHVzZURpcmVjdFN0b3JlVXBkYXRlcignZml0Vmlld09uSW5pdCcsIGZpdFZpZXcsIHN0b3JlLnNldFN0YXRlKTtcbiAgdXNlRGlyZWN0U3RvcmVVcGRhdGVyKCdmaXRWaWV3T25Jbml0T3B0aW9ucycsIGZpdFZpZXdPcHRpb25zLCBzdG9yZS5zZXRTdGF0ZSk7XG4gIHVzZURpcmVjdFN0b3JlVXBkYXRlcignb25Ob2Rlc0RlbGV0ZScsIG9uTm9kZXNEZWxldGUsIHN0b3JlLnNldFN0YXRlKTtcbiAgdXNlRGlyZWN0U3RvcmVVcGRhdGVyKCdvbkVkZ2VzRGVsZXRlJywgb25FZGdlc0RlbGV0ZSwgc3RvcmUuc2V0U3RhdGUpO1xuICB1c2VEaXJlY3RTdG9yZVVwZGF0ZXIoJ29uTm9kZURyYWcnLCBvbk5vZGVEcmFnLCBzdG9yZS5zZXRTdGF0ZSk7XG4gIHVzZURpcmVjdFN0b3JlVXBkYXRlcignb25Ob2RlRHJhZ1N0YXJ0Jywgb25Ob2RlRHJhZ1N0YXJ0LCBzdG9yZS5zZXRTdGF0ZSk7XG4gIHVzZURpcmVjdFN0b3JlVXBkYXRlcignb25Ob2RlRHJhZ1N0b3AnLCBvbk5vZGVEcmFnU3RvcCwgc3RvcmUuc2V0U3RhdGUpO1xuICB1c2VEaXJlY3RTdG9yZVVwZGF0ZXIoJ29uU2VsZWN0aW9uRHJhZycsIG9uU2VsZWN0aW9uRHJhZywgc3RvcmUuc2V0U3RhdGUpO1xuICB1c2VEaXJlY3RTdG9yZVVwZGF0ZXIoJ29uU2VsZWN0aW9uRHJhZ1N0YXJ0Jywgb25TZWxlY3Rpb25EcmFnU3RhcnQsIHN0b3JlLnNldFN0YXRlKTtcbiAgdXNlRGlyZWN0U3RvcmVVcGRhdGVyKCdvblNlbGVjdGlvbkRyYWdTdG9wJywgb25TZWxlY3Rpb25EcmFnU3RvcCwgc3RvcmUuc2V0U3RhdGUpO1xuICB1c2VTdG9yZVVwZGF0ZXIobm9kZXMsIHNldE5vZGVzKTtcbiAgdXNlU3RvcmVVcGRhdGVyKGVkZ2VzLCBzZXRFZGdlcyk7XG4gIHVzZVN0b3JlVXBkYXRlcihkZWZhdWx0Tm9kZXMsIHNldE5vZGVzKTtcbiAgdXNlU3RvcmVVcGRhdGVyKGRlZmF1bHRFZGdlcywgc2V0RWRnZXMpO1xuICB1c2VTdG9yZVVwZGF0ZXIobWluWm9vbSwgc2V0TWluWm9vbSk7XG4gIHVzZVN0b3JlVXBkYXRlcihtYXhab29tLCBzZXRNYXhab29tKTtcbiAgdXNlU3RvcmVVcGRhdGVyKHRyYW5zbGF0ZUV4dGVudCwgc2V0VHJhbnNsYXRlRXh0ZW50KTtcbiAgdXNlU3RvcmVVcGRhdGVyKG5vZGVFeHRlbnQsIHNldE5vZGVFeHRlbnQpO1xuICByZXR1cm4gbnVsbDtcbn07XG5cbnZhciBjc3NfMjQ4eiQxID0gXCIucmVhY3QtZmxvd3toZWlnaHQ6MTAwJTtvdmVyZmxvdzpoaWRkZW47cG9zaXRpb246cmVsYXRpdmU7d2lkdGg6MTAwJX0ucmVhY3QtZmxvd19fY29udGFpbmVye2hlaWdodDoxMDAlO2xlZnQ6MDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDt3aWR0aDoxMDAlfS5yZWFjdC1mbG93X19wYW5le3otaW5kZXg6MX0ucmVhY3QtZmxvd19fdmlld3BvcnR7cG9pbnRlci1ldmVudHM6bm9uZTt0cmFuc2Zvcm0tb3JpZ2luOjAgMDt6LWluZGV4OjJ9LnJlYWN0LWZsb3dfX3JlbmRlcmVye3otaW5kZXg6NH0ucmVhY3QtZmxvd19fc2VsZWN0aW9ucGFuZXt6LWluZGV4OjV9LnJlYWN0LWZsb3cgLnJlYWN0LWZsb3dfX2VkZ2Vze292ZXJmbG93OnZpc2libGU7cG9pbnRlci1ldmVudHM6bm9uZX0ucmVhY3QtZmxvdyAucmVhY3QtZmxvd19fY29ubmVjdGlvbmxpbmV7ei1pbmRleDoxMDAxfS5yZWFjdC1mbG93X19lZGdle3BvaW50ZXItZXZlbnRzOnZpc2libGVTdHJva2V9LnJlYWN0LWZsb3dfX2VkZ2UuaW5hY3RpdmV7cG9pbnRlci1ldmVudHM6bm9uZX1ALXdlYmtpdC1rZXlmcmFtZXMgZGFzaGRyYXd7MCV7c3Ryb2tlLWRhc2hvZmZzZXQ6MTB9fUBrZXlmcmFtZXMgZGFzaGRyYXd7MCV7c3Ryb2tlLWRhc2hvZmZzZXQ6MTB9fS5yZWFjdC1mbG93X19lZGdlLXBhdGh7ZmlsbDpub25lfS5yZWFjdC1mbG93X19lZGdlLXRleHR3cmFwcGVye3BvaW50ZXItZXZlbnRzOmFsbH0ucmVhY3QtZmxvd19fZWRnZS10ZXh0e3BvaW50ZXItZXZlbnRzOm5vbmU7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lfS5yZWFjdC1mbG93X19jb25uZWN0aW9ue3BvaW50ZXItZXZlbnRzOm5vbmV9LnJlYWN0LWZsb3dfX2Nvbm5lY3Rpb24gLmFuaW1hdGVke3N0cm9rZS1kYXNoYXJyYXk6NTstd2Via2l0LWFuaW1hdGlvbjpkYXNoZHJhdyAuNXMgbGluZWFyIGluZmluaXRlO2FuaW1hdGlvbjpkYXNoZHJhdyAuNXMgbGluZWFyIGluZmluaXRlfS5yZWFjdC1mbG93X19jb25uZWN0aW9uLXBhdGh7ZmlsbDpub25lfS5yZWFjdC1mbG93X19ub2Rlc3twb2ludGVyLWV2ZW50czpub25lO3RyYW5zZm9ybS1vcmlnaW46MCAwfS5yZWFjdC1mbG93X19ub2Rle2JveC1zaXppbmc6Ym9yZGVyLWJveDtwb2ludGVyLWV2ZW50czphbGw7cG9zaXRpb246YWJzb2x1dGU7dHJhbnNmb3JtLW9yaWdpbjowIDA7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lfS5yZWFjdC1mbG93X19ub2Rlc3NlbGVjdGlvbntwb2ludGVyLWV2ZW50czpub25lO3RyYW5zZm9ybS1vcmlnaW46bGVmdCB0b3A7ei1pbmRleDozfS5yZWFjdC1mbG93X19ub2Rlc3NlbGVjdGlvbi1yZWN0e2N1cnNvcjotd2Via2l0LWdyYWI7Y3Vyc29yOmdyYWI7cG9pbnRlci1ldmVudHM6YWxsO3Bvc2l0aW9uOmFic29sdXRlfS5yZWFjdC1mbG93X19oYW5kbGV7cG9pbnRlci1ldmVudHM6bm9uZTtwb3NpdGlvbjphYnNvbHV0ZX0ucmVhY3QtZmxvd19faGFuZGxlLmNvbm5lY3RhYmxle3BvaW50ZXItZXZlbnRzOmFsbH0ucmVhY3QtZmxvd19faGFuZGxlLWJvdHRvbXtib3R0b206LTRweDtsZWZ0OjUwJTt0b3A6YXV0bzt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUpfS5yZWFjdC1mbG93X19oYW5kbGUtdG9we2xlZnQ6NTAlO3RvcDotNHB4O3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSl9LnJlYWN0LWZsb3dfX2hhbmRsZS1sZWZ0e2xlZnQ6LTRweDt0b3A6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC01MCUpfS5yZWFjdC1mbG93X19oYW5kbGUtcmlnaHR7cmlnaHQ6LTRweDt0b3A6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC01MCUpfS5yZWFjdC1mbG93X19lZGdldXBkYXRlcntjdXJzb3I6bW92ZTtwb2ludGVyLWV2ZW50czphbGx9LnJlYWN0LWZsb3dfX2NvbnRyb2xze2JvdHRvbToyMHB4O2xlZnQ6MTVweDtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjV9LnJlYWN0LWZsb3dfX2NvbnRyb2xzLWJ1dHRvbntib3JkZXI6bm9uZTtoZWlnaHQ6MjRweDt3aWR0aDoyNHB4fS5yZWFjdC1mbG93X19jb250cm9scy1idXR0b24gc3Zne3dpZHRoOjEwMCV9LnJlYWN0LWZsb3dfX21pbmltYXB7Ym90dG9tOjIwcHg7cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6MTVweDt6LWluZGV4OjV9LnJlYWN0LWZsb3dfX2F0dHJpYnV0aW9ue2JhY2tncm91bmQ6aHNsYSgwLDAlLDEwMCUsLjUpO2NvbG9yOiM5OTk7Zm9udC1zaXplOjEwcHg7cGFkZGluZzoycHggM3B4O3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6MTAwMH0ucmVhY3QtZmxvd19fYXR0cmlidXRpb24gYXtjb2xvcjojNTU1O3RleHQtZGVjb3JhdGlvbjpub25lfS5yZWFjdC1mbG93X19hdHRyaWJ1dGlvbi50b3B7dG9wOjB9LnJlYWN0LWZsb3dfX2F0dHJpYnV0aW9uLmJvdHRvbXtib3R0b206MH0ucmVhY3QtZmxvd19fYXR0cmlidXRpb24ubGVmdHtsZWZ0OjB9LnJlYWN0LWZsb3dfX2F0dHJpYnV0aW9uLnJpZ2h0e3JpZ2h0OjB9LnJlYWN0LWZsb3dfX2F0dHJpYnV0aW9uLmNlbnRlcntsZWZ0OjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtNTAlKX1cIjtcbnZhciBjc3MgPSBjc3NfMjQ4eiQxO1xuXG52YXIgY3NzXzI0OHogPSBcIi5yZWFjdC1mbG93X19lZGdlLnNlbGVjdGVkIC5yZWFjdC1mbG93X19lZGdlLXBhdGh7c3Ryb2tlOiM1NTV9LnJlYWN0LWZsb3dfX2VkZ2UuYW5pbWF0ZWQgcGF0aHtzdHJva2UtZGFzaGFycmF5OjU7LXdlYmtpdC1hbmltYXRpb246ZGFzaGRyYXcgLjVzIGxpbmVhciBpbmZpbml0ZTthbmltYXRpb246ZGFzaGRyYXcgLjVzIGxpbmVhciBpbmZpbml0ZX0ucmVhY3QtZmxvd19fZWRnZS51cGRhdGluZyAucmVhY3QtZmxvd19fZWRnZS1wYXRoe3N0cm9rZTojNzc3fS5yZWFjdC1mbG93X19lZGdlLXBhdGh7c3Ryb2tlOiNiMWIxYjc7c3Ryb2tlLXdpZHRoOjF9LnJlYWN0LWZsb3dfX2VkZ2UtdGV4dHtmb250LXNpemU6MTBweH0ucmVhY3QtZmxvd19fZWRnZS10ZXh0Ymd7ZmlsbDojZmZmfS5yZWFjdC1mbG93X19jb25uZWN0aW9uLXBhdGh7c3Ryb2tlOiNiMWIxYjc7c3Ryb2tlLXdpZHRoOjF9LnJlYWN0LWZsb3dfX25vZGV7Y3Vyc29yOi13ZWJraXQtZ3JhYjtjdXJzb3I6Z3JhYn0ucmVhY3QtZmxvd19fbm9kZS1kZWZhdWx0LC5yZWFjdC1mbG93X19ub2RlLWdyb3VwLC5yZWFjdC1mbG93X19ub2RlLWlucHV0LC5yZWFjdC1mbG93X19ub2RlLW91dHB1dHtiYWNrZ3JvdW5kOiNmZmY7Ym9yZGVyOjFweCBzb2xpZCAjMWExOTJiO2JvcmRlci1yYWRpdXM6M3B4O2NvbG9yOiMyMjI7Zm9udC1zaXplOjEycHg7cGFkZGluZzoxMHB4O3RleHQtYWxpZ246Y2VudGVyO3dpZHRoOjE1MHB4fS5yZWFjdC1mbG93X19ub2RlLWRlZmF1bHQuc2VsZWN0ZWQsLnJlYWN0LWZsb3dfX25vZGUtZ3JvdXAuc2VsZWN0ZWQsLnJlYWN0LWZsb3dfX25vZGUtaW5wdXQuc2VsZWN0ZWQsLnJlYWN0LWZsb3dfX25vZGUtb3V0cHV0LnNlbGVjdGVke2JveC1zaGFkb3c6MCAwIDAgLjVweCAjMWExOTJifS5yZWFjdC1mbG93X19ub2RlLWRlZmF1bHQgLnJlYWN0LWZsb3dfX2hhbmRsZSwucmVhY3QtZmxvd19fbm9kZS1ncm91cCAucmVhY3QtZmxvd19faGFuZGxlLC5yZWFjdC1mbG93X19ub2RlLWlucHV0IC5yZWFjdC1mbG93X19oYW5kbGUsLnJlYWN0LWZsb3dfX25vZGUtb3V0cHV0IC5yZWFjdC1mbG93X19oYW5kbGV7YmFja2dyb3VuZDojMWExOTJifS5yZWFjdC1mbG93X19ub2RlLWRlZmF1bHQuc2VsZWN0YWJsZTpob3ZlciwucmVhY3QtZmxvd19fbm9kZS1ncm91cC5zZWxlY3RhYmxlOmhvdmVyLC5yZWFjdC1mbG93X19ub2RlLWlucHV0LnNlbGVjdGFibGU6aG92ZXIsLnJlYWN0LWZsb3dfX25vZGUtb3V0cHV0LnNlbGVjdGFibGU6aG92ZXJ7Ym94LXNoYWRvdzowIDFweCA0cHggMXB4IHJnYmEoMCwwLDAsLjA4KX0ucmVhY3QtZmxvd19fbm9kZS1kZWZhdWx0LnNlbGVjdGFibGUuc2VsZWN0ZWQsLnJlYWN0LWZsb3dfX25vZGUtZ3JvdXAuc2VsZWN0YWJsZS5zZWxlY3RlZCwucmVhY3QtZmxvd19fbm9kZS1pbnB1dC5zZWxlY3RhYmxlLnNlbGVjdGVkLC5yZWFjdC1mbG93X19ub2RlLW91dHB1dC5zZWxlY3RhYmxlLnNlbGVjdGVke2JveC1zaGFkb3c6MCAwIDAgLjVweCAjMWExOTJifS5yZWFjdC1mbG93X19ub2RlLWdyb3Vwe2JhY2tncm91bmQ6aHNsYSgwLDAlLDk0JSwuMjUpO2JvcmRlci1jb2xvcjojMWExOTJifS5yZWFjdC1mbG93X19ub2Rlc3NlbGVjdGlvbi1yZWN0LC5yZWFjdC1mbG93X19zZWxlY3Rpb257YmFja2dyb3VuZDpyZ2JhKDAsODksMjIwLC4wOCk7Ym9yZGVyOjFweCBkb3R0ZWQgcmdiYSgwLDg5LDIyMCwuOCl9LnJlYWN0LWZsb3dfX2hhbmRsZXtiYWNrZ3JvdW5kOiM1NTU7Ym9yZGVyOjFweCBzb2xpZCAjZmZmO2JvcmRlci1yYWRpdXM6MTAwJTtoZWlnaHQ6NnB4O3dpZHRoOjZweH0ucmVhY3QtZmxvd19faGFuZGxlLmNvbm5lY3RhYmxle2N1cnNvcjpjcm9zc2hhaXJ9LnJlYWN0LWZsb3dfX21pbmltYXB7YmFja2dyb3VuZC1jb2xvcjojZmZmfS5yZWFjdC1mbG93X19jb250cm9sc3tib3gtc2hhZG93OjAgMCAycHggMXB4IHJnYmEoMCwwLDAsLjA4KX0ucmVhY3QtZmxvd19fY29udHJvbHMtYnV0dG9ue2FsaWduLWl0ZW1zOmNlbnRlcjtiYWNrZ3JvdW5kOiNmZWZlZmU7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgI2VlZTtib3gtc2l6aW5nOmNvbnRlbnQtYm94O2N1cnNvcjpwb2ludGVyO2Rpc3BsYXk6ZmxleDtoZWlnaHQ6MTZweDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO3BhZGRpbmc6NXB4Oy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Om5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZTt3aWR0aDoxNnB4fS5yZWFjdC1mbG93X19jb250cm9scy1idXR0b24gc3Zne21heC1oZWlnaHQ6MTJweDttYXgtd2lkdGg6MTJweH0ucmVhY3QtZmxvd19fY29udHJvbHMtYnV0dG9uOmhvdmVye2JhY2tncm91bmQ6I2Y0ZjRmNH1cIjtcbnZhciB0aGVtZSA9IGNzc18yNDh6O1xuXG52YXIgc2hpZnRYID0gZnVuY3Rpb24gc2hpZnRYKHgsIHNoaWZ0LCBwb3NpdGlvbikge1xuICBpZiAocG9zaXRpb24gPT09IFBvc2l0aW9uLkxlZnQpIHJldHVybiB4IC0gc2hpZnQ7XG4gIGlmIChwb3NpdGlvbiA9PT0gUG9zaXRpb24uUmlnaHQpIHJldHVybiB4ICsgc2hpZnQ7XG4gIHJldHVybiB4O1xufTtcblxudmFyIHNoaWZ0WSA9IGZ1bmN0aW9uIHNoaWZ0WSh5LCBzaGlmdCwgcG9zaXRpb24pIHtcbiAgaWYgKHBvc2l0aW9uID09PSBQb3NpdGlvbi5Ub3ApIHJldHVybiB5IC0gc2hpZnQ7XG4gIGlmIChwb3NpdGlvbiA9PT0gUG9zaXRpb24uQm90dG9tKSByZXR1cm4geSArIHNoaWZ0O1xuICByZXR1cm4geTtcbn07XG5cbnZhciBFZGdlQW5jaG9yID0gZnVuY3Rpb24gRWRnZUFuY2hvcihfcmVmKSB7XG4gIHZhciBjbGFzc05hbWUgPSBfcmVmLmNsYXNzTmFtZSxcbiAgICAgIHBvc2l0aW9uID0gX3JlZi5wb3NpdGlvbixcbiAgICAgIGNlbnRlclggPSBfcmVmLmNlbnRlclgsXG4gICAgICBjZW50ZXJZID0gX3JlZi5jZW50ZXJZLFxuICAgICAgX3JlZiRyYWRpdXMgPSBfcmVmLnJhZGl1cyxcbiAgICAgIHJhZGl1cyA9IF9yZWYkcmFkaXVzID09PSB2b2lkIDAgPyAxMCA6IF9yZWYkcmFkaXVzO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJjaXJjbGVcIiwge1xuICAgIGNsYXNzTmFtZTogY2MoWydyZWFjdC1mbG93X19lZGdldXBkYXRlcicsIGNsYXNzTmFtZV0pLFxuICAgIGN4OiBzaGlmdFgoY2VudGVyWCwgcmFkaXVzLCBwb3NpdGlvbiksXG4gICAgY3k6IHNoaWZ0WShjZW50ZXJZLCByYWRpdXMsIHBvc2l0aW9uKSxcbiAgICByOiByYWRpdXMsXG4gICAgc3Ryb2tlOiBcInRyYW5zcGFyZW50XCIsXG4gICAgZmlsbDogXCJ0cmFuc3BhcmVudFwiXG4gIH0pO1xufTtcblxudmFyIHdyYXBFZGdlID0gKGZ1bmN0aW9uIChFZGdlQ29tcG9uZW50KSB7XG4gIHZhciBFZGdlV3JhcHBlciA9IGZ1bmN0aW9uIEVkZ2VXcmFwcGVyKF9yZWYpIHtcbiAgICB2YXIgaWQgPSBfcmVmLmlkLFxuICAgICAgICBjbGFzc05hbWUgPSBfcmVmLmNsYXNzTmFtZSxcbiAgICAgICAgdHlwZSA9IF9yZWYudHlwZSxcbiAgICAgICAgZGF0YSA9IF9yZWYuZGF0YSxcbiAgICAgICAgb25DbGljayA9IF9yZWYub25DbGljayxcbiAgICAgICAgb25FZGdlRG91YmxlQ2xpY2sgPSBfcmVmLm9uRWRnZURvdWJsZUNsaWNrLFxuICAgICAgICBzZWxlY3RlZCA9IF9yZWYuc2VsZWN0ZWQsXG4gICAgICAgIGFuaW1hdGVkID0gX3JlZi5hbmltYXRlZCxcbiAgICAgICAgbGFiZWwgPSBfcmVmLmxhYmVsLFxuICAgICAgICBsYWJlbFN0eWxlID0gX3JlZi5sYWJlbFN0eWxlLFxuICAgICAgICBsYWJlbFNob3dCZyA9IF9yZWYubGFiZWxTaG93QmcsXG4gICAgICAgIGxhYmVsQmdTdHlsZSA9IF9yZWYubGFiZWxCZ1N0eWxlLFxuICAgICAgICBsYWJlbEJnUGFkZGluZyA9IF9yZWYubGFiZWxCZ1BhZGRpbmcsXG4gICAgICAgIGxhYmVsQmdCb3JkZXJSYWRpdXMgPSBfcmVmLmxhYmVsQmdCb3JkZXJSYWRpdXMsXG4gICAgICAgIHN0eWxlID0gX3JlZi5zdHlsZSxcbiAgICAgICAgc291cmNlID0gX3JlZi5zb3VyY2UsXG4gICAgICAgIHRhcmdldCA9IF9yZWYudGFyZ2V0LFxuICAgICAgICBzb3VyY2VYID0gX3JlZi5zb3VyY2VYLFxuICAgICAgICBzb3VyY2VZID0gX3JlZi5zb3VyY2VZLFxuICAgICAgICB0YXJnZXRYID0gX3JlZi50YXJnZXRYLFxuICAgICAgICB0YXJnZXRZID0gX3JlZi50YXJnZXRZLFxuICAgICAgICBzb3VyY2VQb3NpdGlvbiA9IF9yZWYuc291cmNlUG9zaXRpb24sXG4gICAgICAgIHRhcmdldFBvc2l0aW9uID0gX3JlZi50YXJnZXRQb3NpdGlvbixcbiAgICAgICAgZWxlbWVudHNTZWxlY3RhYmxlID0gX3JlZi5lbGVtZW50c1NlbGVjdGFibGUsXG4gICAgICAgIGhpZGRlbiA9IF9yZWYuaGlkZGVuLFxuICAgICAgICBzb3VyY2VIYW5kbGVJZCA9IF9yZWYuc291cmNlSGFuZGxlSWQsXG4gICAgICAgIHRhcmdldEhhbmRsZUlkID0gX3JlZi50YXJnZXRIYW5kbGVJZCxcbiAgICAgICAgb25Db250ZXh0TWVudSA9IF9yZWYub25Db250ZXh0TWVudSxcbiAgICAgICAgb25Nb3VzZUVudGVyID0gX3JlZi5vbk1vdXNlRW50ZXIsXG4gICAgICAgIG9uTW91c2VNb3ZlID0gX3JlZi5vbk1vdXNlTW92ZSxcbiAgICAgICAgb25Nb3VzZUxlYXZlID0gX3JlZi5vbk1vdXNlTGVhdmUsXG4gICAgICAgIGVkZ2VVcGRhdGVyUmFkaXVzID0gX3JlZi5lZGdlVXBkYXRlclJhZGl1cyxcbiAgICAgICAgb25FZGdlVXBkYXRlID0gX3JlZi5vbkVkZ2VVcGRhdGUsXG4gICAgICAgIG9uRWRnZVVwZGF0ZVN0YXJ0ID0gX3JlZi5vbkVkZ2VVcGRhdGVTdGFydCxcbiAgICAgICAgb25FZGdlVXBkYXRlRW5kID0gX3JlZi5vbkVkZ2VVcGRhdGVFbmQsXG4gICAgICAgIG1hcmtlckVuZCA9IF9yZWYubWFya2VyRW5kLFxuICAgICAgICBtYXJrZXJTdGFydCA9IF9yZWYubWFya2VyU3RhcnQsXG4gICAgICAgIHJmSWQgPSBfcmVmLnJmSWQ7XG5cbiAgICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoZmFsc2UpLFxuICAgICAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSxcbiAgICAgICAgdXBkYXRpbmcgPSBfdXNlU3RhdGUyWzBdLFxuICAgICAgICBzZXRVcGRhdGluZyA9IF91c2VTdGF0ZTJbMV07XG5cbiAgICB2YXIgc3RvcmUgPSB1c2VTdG9yZUFwaSgpO1xuXG4gICAgdmFyIG9uRWRnZUNsaWNrID0gZnVuY3Rpb24gb25FZGdlQ2xpY2soZXZlbnQpIHtcbiAgICAgIHZhciBfc3RvcmUkZ2V0U3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpLFxuICAgICAgICAgIGVkZ2VzID0gX3N0b3JlJGdldFN0YXRlLmVkZ2VzLFxuICAgICAgICAgIGFkZFNlbGVjdGVkRWRnZXMgPSBfc3RvcmUkZ2V0U3RhdGUuYWRkU2VsZWN0ZWRFZGdlcztcblxuICAgICAgdmFyIGVkZ2UgPSBlZGdlcy5maW5kKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHJldHVybiBlLmlkID09PSBpZDtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoZWxlbWVudHNTZWxlY3RhYmxlKSB7XG4gICAgICAgIHN0b3JlLnNldFN0YXRlKHtcbiAgICAgICAgICBub2Rlc1NlbGVjdGlvbkFjdGl2ZTogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICAgIGFkZFNlbGVjdGVkRWRnZXMoW2lkXSk7XG4gICAgICB9XG5cbiAgICAgIG9uQ2xpY2sgPT09IG51bGwgfHwgb25DbGljayA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25DbGljayhldmVudCwgZWRnZSk7XG4gICAgfTtcblxuICAgIHZhciBvbkVkZ2VEb3VibGVDbGlja0hhbmRsZXIgPSBnZXRNb3VzZUhhbmRsZXIoaWQsIHN0b3JlLmdldFN0YXRlLCBvbkVkZ2VEb3VibGVDbGljayk7XG4gICAgdmFyIG9uRWRnZUNvbnRleHRNZW51ID0gZ2V0TW91c2VIYW5kbGVyKGlkLCBzdG9yZS5nZXRTdGF0ZSwgb25Db250ZXh0TWVudSk7XG4gICAgdmFyIG9uRWRnZU1vdXNlRW50ZXIgPSBnZXRNb3VzZUhhbmRsZXIoaWQsIHN0b3JlLmdldFN0YXRlLCBvbk1vdXNlRW50ZXIpO1xuICAgIHZhciBvbkVkZ2VNb3VzZU1vdmUgPSBnZXRNb3VzZUhhbmRsZXIoaWQsIHN0b3JlLmdldFN0YXRlLCBvbk1vdXNlTW92ZSk7XG4gICAgdmFyIG9uRWRnZU1vdXNlTGVhdmUgPSBnZXRNb3VzZUhhbmRsZXIoaWQsIHN0b3JlLmdldFN0YXRlLCBvbk1vdXNlTGVhdmUpO1xuXG4gICAgdmFyIGhhbmRsZUVkZ2VVcGRhdGVyID0gZnVuY3Rpb24gaGFuZGxlRWRnZVVwZGF0ZXIoZXZlbnQsIGlzU291cmNlSGFuZGxlKSB7XG4gICAgICB2YXIgbm9kZUlkID0gaXNTb3VyY2VIYW5kbGUgPyB0YXJnZXQgOiBzb3VyY2U7XG4gICAgICB2YXIgaGFuZGxlSWQgPSAoaXNTb3VyY2VIYW5kbGUgPyB0YXJnZXRIYW5kbGVJZCA6IHNvdXJjZUhhbmRsZUlkKSB8fCBudWxsO1xuICAgICAgdmFyIGhhbmRsZVR5cGUgPSBpc1NvdXJjZUhhbmRsZSA/ICd0YXJnZXQnIDogJ3NvdXJjZSc7XG5cbiAgICAgIHZhciBpc1ZhbGlkQ29ubmVjdGlvbiA9IGZ1bmN0aW9uIGlzVmFsaWRDb25uZWN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBpc1RhcmdldCA9IGlzU291cmNlSGFuZGxlO1xuICAgICAgdmFyIGVkZ2UgPSBzdG9yZS5nZXRTdGF0ZSgpLmVkZ2VzLmZpbmQoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgcmV0dXJuIGUuaWQgPT09IGlkO1xuICAgICAgfSk7XG4gICAgICBvbkVkZ2VVcGRhdGVTdGFydCA9PT0gbnVsbCB8fCBvbkVkZ2VVcGRhdGVTdGFydCA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25FZGdlVXBkYXRlU3RhcnQoZXZlbnQsIGVkZ2UsIGhhbmRsZVR5cGUpO1xuXG4gICAgICB2YXIgX29uRWRnZVVwZGF0ZUVuZCA9IG9uRWRnZVVwZGF0ZUVuZCA/IGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgcmV0dXJuIG9uRWRnZVVwZGF0ZUVuZChldnQsIGVkZ2UsIGhhbmRsZVR5cGUpO1xuICAgICAgfSA6IHVuZGVmaW5lZDtcblxuICAgICAgdmFyIG9uQ29ubmVjdEVkZ2UgPSBmdW5jdGlvbiBvbkNvbm5lY3RFZGdlKGNvbm5lY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIG9uRWRnZVVwZGF0ZSA9PT0gbnVsbCB8fCBvbkVkZ2VVcGRhdGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uRWRnZVVwZGF0ZShlZGdlLCBjb25uZWN0aW9uKTtcbiAgICAgIH07XG5cbiAgICAgIGhhbmRsZU1vdXNlRG93bih7XG4gICAgICAgIGV2ZW50OiBldmVudCxcbiAgICAgICAgaGFuZGxlSWQ6IGhhbmRsZUlkLFxuICAgICAgICBub2RlSWQ6IG5vZGVJZCxcbiAgICAgICAgb25Db25uZWN0OiBvbkNvbm5lY3RFZGdlLFxuICAgICAgICBpc1RhcmdldDogaXNUYXJnZXQsXG4gICAgICAgIGdldFN0YXRlOiBzdG9yZS5nZXRTdGF0ZSxcbiAgICAgICAgc2V0U3RhdGU6IHN0b3JlLnNldFN0YXRlLFxuICAgICAgICBpc1ZhbGlkQ29ubmVjdGlvbjogaXNWYWxpZENvbm5lY3Rpb24sXG4gICAgICAgIGVsZW1lbnRFZGdlVXBkYXRlclR5cGU6IGhhbmRsZVR5cGUsXG4gICAgICAgIG9uRWRnZVVwZGF0ZUVuZDogX29uRWRnZVVwZGF0ZUVuZFxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBvbkVkZ2VVcGRhdGVyU291cmNlTW91c2VEb3duID0gZnVuY3Rpb24gb25FZGdlVXBkYXRlclNvdXJjZU1vdXNlRG93bihldmVudCkge1xuICAgICAgcmV0dXJuIGhhbmRsZUVkZ2VVcGRhdGVyKGV2ZW50LCB0cnVlKTtcbiAgICB9O1xuXG4gICAgdmFyIG9uRWRnZVVwZGF0ZXJUYXJnZXRNb3VzZURvd24gPSBmdW5jdGlvbiBvbkVkZ2VVcGRhdGVyVGFyZ2V0TW91c2VEb3duKGV2ZW50KSB7XG4gICAgICByZXR1cm4gaGFuZGxlRWRnZVVwZGF0ZXIoZXZlbnQsIGZhbHNlKTtcbiAgICB9O1xuXG4gICAgdmFyIG9uRWRnZVVwZGF0ZXJNb3VzZUVudGVyID0gZnVuY3Rpb24gb25FZGdlVXBkYXRlck1vdXNlRW50ZXIoKSB7XG4gICAgICByZXR1cm4gc2V0VXBkYXRpbmcodHJ1ZSk7XG4gICAgfTtcblxuICAgIHZhciBvbkVkZ2VVcGRhdGVyTW91c2VPdXQgPSBmdW5jdGlvbiBvbkVkZ2VVcGRhdGVyTW91c2VPdXQoKSB7XG4gICAgICByZXR1cm4gc2V0VXBkYXRpbmcoZmFsc2UpO1xuICAgIH07XG5cbiAgICB2YXIgbWFya2VyU3RhcnRVcmwgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBcInVybCgjXCIuY29uY2F0KGdldE1hcmtlcklkKG1hcmtlclN0YXJ0LCByZklkKSwgXCIpXCIpO1xuICAgIH0sIFttYXJrZXJTdGFydCwgcmZJZF0pO1xuICAgIHZhciBtYXJrZXJFbmRVcmwgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBcInVybCgjXCIuY29uY2F0KGdldE1hcmtlcklkKG1hcmtlckVuZCwgcmZJZCksIFwiKVwiKTtcbiAgICB9LCBbbWFya2VyRW5kLCByZklkXSk7XG5cbiAgICBpZiAoaGlkZGVuKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgaW5hY3RpdmUgPSAhZWxlbWVudHNTZWxlY3RhYmxlICYmICFvbkNsaWNrO1xuICAgIHZhciBoYW5kbGVFZGdlVXBkYXRlID0gdHlwZW9mIG9uRWRnZVVwZGF0ZSAhPT0gJ3VuZGVmaW5lZCc7XG4gICAgdmFyIGVkZ2VDbGFzc2VzID0gY2MoWydyZWFjdC1mbG93X19lZGdlJywgXCJyZWFjdC1mbG93X19lZGdlLVwiLmNvbmNhdCh0eXBlKSwgY2xhc3NOYW1lLCB7XG4gICAgICBzZWxlY3RlZDogc2VsZWN0ZWQsXG4gICAgICBhbmltYXRlZDogYW5pbWF0ZWQsXG4gICAgICBpbmFjdGl2ZTogaW5hY3RpdmUsXG4gICAgICB1cGRhdGluZzogdXBkYXRpbmdcbiAgICB9XSk7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZ1wiLCB7XG4gICAgICBjbGFzc05hbWU6IGVkZ2VDbGFzc2VzLFxuICAgICAgb25DbGljazogb25FZGdlQ2xpY2ssXG4gICAgICBvbkRvdWJsZUNsaWNrOiBvbkVkZ2VEb3VibGVDbGlja0hhbmRsZXIsXG4gICAgICBvbkNvbnRleHRNZW51OiBvbkVkZ2VDb250ZXh0TWVudSxcbiAgICAgIG9uTW91c2VFbnRlcjogb25FZGdlTW91c2VFbnRlcixcbiAgICAgIG9uTW91c2VNb3ZlOiBvbkVkZ2VNb3VzZU1vdmUsXG4gICAgICBvbk1vdXNlTGVhdmU6IG9uRWRnZU1vdXNlTGVhdmVcbiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFZGdlQ29tcG9uZW50LCB7XG4gICAgICBpZDogaWQsXG4gICAgICBzb3VyY2U6IHNvdXJjZSxcbiAgICAgIHRhcmdldDogdGFyZ2V0LFxuICAgICAgc2VsZWN0ZWQ6IHNlbGVjdGVkLFxuICAgICAgYW5pbWF0ZWQ6IGFuaW1hdGVkLFxuICAgICAgbGFiZWw6IGxhYmVsLFxuICAgICAgbGFiZWxTdHlsZTogbGFiZWxTdHlsZSxcbiAgICAgIGxhYmVsU2hvd0JnOiBsYWJlbFNob3dCZyxcbiAgICAgIGxhYmVsQmdTdHlsZTogbGFiZWxCZ1N0eWxlLFxuICAgICAgbGFiZWxCZ1BhZGRpbmc6IGxhYmVsQmdQYWRkaW5nLFxuICAgICAgbGFiZWxCZ0JvcmRlclJhZGl1czogbGFiZWxCZ0JvcmRlclJhZGl1cyxcbiAgICAgIGRhdGE6IGRhdGEsXG4gICAgICBzdHlsZTogc3R5bGUsXG4gICAgICBzb3VyY2VYOiBzb3VyY2VYLFxuICAgICAgc291cmNlWTogc291cmNlWSxcbiAgICAgIHRhcmdldFg6IHRhcmdldFgsXG4gICAgICB0YXJnZXRZOiB0YXJnZXRZLFxuICAgICAgc291cmNlUG9zaXRpb246IHNvdXJjZVBvc2l0aW9uLFxuICAgICAgdGFyZ2V0UG9zaXRpb246IHRhcmdldFBvc2l0aW9uLFxuICAgICAgc291cmNlSGFuZGxlSWQ6IHNvdXJjZUhhbmRsZUlkLFxuICAgICAgdGFyZ2V0SGFuZGxlSWQ6IHRhcmdldEhhbmRsZUlkLFxuICAgICAgbWFya2VyU3RhcnQ6IG1hcmtlclN0YXJ0VXJsLFxuICAgICAgbWFya2VyRW5kOiBtYXJrZXJFbmRVcmwsXG4gICAgICBcImRhdGEtdGVzdGlkXCI6IFwicmZfX2VkZ2UtXCIuY29uY2F0KGlkKVxuICAgIH0pLCBoYW5kbGVFZGdlVXBkYXRlICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZ1wiLCB7XG4gICAgICBvbk1vdXNlRG93bjogb25FZGdlVXBkYXRlclNvdXJjZU1vdXNlRG93bixcbiAgICAgIG9uTW91c2VFbnRlcjogb25FZGdlVXBkYXRlck1vdXNlRW50ZXIsXG4gICAgICBvbk1vdXNlT3V0OiBvbkVkZ2VVcGRhdGVyTW91c2VPdXRcbiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFZGdlQW5jaG9yLCB7XG4gICAgICBwb3NpdGlvbjogc291cmNlUG9zaXRpb24sXG4gICAgICBjZW50ZXJYOiBzb3VyY2VYLFxuICAgICAgY2VudGVyWTogc291cmNlWSxcbiAgICAgIHJhZGl1czogZWRnZVVwZGF0ZXJSYWRpdXNcbiAgICB9KSksIGhhbmRsZUVkZ2VVcGRhdGUgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHtcbiAgICAgIG9uTW91c2VEb3duOiBvbkVkZ2VVcGRhdGVyVGFyZ2V0TW91c2VEb3duLFxuICAgICAgb25Nb3VzZUVudGVyOiBvbkVkZ2VVcGRhdGVyTW91c2VFbnRlcixcbiAgICAgIG9uTW91c2VPdXQ6IG9uRWRnZVVwZGF0ZXJNb3VzZU91dFxuICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEVkZ2VBbmNob3IsIHtcbiAgICAgIHBvc2l0aW9uOiB0YXJnZXRQb3NpdGlvbixcbiAgICAgIGNlbnRlclg6IHRhcmdldFgsXG4gICAgICBjZW50ZXJZOiB0YXJnZXRZLFxuICAgICAgcmFkaXVzOiBlZGdlVXBkYXRlclJhZGl1c1xuICAgIH0pKSk7XG4gIH07XG5cbiAgRWRnZVdyYXBwZXIuZGlzcGxheU5hbWUgPSAnRWRnZVdyYXBwZXInO1xuICByZXR1cm4gLyojX19QVVJFX18qL21lbW8oRWRnZVdyYXBwZXIpO1xufSk7XG5cbmZ1bmN0aW9uIG93bktleXMkOChvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGVudW1lcmFibGVPbmx5ICYmIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSkpLCBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCQ4KHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gbnVsbCAhPSBhcmd1bWVudHNbaV0gPyBhcmd1bWVudHNbaV0gOiB7fTsgaSAlIDIgPyBvd25LZXlzJDgoT2JqZWN0KHNvdXJjZSksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpIDogb3duS2V5cyQ4KE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cbmZ1bmN0aW9uIGNyZWF0ZUVkZ2VUeXBlcyhlZGdlVHlwZXMpIHtcbiAgdmFyIHN0YW5kYXJkVHlwZXMgPSB7XG4gICAgXCJkZWZhdWx0XCI6IHdyYXBFZGdlKGVkZ2VUeXBlc1tcImRlZmF1bHRcIl0gfHwgQmV6aWVyRWRnZSksXG4gICAgc3RyYWlnaHQ6IHdyYXBFZGdlKGVkZ2VUeXBlcy5iZXppZXIgfHwgU3RyYWlnaHRFZGdlKSxcbiAgICBzdGVwOiB3cmFwRWRnZShlZGdlVHlwZXMuc3RlcCB8fCBTdGVwRWRnZSksXG4gICAgc21vb3Roc3RlcDogd3JhcEVkZ2UoZWRnZVR5cGVzLnN0ZXAgfHwgU21vb3RoU3RlcEVkZ2UpLFxuICAgIHNpbXBsZWJlemllcjogd3JhcEVkZ2UoZWRnZVR5cGVzLnNpbXBsZWJlemllciB8fCBTaW1wbGVCZXppZXJFZGdlKVxuICB9O1xuICB2YXIgd3JhcHBlZFR5cGVzID0ge307XG4gIHZhciBzcGVjaWFsVHlwZXMgPSBPYmplY3Qua2V5cyhlZGdlVHlwZXMpLmZpbHRlcihmdW5jdGlvbiAoaykge1xuICAgIHJldHVybiAhWydkZWZhdWx0JywgJ2JlemllciddLmluY2x1ZGVzKGspO1xuICB9KS5yZWR1Y2UoZnVuY3Rpb24gKHJlcywga2V5KSB7XG4gICAgcmVzW2tleV0gPSB3cmFwRWRnZShlZGdlVHlwZXNba2V5XSB8fCBCZXppZXJFZGdlKTtcbiAgICByZXR1cm4gcmVzO1xuICB9LCB3cmFwcGVkVHlwZXMpO1xuICByZXR1cm4gX29iamVjdFNwcmVhZCQ4KF9vYmplY3RTcHJlYWQkOCh7fSwgc3RhbmRhcmRUeXBlcyksIHNwZWNpYWxUeXBlcyk7XG59XG5mdW5jdGlvbiBnZXRIYW5kbGVQb3NpdGlvbihwb3NpdGlvbiwgbm9kZVJlY3QpIHtcbiAgdmFyIGhhbmRsZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogbnVsbDtcbiAgdmFyIHggPSAoKGhhbmRsZSA9PT0gbnVsbCB8fCBoYW5kbGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGhhbmRsZS54KSB8fCAwKSArIG5vZGVSZWN0Lng7XG4gIHZhciB5ID0gKChoYW5kbGUgPT09IG51bGwgfHwgaGFuZGxlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBoYW5kbGUueSkgfHwgMCkgKyBub2RlUmVjdC55O1xuICB2YXIgd2lkdGggPSAoaGFuZGxlID09PSBudWxsIHx8IGhhbmRsZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogaGFuZGxlLndpZHRoKSB8fCBub2RlUmVjdC53aWR0aDtcbiAgdmFyIGhlaWdodCA9IChoYW5kbGUgPT09IG51bGwgfHwgaGFuZGxlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBoYW5kbGUuaGVpZ2h0KSB8fCBub2RlUmVjdC5oZWlnaHQ7XG5cbiAgc3dpdGNoIChwb3NpdGlvbikge1xuICAgIGNhc2UgUG9zaXRpb24uVG9wOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgeDogeCArIHdpZHRoIC8gMixcbiAgICAgICAgeTogeVxuICAgICAgfTtcblxuICAgIGNhc2UgUG9zaXRpb24uUmlnaHQ6XG4gICAgICByZXR1cm4ge1xuICAgICAgICB4OiB4ICsgd2lkdGgsXG4gICAgICAgIHk6IHkgKyBoZWlnaHQgLyAyXG4gICAgICB9O1xuXG4gICAgY2FzZSBQb3NpdGlvbi5Cb3R0b206XG4gICAgICByZXR1cm4ge1xuICAgICAgICB4OiB4ICsgd2lkdGggLyAyLFxuICAgICAgICB5OiB5ICsgaGVpZ2h0XG4gICAgICB9O1xuXG4gICAgY2FzZSBQb3NpdGlvbi5MZWZ0OlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgeDogeCxcbiAgICAgICAgeTogeSArIGhlaWdodCAvIDJcbiAgICAgIH07XG4gIH1cbn1cbmZ1bmN0aW9uIGdldEhhbmRsZShib3VuZHMsIGhhbmRsZUlkKSB7XG4gIGlmICghYm91bmRzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0gLy8gdGhlcmUgaXMgbm8gaGFuZGxlSWQgd2hlbiB0aGVyZSBhcmUgbm8gbXVsdGlwbGUgaGFuZGxlcy8gaGFuZGxlcyB3aXRoIGlkc1xuICAvLyBzbyB3ZSBqdXN0IHBpY2sgdGhlIGZpcnN0IG9uZVxuXG5cbiAgdmFyIGhhbmRsZSA9IG51bGw7XG5cbiAgaWYgKGJvdW5kcy5sZW5ndGggPT09IDEgfHwgIWhhbmRsZUlkKSB7XG4gICAgaGFuZGxlID0gYm91bmRzWzBdO1xuICB9IGVsc2UgaWYgKGhhbmRsZUlkKSB7XG4gICAgaGFuZGxlID0gYm91bmRzLmZpbmQoZnVuY3Rpb24gKGQpIHtcbiAgICAgIHJldHVybiBkLmlkID09PSBoYW5kbGVJZDtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB0eXBlb2YgaGFuZGxlID09PSAndW5kZWZpbmVkJyA/IG51bGwgOiBoYW5kbGU7XG59XG52YXIgZ2V0RWRnZVBvc2l0aW9ucyA9IGZ1bmN0aW9uIGdldEVkZ2VQb3NpdGlvbnMoc291cmNlTm9kZVJlY3QsIHNvdXJjZUhhbmRsZSwgc291cmNlUG9zaXRpb24sIHRhcmdldE5vZGVSZWN0LCB0YXJnZXRIYW5kbGUsIHRhcmdldFBvc2l0aW9uKSB7XG4gIHZhciBzb3VyY2VIYW5kbGVQb3MgPSBnZXRIYW5kbGVQb3NpdGlvbihzb3VyY2VQb3NpdGlvbiwgc291cmNlTm9kZVJlY3QsIHNvdXJjZUhhbmRsZSk7XG4gIHZhciB0YXJnZXRIYW5kbGVQb3MgPSBnZXRIYW5kbGVQb3NpdGlvbih0YXJnZXRQb3NpdGlvbiwgdGFyZ2V0Tm9kZVJlY3QsIHRhcmdldEhhbmRsZSk7XG4gIHJldHVybiB7XG4gICAgc291cmNlWDogc291cmNlSGFuZGxlUG9zLngsXG4gICAgc291cmNlWTogc291cmNlSGFuZGxlUG9zLnksXG4gICAgdGFyZ2V0WDogdGFyZ2V0SGFuZGxlUG9zLngsXG4gICAgdGFyZ2V0WTogdGFyZ2V0SGFuZGxlUG9zLnlcbiAgfTtcbn07XG5mdW5jdGlvbiBpc0VkZ2VWaXNpYmxlKF9yZWYpIHtcbiAgdmFyIHNvdXJjZVBvcyA9IF9yZWYuc291cmNlUG9zLFxuICAgICAgdGFyZ2V0UG9zID0gX3JlZi50YXJnZXRQb3MsXG4gICAgICBzb3VyY2VXaWR0aCA9IF9yZWYuc291cmNlV2lkdGgsXG4gICAgICBzb3VyY2VIZWlnaHQgPSBfcmVmLnNvdXJjZUhlaWdodCxcbiAgICAgIHRhcmdldFdpZHRoID0gX3JlZi50YXJnZXRXaWR0aCxcbiAgICAgIHRhcmdldEhlaWdodCA9IF9yZWYudGFyZ2V0SGVpZ2h0LFxuICAgICAgd2lkdGggPSBfcmVmLndpZHRoLFxuICAgICAgaGVpZ2h0ID0gX3JlZi5oZWlnaHQsXG4gICAgICB0cmFuc2Zvcm0gPSBfcmVmLnRyYW5zZm9ybTtcbiAgdmFyIGVkZ2VCb3ggPSB7XG4gICAgeDogTWF0aC5taW4oc291cmNlUG9zLngsIHRhcmdldFBvcy54KSxcbiAgICB5OiBNYXRoLm1pbihzb3VyY2VQb3MueSwgdGFyZ2V0UG9zLnkpLFxuICAgIHgyOiBNYXRoLm1heChzb3VyY2VQb3MueCArIHNvdXJjZVdpZHRoLCB0YXJnZXRQb3MueCArIHRhcmdldFdpZHRoKSxcbiAgICB5MjogTWF0aC5tYXgoc291cmNlUG9zLnkgKyBzb3VyY2VIZWlnaHQsIHRhcmdldFBvcy55ICsgdGFyZ2V0SGVpZ2h0KVxuICB9O1xuXG4gIGlmIChlZGdlQm94LnggPT09IGVkZ2VCb3gueDIpIHtcbiAgICBlZGdlQm94LngyICs9IDE7XG4gIH1cblxuICBpZiAoZWRnZUJveC55ID09PSBlZGdlQm94LnkyKSB7XG4gICAgZWRnZUJveC55MiArPSAxO1xuICB9XG5cbiAgdmFyIHZpZXdCb3ggPSByZWN0VG9Cb3goe1xuICAgIHg6ICgwIC0gdHJhbnNmb3JtWzBdKSAvIHRyYW5zZm9ybVsyXSxcbiAgICB5OiAoMCAtIHRyYW5zZm9ybVsxXSkgLyB0cmFuc2Zvcm1bMl0sXG4gICAgd2lkdGg6IHdpZHRoIC8gdHJhbnNmb3JtWzJdLFxuICAgIGhlaWdodDogaGVpZ2h0IC8gdHJhbnNmb3JtWzJdXG4gIH0pO1xuICB2YXIgeE92ZXJsYXAgPSBNYXRoLm1heCgwLCBNYXRoLm1pbih2aWV3Qm94LngyLCBlZGdlQm94LngyKSAtIE1hdGgubWF4KHZpZXdCb3gueCwgZWRnZUJveC54KSk7XG4gIHZhciB5T3ZlcmxhcCA9IE1hdGgubWF4KDAsIE1hdGgubWluKHZpZXdCb3gueTIsIGVkZ2VCb3gueTIpIC0gTWF0aC5tYXgodmlld0JveC55LCBlZGdlQm94LnkpKTtcbiAgdmFyIG92ZXJsYXBwaW5nQXJlYSA9IE1hdGguY2VpbCh4T3ZlcmxhcCAqIHlPdmVybGFwKTtcbiAgcmV0dXJuIG92ZXJsYXBwaW5nQXJlYSA+IDA7XG59XG5mdW5jdGlvbiBnZXROb2RlRGF0YShub2RlSW50ZXJuYWxzLCBub2RlSWQpIHtcbiAgdmFyIF9ub2RlJGludGVybmFsc1N5bWJvbCwgX25vZGUkcG9zaXRpb25BYnNvbHV0LCBfbm9kZSRwb3NpdGlvbkFic29sdXQyLCBfbm9kZSRwb3NpdGlvbkFic29sdXQzLCBfbm9kZSRwb3NpdGlvbkFic29sdXQ0O1xuXG4gIHZhciBub2RlID0gbm9kZUludGVybmFscy5nZXQobm9kZUlkKTtcbiAgdmFyIGhhbmRsZUJvdW5kcyA9IChub2RlID09PSBudWxsIHx8IG5vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfbm9kZSRpbnRlcm5hbHNTeW1ib2wgPSBub2RlW2ludGVybmFsc1N5bWJvbF0pID09PSBudWxsIHx8IF9ub2RlJGludGVybmFsc1N5bWJvbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX25vZGUkaW50ZXJuYWxzU3ltYm9sLmhhbmRsZUJvdW5kcykgfHwgbnVsbDtcbiAgdmFyIGlzSW52YWxpZCA9ICFub2RlIHx8ICFoYW5kbGVCb3VuZHMgfHwgIW5vZGUud2lkdGggfHwgIW5vZGUuaGVpZ2h0IHx8IHR5cGVvZiAoKF9ub2RlJHBvc2l0aW9uQWJzb2x1dCA9IG5vZGUucG9zaXRpb25BYnNvbHV0ZSkgPT09IG51bGwgfHwgX25vZGUkcG9zaXRpb25BYnNvbHV0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbm9kZSRwb3NpdGlvbkFic29sdXQueCkgPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiAoKF9ub2RlJHBvc2l0aW9uQWJzb2x1dDIgPSBub2RlLnBvc2l0aW9uQWJzb2x1dGUpID09PSBudWxsIHx8IF9ub2RlJHBvc2l0aW9uQWJzb2x1dDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9ub2RlJHBvc2l0aW9uQWJzb2x1dDIueSkgPT09ICd1bmRlZmluZWQnO1xuICByZXR1cm4gW3tcbiAgICB4OiAobm9kZSA9PT0gbnVsbCB8fCBub2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX25vZGUkcG9zaXRpb25BYnNvbHV0MyA9IG5vZGUucG9zaXRpb25BYnNvbHV0ZSkgPT09IG51bGwgfHwgX25vZGUkcG9zaXRpb25BYnNvbHV0MyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX25vZGUkcG9zaXRpb25BYnNvbHV0My54KSB8fCAwLFxuICAgIHk6IChub2RlID09PSBudWxsIHx8IG5vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfbm9kZSRwb3NpdGlvbkFic29sdXQ0ID0gbm9kZS5wb3NpdGlvbkFic29sdXRlKSA9PT0gbnVsbCB8fCBfbm9kZSRwb3NpdGlvbkFic29sdXQ0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbm9kZSRwb3NpdGlvbkFic29sdXQ0LnkpIHx8IDAsXG4gICAgd2lkdGg6IChub2RlID09PSBudWxsIHx8IG5vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG5vZGUud2lkdGgpIHx8IDAsXG4gICAgaGVpZ2h0OiAobm9kZSA9PT0gbnVsbCB8fCBub2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBub2RlLmhlaWdodCkgfHwgMFxuICB9LCBoYW5kbGVCb3VuZHMsICFpc0ludmFsaWRdO1xufVxuXG52YXIgZG9jID0gdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyA/IGRvY3VtZW50IDogbnVsbDsgLy8gdGhlIGtleWNvZGUgY2FuIGJlIGEgc3RyaW5nICdhJyBvciBhbiBhcnJheSBvZiBzdHJpbmdzIFsnYScsICdhK2QnXVxuLy8gYSBzdHJpbmcgbWVhbnMgYSBzaW5nbGUga2V5ICdhJyBvciBhIGNvbWJpbmF0aW9uIHdoZW4gJysnIGlzIHVzZWQgJ2ErZCdcbi8vIGFuIGFycmF5IG1lYW5zIGRpZmZlcmVudCBwb3NzaWJpbGl0ZXMuIEV4cGxhaW5lcjogWydhJywgJ2QrcyddIGhlcmUgdGhlXG4vLyB1c2VyIGNhbiB1c2UgdGhlIHNpbmdsZSBrZXkgJ2EnIG9yIHRoZSBjb21iaW5hdGlvbiAnZCcgKyAncydcblxudmFyIHVzZUtleVByZXNzID0gKGZ1bmN0aW9uICgpIHtcbiAgdmFyIGtleUNvZGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IG51bGw7XG4gIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7XG4gICAgdGFyZ2V0OiBkb2NcbiAgfTtcblxuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoZmFsc2UpLFxuICAgICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksXG4gICAgICBrZXlQcmVzc2VkID0gX3VzZVN0YXRlMlswXSxcbiAgICAgIHNldEtleVByZXNzZWQgPSBfdXNlU3RhdGUyWzFdOyAvLyB3ZSBuZWVkIHRvIHJlbWVtYmVyIHRoZSBwcmVzc2VkIGtleXMgaW4gb3JkZXIgdG8gc3VwcG9ydCBjb21iaW5hdGlvbnNcblxuXG4gIHZhciBwcmVzc2VkS2V5cyA9IHVzZVJlZihuZXcgU2V0KFtdKSk7IC8vIGtleUNvZGVzID0gYXJyYXkgd2l0aCBzaW5nbGUga2V5cyBbWydhJ11dIG9yIGtleSBjb21iaW5hdGlvbnMgW1snYScsICdzJ11dXG4gIC8vIGtleXNUb1dhdGNoID0gYXJyYXkgd2l0aCBhbGwga2V5cyBmbGF0dGVuZWQgWydhJywgJ2QnLCAnU2hpZnRMZWZ0J11cbiAgLy8gdXNlZCB0byBjaGVjayBpZiB3ZSBzdG9yZSBldmVudC5jb2RlIG9yIGV2ZW50LmtleS4gV2hlbiB0aGUgY29kZSBpcyBpbiB0aGUgbGlzdCBvZiBrZXlzVG9XYXRjaFxuICAvLyB3ZSB1c2UgdGhlIGNvZGUgb3RoZXJ3aXNlIHRoZSBrZXkuIEV4cGxhaW5lcjogV2hlbiB5b3UgcHJlc3MgdGhlIGxlZnQgXCJjb21tYW5kXCIga2V5LCB0aGUgY29kZSBpcyBcIk1ldGFMZWZ0XCJcbiAgLy8gYW5kIHRoZSBrZXkgaXMgXCJNZXRhXCIuIFdlIHdhbnQgdXNlcnMgdG8gYmUgYWJsZSB0byBwYXNzIGtleXMgYW5kIGNvZGVzIHNvIHdlIGFzc3VtZSB0aGF0IHRoZSBrZXkgaXMgbWVhbnQgd2hlblxuICAvLyB3ZSBjYW4ndCBmaW5kIGl0IGluIHRoZSBsaXN0IG9mIGtleXNUb1dhdGNoLlxuXG4gIHZhciBfdXNlTWVtbyA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIGlmIChrZXlDb2RlICE9PSBudWxsKSB7XG4gICAgICB2YXIga2V5Q29kZUFyciA9IEFycmF5LmlzQXJyYXkoa2V5Q29kZSkgPyBrZXlDb2RlIDogW2tleUNvZGVdO1xuICAgICAgdmFyIGtleXMgPSBrZXlDb2RlQXJyLmZpbHRlcihmdW5jdGlvbiAoa2MpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBrYyA9PT0gJ3N0cmluZyc7XG4gICAgICB9KS5tYXAoZnVuY3Rpb24gKGtjKSB7XG4gICAgICAgIHJldHVybiBrYy5zcGxpdCgnKycpO1xuICAgICAgfSk7XG4gICAgICB2YXIga2V5c0ZsYXQgPSBrZXlzLnJlZHVjZShmdW5jdGlvbiAocmVzLCBpdGVtKSB7XG4gICAgICAgIHJldHVybiByZXMuY29uY2F0LmFwcGx5KHJlcywgX3RvQ29uc3VtYWJsZUFycmF5KGl0ZW0pKTtcbiAgICAgIH0sIFtdKTtcbiAgICAgIHJldHVybiBba2V5cywga2V5c0ZsYXRdO1xuICAgIH1cblxuICAgIHJldHVybiBbW10sIFtdXTtcbiAgfSwgW2tleUNvZGVdKSxcbiAgICAgIF91c2VNZW1vMiA9IF9zbGljZWRUb0FycmF5KF91c2VNZW1vLCAyKSxcbiAgICAgIGtleUNvZGVzID0gX3VzZU1lbW8yWzBdLFxuICAgICAga2V5c1RvV2F0Y2ggPSBfdXNlTWVtbzJbMV07XG5cbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoa2V5Q29kZSAhPT0gbnVsbCkge1xuICAgICAgdmFyIF9vcHRpb25zJHRhcmdldCwgX29wdGlvbnMkdGFyZ2V0MjtcblxuICAgICAgdmFyIGRvd25IYW5kbGVyID0gZnVuY3Rpb24gZG93bkhhbmRsZXIoZXZlbnQpIHtcbiAgICAgICAgaWYgKGlzSW5wdXRET01Ob2RlKGV2ZW50KSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBrZXlPckNvZGUgPSB1c2VLZXlPckNvZGUoZXZlbnQuY29kZSwga2V5c1RvV2F0Y2gpO1xuICAgICAgICBwcmVzc2VkS2V5cy5jdXJyZW50LmFkZChldmVudFtrZXlPckNvZGVdKTtcblxuICAgICAgICBpZiAoaXNNYXRjaGluZ0tleShrZXlDb2RlcywgcHJlc3NlZEtleXMuY3VycmVudCwgZmFsc2UpKSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBzZXRLZXlQcmVzc2VkKHRydWUpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB2YXIgdXBIYW5kbGVyID0gZnVuY3Rpb24gdXBIYW5kbGVyKGV2ZW50KSB7XG4gICAgICAgIGlmIChpc0lucHV0RE9NTm9kZShldmVudCkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIga2V5T3JDb2RlID0gdXNlS2V5T3JDb2RlKGV2ZW50LmNvZGUsIGtleXNUb1dhdGNoKTtcblxuICAgICAgICBpZiAoaXNNYXRjaGluZ0tleShrZXlDb2RlcywgcHJlc3NlZEtleXMuY3VycmVudCwgdHJ1ZSkpIHtcbiAgICAgICAgICBzZXRLZXlQcmVzc2VkKGZhbHNlKTtcbiAgICAgICAgICBwcmVzc2VkS2V5cy5jdXJyZW50LmNsZWFyKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJlc3NlZEtleXMuY3VycmVudFtcImRlbGV0ZVwiXShldmVudFtrZXlPckNvZGVdKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdmFyIHJlc2V0SGFuZGxlciA9IGZ1bmN0aW9uIHJlc2V0SGFuZGxlcigpIHtcbiAgICAgICAgcHJlc3NlZEtleXMuY3VycmVudC5jbGVhcigpO1xuICAgICAgICBzZXRLZXlQcmVzc2VkKGZhbHNlKTtcbiAgICAgIH07XG5cbiAgICAgIG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9vcHRpb25zJHRhcmdldCA9IG9wdGlvbnMudGFyZ2V0KSA9PT0gbnVsbCB8fCBfb3B0aW9ucyR0YXJnZXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vcHRpb25zJHRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZG93bkhhbmRsZXIpO1xuICAgICAgb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX29wdGlvbnMkdGFyZ2V0MiA9IG9wdGlvbnMudGFyZ2V0KSA9PT0gbnVsbCB8fCBfb3B0aW9ucyR0YXJnZXQyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3B0aW9ucyR0YXJnZXQyLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdXBIYW5kbGVyKTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgcmVzZXRIYW5kbGVyKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfb3B0aW9ucyR0YXJnZXQzLCBfb3B0aW9ucyR0YXJnZXQ0O1xuXG4gICAgICAgIG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9vcHRpb25zJHRhcmdldDMgPSBvcHRpb25zLnRhcmdldCkgPT09IG51bGwgfHwgX29wdGlvbnMkdGFyZ2V0MyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX29wdGlvbnMkdGFyZ2V0My5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZG93bkhhbmRsZXIpO1xuICAgICAgICBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfb3B0aW9ucyR0YXJnZXQ0ID0gb3B0aW9ucy50YXJnZXQpID09PSBudWxsIHx8IF9vcHRpb25zJHRhcmdldDQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vcHRpb25zJHRhcmdldDQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB1cEhhbmRsZXIpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmx1cicsIHJlc2V0SGFuZGxlcik7XG4gICAgICB9O1xuICAgIH1cbiAgfSwgW2tleUNvZGUsIHNldEtleVByZXNzZWRdKTtcbiAgcmV0dXJuIGtleVByZXNzZWQ7XG59KTsgLy8gdXRpbHNcblxuZnVuY3Rpb24gaXNNYXRjaGluZ0tleShrZXlDb2RlcywgcHJlc3NlZEtleXMsIGlzVXApIHtcbiAgcmV0dXJuIGtleUNvZGVzIC8vIHdlIG9ubHkgd2FudCB0byBjb21wYXJlIHNhbWUgc2l6ZXMgb2Yga2V5Q29kZSBkZWZpbml0aW9uc1xuICAvLyBhbmQgcHJlc3NlZCBrZXlzLiBXaGVuIHRoZSB1c2VyIHNwZWNpZmllZCAnTWV0YScgYXMgYSBrZXkgc29tZXdoZXJlXG4gIC8vIHRoaXMgd291bGQgYWxzbyBiZSB0cnV0aHkgd2l0aG91dCB0aGlzIGZpbHRlciB3aGVuIHVzZXIgcHJlc3NlcyAnTWV0YScgKyAncidcbiAgLmZpbHRlcihmdW5jdGlvbiAoa2V5cykge1xuICAgIHJldHVybiBpc1VwIHx8IGtleXMubGVuZ3RoID09PSBwcmVzc2VkS2V5cy5zaXplO1xuICB9KSAvLyBzaW5jZSB3ZSB3YW50IHRvIHN1cHBvcnQgbXVsdGlwbGUgcG9zc2liaWxpdGllcyBvbmx5IG9uZSBvZiB0aGVcbiAgLy8gY29tYmluYXRpb25zIG5lZWQgdG8gYmUgcGFydCBvZiB0aGUgcHJlc3NlZCBrZXlzXG4gIC5zb21lKGZ1bmN0aW9uIChrZXlzKSB7XG4gICAgcmV0dXJuIGtleXMuZXZlcnkoZnVuY3Rpb24gKGspIHtcbiAgICAgIHJldHVybiBwcmVzc2VkS2V5cy5oYXMoayk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiB1c2VLZXlPckNvZGUoZXZlbnRDb2RlLCBrZXlzVG9XYXRjaCkge1xuICByZXR1cm4ga2V5c1RvV2F0Y2guaW5jbHVkZXMoZXZlbnRDb2RlKSA/ICdjb2RlJyA6ICdrZXknO1xufVxuXG5mdW5jdGlvbiBpc0lucHV0RE9NTm9kZShldmVudCkge1xuICB2YXIgX2V2ZW50JGNvbXBvc2VkUGF0aDtcblxuICAvLyB1c2luZyBjb21wb3NlZCBwYXRoIGZvciBoYW5kbGluZyBzaGFkb3cgZG9tXG4gIHZhciB0YXJnZXQgPSAoKF9ldmVudCRjb21wb3NlZFBhdGggPSBldmVudC5jb21wb3NlZFBhdGgpID09PSBudWxsIHx8IF9ldmVudCRjb21wb3NlZFBhdGggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9ldmVudCRjb21wb3NlZFBhdGguY2FsbChldmVudClbMF0pIHx8IGV2ZW50LnRhcmdldDtcbiAgcmV0dXJuIFsnSU5QVVQnLCAnU0VMRUNUJywgJ1RFWFRBUkVBJ10uaW5jbHVkZXModGFyZ2V0ID09PSBudWxsIHx8IHRhcmdldCA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGFyZ2V0Lm5vZGVOYW1lKSB8fCAodGFyZ2V0ID09PSBudWxsIHx8IHRhcmdldCA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGFyZ2V0Lmhhc0F0dHJpYnV0ZSgnY29udGVudGVkaXRhYmxlJykpO1xufVxuXG52YXIgc2VsZWN0b3IkNyA9IGZ1bmN0aW9uIHNlbGVjdG9yKHMpIHtcbiAgcmV0dXJuIHtcbiAgICBvbk5vZGVzQ2hhbmdlOiBzLm9uTm9kZXNDaGFuZ2UsXG4gICAgb25FZGdlc0NoYW5nZTogcy5vbkVkZ2VzQ2hhbmdlXG4gIH07XG59O1xuXG52YXIgdXNlR2xvYmFsS2V5SGFuZGxlciA9IChmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgZGVsZXRlS2V5Q29kZSA9IF9yZWYuZGVsZXRlS2V5Q29kZSxcbiAgICAgIG11bHRpU2VsZWN0aW9uS2V5Q29kZSA9IF9yZWYubXVsdGlTZWxlY3Rpb25LZXlDb2RlO1xuICB2YXIgc3RvcmUgPSB1c2VTdG9yZUFwaSgpO1xuXG4gIHZhciBfdXNlU3RvcmUgPSB1c2VTdG9yZShzZWxlY3RvciQ3LCBzaGFsbG93KSxcbiAgICAgIG9uTm9kZXNDaGFuZ2UgPSBfdXNlU3RvcmUub25Ob2Rlc0NoYW5nZSxcbiAgICAgIG9uRWRnZXNDaGFuZ2UgPSBfdXNlU3RvcmUub25FZGdlc0NoYW5nZTtcblxuICB2YXIgZGVsZXRlS2V5UHJlc3NlZCA9IHVzZUtleVByZXNzKGRlbGV0ZUtleUNvZGUpO1xuICB2YXIgbXVsdGlTZWxlY3Rpb25LZXlQcmVzc2VkID0gdXNlS2V5UHJlc3MobXVsdGlTZWxlY3Rpb25LZXlDb2RlKTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3N0b3JlJGdldFN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKSxcbiAgICAgICAgbm9kZUludGVybmFscyA9IF9zdG9yZSRnZXRTdGF0ZS5ub2RlSW50ZXJuYWxzLFxuICAgICAgICBlZGdlcyA9IF9zdG9yZSRnZXRTdGF0ZS5lZGdlcyxcbiAgICAgICAgaGFzRGVmYXVsdE5vZGVzID0gX3N0b3JlJGdldFN0YXRlLmhhc0RlZmF1bHROb2RlcyxcbiAgICAgICAgaGFzRGVmYXVsdEVkZ2VzID0gX3N0b3JlJGdldFN0YXRlLmhhc0RlZmF1bHRFZGdlcyxcbiAgICAgICAgb25Ob2Rlc0RlbGV0ZSA9IF9zdG9yZSRnZXRTdGF0ZS5vbk5vZGVzRGVsZXRlLFxuICAgICAgICBvbkVkZ2VzRGVsZXRlID0gX3N0b3JlJGdldFN0YXRlLm9uRWRnZXNEZWxldGU7XG5cbiAgICB2YXIgbm9kZXMgPSBBcnJheS5mcm9tKG5vZGVJbnRlcm5hbHMudmFsdWVzKCkpO1xuICAgIHZhciBub2Rlc1RvUmVtb3ZlID0gbm9kZXMucmVkdWNlKGZ1bmN0aW9uIChyZXMsIG5vZGUpIHtcbiAgICAgIGlmICghbm9kZS5zZWxlY3RlZCAmJiBub2RlLnBhcmVudE5vZGUgJiYgcmVzLmZpbmQoZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgcmV0dXJuIG4uaWQgPT09IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgIH0pKSB7XG4gICAgICAgIHJlcy5wdXNoKG5vZGUpO1xuICAgICAgfSBlbHNlIGlmIChub2RlLnNlbGVjdGVkKSB7XG4gICAgICAgIHJlcy5wdXNoKG5vZGUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzO1xuICAgIH0sIFtdKTtcbiAgICB2YXIgc2VsZWN0ZWRFZGdlcyA9IGVkZ2VzLmZpbHRlcihmdW5jdGlvbiAoZSkge1xuICAgICAgcmV0dXJuIGUuc2VsZWN0ZWQ7XG4gICAgfSk7XG5cbiAgICBpZiAoZGVsZXRlS2V5UHJlc3NlZCAmJiAobm9kZXNUb1JlbW92ZSB8fCBzZWxlY3RlZEVkZ2VzKSkge1xuICAgICAgdmFyIGNvbm5lY3RlZEVkZ2VzID0gZ2V0Q29ubmVjdGVkRWRnZXMobm9kZXNUb1JlbW92ZSwgZWRnZXMpO1xuICAgICAgdmFyIGVkZ2VzVG9SZW1vdmUgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHNlbGVjdGVkRWRnZXMpLCBfdG9Db25zdW1hYmxlQXJyYXkoY29ubmVjdGVkRWRnZXMpKTtcbiAgICAgIHZhciBlZGdlSWRzVG9SZW1vdmUgPSBlZGdlc1RvUmVtb3ZlLnJlZHVjZShmdW5jdGlvbiAocmVzLCBlZGdlKSB7XG4gICAgICAgIGlmICghcmVzLmluY2x1ZGVzKGVkZ2UuaWQpKSB7XG4gICAgICAgICAgcmVzLnB1c2goZWRnZS5pZCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgfSwgW10pO1xuXG4gICAgICBpZiAoaGFzRGVmYXVsdEVkZ2VzIHx8IGhhc0RlZmF1bHROb2Rlcykge1xuICAgICAgICBpZiAoaGFzRGVmYXVsdEVkZ2VzKSB7XG4gICAgICAgICAgc3RvcmUuc2V0U3RhdGUoe1xuICAgICAgICAgICAgZWRnZXM6IGVkZ2VzLmZpbHRlcihmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICByZXR1cm4gIWVkZ2VJZHNUb1JlbW92ZS5pbmNsdWRlcyhlLmlkKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzRGVmYXVsdE5vZGVzKSB7XG4gICAgICAgICAgbm9kZXNUb1JlbW92ZS5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICBub2RlSW50ZXJuYWxzW1wiZGVsZXRlXCJdKG5vZGUuaWQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHN0b3JlLnNldFN0YXRlKHtcbiAgICAgICAgICAgIG5vZGVJbnRlcm5hbHM6IG5ldyBNYXAobm9kZUludGVybmFscylcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZWRnZUlkc1RvUmVtb3ZlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgb25FZGdlc0RlbGV0ZSA9PT0gbnVsbCB8fCBvbkVkZ2VzRGVsZXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbkVkZ2VzRGVsZXRlKGVkZ2VzVG9SZW1vdmUpO1xuXG4gICAgICAgIGlmIChvbkVkZ2VzQ2hhbmdlKSB7XG4gICAgICAgICAgdmFyIGVkZ2VDaGFuZ2VzID0gZWRnZUlkc1RvUmVtb3ZlLm1hcChmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgICAgdHlwZTogJ3JlbW92ZSdcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgb25FZGdlc0NoYW5nZShlZGdlQ2hhbmdlcyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKG5vZGVzVG9SZW1vdmUubGVuZ3RoID4gMCkge1xuICAgICAgICBvbk5vZGVzRGVsZXRlID09PSBudWxsIHx8IG9uTm9kZXNEZWxldGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uTm9kZXNEZWxldGUobm9kZXNUb1JlbW92ZSk7XG5cbiAgICAgICAgaWYgKG9uTm9kZXNDaGFuZ2UpIHtcbiAgICAgICAgICB2YXIgbm9kZUNoYW5nZXMgPSBub2Rlc1RvUmVtb3ZlLm1hcChmdW5jdGlvbiAobikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgaWQ6IG4uaWQsXG4gICAgICAgICAgICAgIHR5cGU6ICdyZW1vdmUnXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIG9uTm9kZXNDaGFuZ2Uobm9kZUNoYW5nZXMpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHN0b3JlLnNldFN0YXRlKHtcbiAgICAgICAgbm9kZXNTZWxlY3Rpb25BY3RpdmU6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFtkZWxldGVLZXlQcmVzc2VkLCBvbk5vZGVzQ2hhbmdlLCBvbkVkZ2VzQ2hhbmdlXSk7XG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgc3RvcmUuc2V0U3RhdGUoe1xuICAgICAgbXVsdGlTZWxlY3Rpb25BY3RpdmU6IG11bHRpU2VsZWN0aW9uS2V5UHJlc3NlZFxuICAgIH0pO1xuICB9LCBbbXVsdGlTZWxlY3Rpb25LZXlQcmVzc2VkXSk7XG59KTtcblxuZnVuY3Rpb24gdXNlUmVzaXplSGFuZGxlcihyZW5kZXJlck5vZGUpIHtcbiAgdmFyIHN0b3JlID0gdXNlU3RvcmVBcGkoKTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmVzaXplT2JzZXJ2ZXI7XG5cbiAgICB2YXIgdXBkYXRlRGltZW5zaW9ucyA9IGZ1bmN0aW9uIHVwZGF0ZURpbWVuc2lvbnMoKSB7XG4gICAgICBpZiAoIXJlbmRlcmVyTm9kZS5jdXJyZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHNpemUgPSBnZXREaW1lbnNpb25zKHJlbmRlcmVyTm9kZS5jdXJyZW50KTsgLy8gQHRzLWlnbm9yZVxuXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgICAgaWYgKHNpemUuaGVpZ2h0ID09PSAwIHx8IHNpemUud2lkdGggPT09IDApIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ1tSZWFjdCBGbG93XTogVGhlIFJlYWN0IEZsb3cgcGFyZW50IGNvbnRhaW5lciBuZWVkcyBhIHdpZHRoIGFuZCBhIGhlaWdodCB0byByZW5kZXIgdGhlIGdyYXBoLiBIZWxwOiBodHRwczovL3JlYWN0Zmxvdy5kZXYvZXJyb3IjNDAwJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgc3RvcmUuc2V0U3RhdGUoe1xuICAgICAgICB3aWR0aDogc2l6ZS53aWR0aCB8fCA1MDAsXG4gICAgICAgIGhlaWdodDogc2l6ZS5oZWlnaHQgfHwgNTAwXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdXBkYXRlRGltZW5zaW9ucygpO1xuICAgIHdpbmRvdy5vbnJlc2l6ZSA9IHVwZGF0ZURpbWVuc2lvbnM7XG5cbiAgICBpZiAocmVuZGVyZXJOb2RlLmN1cnJlbnQpIHtcbiAgICAgIHJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZURpbWVuc2lvbnMoKTtcbiAgICAgIH0pO1xuICAgICAgcmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZShyZW5kZXJlck5vZGUuY3VycmVudCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHdpbmRvdy5vbnJlc2l6ZSA9IG51bGw7XG5cbiAgICAgIGlmIChyZXNpemVPYnNlcnZlciAmJiByZW5kZXJlck5vZGUuY3VycmVudCkge1xuICAgICAgICByZXNpemVPYnNlcnZlci51bm9ic2VydmUocmVuZGVyZXJOb2RlLmN1cnJlbnQpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtdKTtcbn1cblxudmFyIHZpZXdDaGFuZ2VkID0gZnVuY3Rpb24gdmlld0NoYW5nZWQocHJldlZpZXdwb3J0LCBldmVudFZpZXdwb3J0KSB7XG4gIHJldHVybiBwcmV2Vmlld3BvcnQueCAhPT0gZXZlbnRWaWV3cG9ydC54IHx8IHByZXZWaWV3cG9ydC55ICE9PSBldmVudFZpZXdwb3J0LnkgfHwgcHJldlZpZXdwb3J0Lnpvb20gIT09IGV2ZW50Vmlld3BvcnQuaztcbn07XG5cbnZhciBldmVudFRvRmxvd1RyYW5zZm9ybSA9IGZ1bmN0aW9uIGV2ZW50VG9GbG93VHJhbnNmb3JtKGV2ZW50Vmlld3BvcnQpIHtcbiAgcmV0dXJuIHtcbiAgICB4OiBldmVudFZpZXdwb3J0LngsXG4gICAgeTogZXZlbnRWaWV3cG9ydC55LFxuICAgIHpvb206IGV2ZW50Vmlld3BvcnQua1xuICB9O1xufTtcblxudmFyIGlzV3JhcHBlZFdpdGhDbGFzcyA9IGZ1bmN0aW9uIGlzV3JhcHBlZFdpdGhDbGFzcyhldmVudCwgY2xhc3NOYW1lKSB7XG4gIHJldHVybiBldmVudC50YXJnZXQuY2xvc2VzdChcIi5cIi5jb25jYXQoY2xhc3NOYW1lKSk7XG59O1xuXG52YXIgc2VsZWN0b3IkNiA9IGZ1bmN0aW9uIHNlbGVjdG9yKHMpIHtcbiAgcmV0dXJuIHtcbiAgICBkM1pvb206IHMuZDNab29tLFxuICAgIGQzU2VsZWN0aW9uOiBzLmQzU2VsZWN0aW9uLFxuICAgIGQzWm9vbUhhbmRsZXI6IHMuZDNab29tSGFuZGxlclxuICB9O1xufTtcblxudmFyIFpvb21QYW5lID0gZnVuY3Rpb24gWm9vbVBhbmUoX3JlZikge1xuICB2YXIgb25Nb3ZlID0gX3JlZi5vbk1vdmUsXG4gICAgICBvbk1vdmVTdGFydCA9IF9yZWYub25Nb3ZlU3RhcnQsXG4gICAgICBvbk1vdmVFbmQgPSBfcmVmLm9uTW92ZUVuZCxcbiAgICAgIF9yZWYkem9vbU9uU2Nyb2xsID0gX3JlZi56b29tT25TY3JvbGwsXG4gICAgICB6b29tT25TY3JvbGwgPSBfcmVmJHpvb21PblNjcm9sbCA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9yZWYkem9vbU9uU2Nyb2xsLFxuICAgICAgX3JlZiR6b29tT25QaW5jaCA9IF9yZWYuem9vbU9uUGluY2gsXG4gICAgICB6b29tT25QaW5jaCA9IF9yZWYkem9vbU9uUGluY2ggPT09IHZvaWQgMCA/IHRydWUgOiBfcmVmJHpvb21PblBpbmNoLFxuICAgICAgX3JlZiRwYW5PblNjcm9sbCA9IF9yZWYucGFuT25TY3JvbGwsXG4gICAgICBwYW5PblNjcm9sbCA9IF9yZWYkcGFuT25TY3JvbGwgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRwYW5PblNjcm9sbCxcbiAgICAgIF9yZWYkcGFuT25TY3JvbGxTcGVlZCA9IF9yZWYucGFuT25TY3JvbGxTcGVlZCxcbiAgICAgIHBhbk9uU2Nyb2xsU3BlZWQgPSBfcmVmJHBhbk9uU2Nyb2xsU3BlZWQgPT09IHZvaWQgMCA/IDAuNSA6IF9yZWYkcGFuT25TY3JvbGxTcGVlZCxcbiAgICAgIF9yZWYkcGFuT25TY3JvbGxNb2RlID0gX3JlZi5wYW5PblNjcm9sbE1vZGUsXG4gICAgICBwYW5PblNjcm9sbE1vZGUgPSBfcmVmJHBhbk9uU2Nyb2xsTW9kZSA9PT0gdm9pZCAwID8gUGFuT25TY3JvbGxNb2RlLkZyZWUgOiBfcmVmJHBhbk9uU2Nyb2xsTW9kZSxcbiAgICAgIF9yZWYkem9vbU9uRG91YmxlQ2xpYyA9IF9yZWYuem9vbU9uRG91YmxlQ2xpY2ssXG4gICAgICB6b29tT25Eb3VibGVDbGljayA9IF9yZWYkem9vbU9uRG91YmxlQ2xpYyA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9yZWYkem9vbU9uRG91YmxlQ2xpYyxcbiAgICAgIHNlbGVjdGlvbktleVByZXNzZWQgPSBfcmVmLnNlbGVjdGlvbktleVByZXNzZWQsXG4gICAgICBlbGVtZW50c1NlbGVjdGFibGUgPSBfcmVmLmVsZW1lbnRzU2VsZWN0YWJsZSxcbiAgICAgIF9yZWYkcGFuT25EcmFnID0gX3JlZi5wYW5PbkRyYWcsXG4gICAgICBwYW5PbkRyYWcgPSBfcmVmJHBhbk9uRHJhZyA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9yZWYkcGFuT25EcmFnLFxuICAgICAgdHJhbnNsYXRlRXh0ZW50ID0gX3JlZi50cmFuc2xhdGVFeHRlbnQsXG4gICAgICBtaW5ab29tID0gX3JlZi5taW5ab29tLFxuICAgICAgbWF4Wm9vbSA9IF9yZWYubWF4Wm9vbSxcbiAgICAgIF9yZWYkZGVmYXVsdFpvb20gPSBfcmVmLmRlZmF1bHRab29tLFxuICAgICAgZGVmYXVsdFpvb20gPSBfcmVmJGRlZmF1bHRab29tID09PSB2b2lkIDAgPyAxIDogX3JlZiRkZWZhdWx0Wm9vbSxcbiAgICAgIF9yZWYkZGVmYXVsdFBvc2l0aW9uID0gX3JlZi5kZWZhdWx0UG9zaXRpb24sXG4gICAgICBkZWZhdWx0UG9zaXRpb24gPSBfcmVmJGRlZmF1bHRQb3NpdGlvbiA9PT0gdm9pZCAwID8gWzAsIDBdIDogX3JlZiRkZWZhdWx0UG9zaXRpb24sXG4gICAgICB6b29tQWN0aXZhdGlvbktleUNvZGUgPSBfcmVmLnpvb21BY3RpdmF0aW9uS2V5Q29kZSxcbiAgICAgIF9yZWYkcHJldmVudFNjcm9sbGluZyA9IF9yZWYucHJldmVudFNjcm9sbGluZyxcbiAgICAgIHByZXZlbnRTY3JvbGxpbmcgPSBfcmVmJHByZXZlbnRTY3JvbGxpbmcgPT09IHZvaWQgMCA/IHRydWUgOiBfcmVmJHByZXZlbnRTY3JvbGxpbmcsXG4gICAgICBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW4sXG4gICAgICBub1doZWVsQ2xhc3NOYW1lID0gX3JlZi5ub1doZWVsQ2xhc3NOYW1lLFxuICAgICAgbm9QYW5DbGFzc05hbWUgPSBfcmVmLm5vUGFuQ2xhc3NOYW1lO1xuICB2YXIgc3RvcmUgPSB1c2VTdG9yZUFwaSgpO1xuICB2YXIgaXNab29taW5nT3JQYW5uaW5nID0gdXNlUmVmKGZhbHNlKTtcbiAgdmFyIHpvb21QYW5lID0gdXNlUmVmKG51bGwpO1xuICB2YXIgcHJldlRyYW5zZm9ybSA9IHVzZVJlZih7XG4gICAgeDogMCxcbiAgICB5OiAwLFxuICAgIHpvb206IDBcbiAgfSk7XG5cbiAgdmFyIF91c2VTdG9yZSA9IHVzZVN0b3JlKHNlbGVjdG9yJDYsIHNoYWxsb3cpLFxuICAgICAgZDNab29tID0gX3VzZVN0b3JlLmQzWm9vbSxcbiAgICAgIGQzU2VsZWN0aW9uID0gX3VzZVN0b3JlLmQzU2VsZWN0aW9uLFxuICAgICAgZDNab29tSGFuZGxlciA9IF91c2VTdG9yZS5kM1pvb21IYW5kbGVyO1xuXG4gIHZhciB6b29tQWN0aXZhdGlvbktleVByZXNzZWQgPSB1c2VLZXlQcmVzcyh6b29tQWN0aXZhdGlvbktleUNvZGUpO1xuICB1c2VSZXNpemVIYW5kbGVyKHpvb21QYW5lKTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoem9vbVBhbmUuY3VycmVudCkge1xuICAgICAgdmFyIF9zZWxlY3Rpb24kbm9kZTtcblxuICAgICAgdmFyIGQzWm9vbUluc3RhbmNlID0gem9vbSgpLnNjYWxlRXh0ZW50KFttaW5ab29tLCBtYXhab29tXSkudHJhbnNsYXRlRXh0ZW50KHRyYW5zbGF0ZUV4dGVudCk7XG4gICAgICB2YXIgc2VsZWN0aW9uID0gc2VsZWN0KHpvb21QYW5lLmN1cnJlbnQpLmNhbGwoZDNab29tSW5zdGFuY2UpO1xuICAgICAgdmFyIGNsYW1wZWRYID0gY2xhbXAoZGVmYXVsdFBvc2l0aW9uWzBdLCB0cmFuc2xhdGVFeHRlbnRbMF1bMF0sIHRyYW5zbGF0ZUV4dGVudFsxXVswXSk7XG4gICAgICB2YXIgY2xhbXBlZFkgPSBjbGFtcChkZWZhdWx0UG9zaXRpb25bMV0sIHRyYW5zbGF0ZUV4dGVudFswXVsxXSwgdHJhbnNsYXRlRXh0ZW50WzFdWzFdKTtcbiAgICAgIHZhciBjbGFtcGVkWm9vbSA9IGNsYW1wKGRlZmF1bHRab29tLCBtaW5ab29tLCBtYXhab29tKTtcbiAgICAgIHZhciB1cGRhdGVkVHJhbnNmb3JtID0gem9vbUlkZW50aXR5LnRyYW5zbGF0ZShjbGFtcGVkWCwgY2xhbXBlZFkpLnNjYWxlKGNsYW1wZWRab29tKTtcbiAgICAgIGQzWm9vbUluc3RhbmNlLnRyYW5zZm9ybShzZWxlY3Rpb24sIHVwZGF0ZWRUcmFuc2Zvcm0pO1xuICAgICAgc3RvcmUuc2V0U3RhdGUoe1xuICAgICAgICBkM1pvb206IGQzWm9vbUluc3RhbmNlLFxuICAgICAgICBkM1NlbGVjdGlvbjogc2VsZWN0aW9uLFxuICAgICAgICBkM1pvb21IYW5kbGVyOiBzZWxlY3Rpb24ub24oJ3doZWVsLnpvb20nKSxcbiAgICAgICAgLy8gd2UgbmVlZCB0byBwYXNzIHRyYW5zZm9ybSBiZWNhdXNlIHpvb20gaGFuZGxlciBpcyBub3QgcmVnaXN0ZXJlZCB3aGVuIHdlIHNldCB0aGUgaW5pdGlhbCB0cmFuc2Zvcm1cbiAgICAgICAgdHJhbnNmb3JtOiBbY2xhbXBlZFgsIGNsYW1wZWRZLCBjbGFtcGVkWm9vbV0sXG4gICAgICAgIGRvbU5vZGU6IChfc2VsZWN0aW9uJG5vZGUgPSBzZWxlY3Rpb24ubm9kZSgpKSA9PT0gbnVsbCB8fCBfc2VsZWN0aW9uJG5vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zZWxlY3Rpb24kbm9kZS5jbG9zZXN0KCcucmVhY3QtZmxvdycpXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFtdKTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoZDNTZWxlY3Rpb24gJiYgZDNab29tKSB7XG4gICAgICBpZiAocGFuT25TY3JvbGwgJiYgIXpvb21BY3RpdmF0aW9uS2V5UHJlc3NlZCkge1xuICAgICAgICBkM1NlbGVjdGlvbi5vbignd2hlZWwnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICBpZiAoaXNXcmFwcGVkV2l0aENsYXNzKGV2ZW50LCBub1doZWVsQ2xhc3NOYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgdmFyIGN1cnJlbnRab29tID0gZDNTZWxlY3Rpb24ucHJvcGVydHkoJ19fem9vbScpLmsgfHwgMTtcblxuICAgICAgICAgIGlmIChldmVudC5jdHJsS2V5ICYmIHpvb21PblBpbmNoKSB7XG4gICAgICAgICAgICB2YXIgcG9pbnQgPSBwb2ludGVyKGV2ZW50KTsgLy8gdGFrZW4gZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZDMvZDMtem9vbS9ibG9iL21hc3Rlci9zcmMvem9vbS5qc1xuXG4gICAgICAgICAgICB2YXIgcGluY2hEZWx0YSA9IC1ldmVudC5kZWx0YVkgKiAoZXZlbnQuZGVsdGFNb2RlID09PSAxID8gMC4wNSA6IGV2ZW50LmRlbHRhTW9kZSA/IDEgOiAwLjAwMikgKiAxMDtcblxuICAgICAgICAgICAgdmFyIF96b29tID0gY3VycmVudFpvb20gKiBNYXRoLnBvdygyLCBwaW5jaERlbHRhKTtcblxuICAgICAgICAgICAgZDNab29tLnNjYWxlVG8oZDNTZWxlY3Rpb24sIF96b29tLCBwb2ludCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfSAvLyBpbmNyZWFzZSBzY3JvbGwgc3BlZWQgaW4gZmlyZWZveFxuICAgICAgICAgIC8vIGZpcmVmb3g6IGRlbHRhTW9kZSA9PT0gMTsgY2hyb21lOiBkZWx0YU1vZGUgPT09IDBcblxuXG4gICAgICAgICAgdmFyIGRlbHRhTm9ybWFsaXplID0gZXZlbnQuZGVsdGFNb2RlID09PSAxID8gMjAgOiAxO1xuICAgICAgICAgIHZhciBkZWx0YVggPSBwYW5PblNjcm9sbE1vZGUgPT09IFBhbk9uU2Nyb2xsTW9kZS5WZXJ0aWNhbCA/IDAgOiBldmVudC5kZWx0YVggKiBkZWx0YU5vcm1hbGl6ZTtcbiAgICAgICAgICB2YXIgZGVsdGFZID0gcGFuT25TY3JvbGxNb2RlID09PSBQYW5PblNjcm9sbE1vZGUuSG9yaXpvbnRhbCA/IDAgOiBldmVudC5kZWx0YVkgKiBkZWx0YU5vcm1hbGl6ZTtcbiAgICAgICAgICBkM1pvb20udHJhbnNsYXRlQnkoZDNTZWxlY3Rpb24sIC0oZGVsdGFYIC8gY3VycmVudFpvb20pICogcGFuT25TY3JvbGxTcGVlZCwgLShkZWx0YVkgLyBjdXJyZW50Wm9vbSkgKiBwYW5PblNjcm9sbFNwZWVkKTtcbiAgICAgICAgfSkub24oJ3doZWVsLnpvb20nLCBudWxsKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGQzWm9vbUhhbmRsZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGQzU2VsZWN0aW9uLm9uKCd3aGVlbCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIGlmICghcHJldmVudFNjcm9sbGluZyB8fCBpc1dyYXBwZWRXaXRoQ2xhc3MoZXZlbnQsIG5vV2hlZWxDbGFzc05hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9KS5vbignd2hlZWwuem9vbScsIGQzWm9vbUhhbmRsZXIpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW3Bhbk9uU2Nyb2xsLCBwYW5PblNjcm9sbE1vZGUsIGQzU2VsZWN0aW9uLCBkM1pvb20sIGQzWm9vbUhhbmRsZXIsIHpvb21BY3RpdmF0aW9uS2V5UHJlc3NlZCwgem9vbU9uUGluY2gsIHByZXZlbnRTY3JvbGxpbmcsIG5vV2hlZWxDbGFzc05hbWVdKTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoZDNab29tKSB7XG4gICAgICBpZiAoc2VsZWN0aW9uS2V5UHJlc3NlZCAmJiAhaXNab29taW5nT3JQYW5uaW5nLmN1cnJlbnQpIHtcbiAgICAgICAgZDNab29tLm9uKCd6b29tJywgbnVsbCk7XG4gICAgICB9IGVsc2UgaWYgKCFzZWxlY3Rpb25LZXlQcmVzc2VkKSB7XG4gICAgICAgIGQzWm9vbS5vbignem9vbScsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIHN0b3JlLnNldFN0YXRlKHtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogW2V2ZW50LnRyYW5zZm9ybS54LCBldmVudC50cmFuc2Zvcm0ueSwgZXZlbnQudHJhbnNmb3JtLmtdXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAob25Nb3ZlKSB7XG4gICAgICAgICAgICB2YXIgZmxvd1RyYW5zZm9ybSA9IGV2ZW50VG9GbG93VHJhbnNmb3JtKGV2ZW50LnRyYW5zZm9ybSk7XG4gICAgICAgICAgICBvbk1vdmUoZXZlbnQuc291cmNlRXZlbnQsIGZsb3dUcmFuc2Zvcm0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbc2VsZWN0aW9uS2V5UHJlc3NlZCwgZDNab29tLCBvbk1vdmVdKTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoZDNab29tKSB7XG4gICAgICBkM1pvb20ub24oJ3N0YXJ0JywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlzWm9vbWluZ09yUGFubmluZy5jdXJyZW50ID0gdHJ1ZTtcblxuICAgICAgICBpZiAob25Nb3ZlU3RhcnQpIHtcbiAgICAgICAgICB2YXIgZmxvd1RyYW5zZm9ybSA9IGV2ZW50VG9GbG93VHJhbnNmb3JtKGV2ZW50LnRyYW5zZm9ybSk7XG4gICAgICAgICAgcHJldlRyYW5zZm9ybS5jdXJyZW50ID0gZmxvd1RyYW5zZm9ybTtcbiAgICAgICAgICBvbk1vdmVTdGFydChldmVudC5zb3VyY2VFdmVudCwgZmxvd1RyYW5zZm9ybSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2QzWm9vbSwgb25Nb3ZlU3RhcnRdKTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoZDNab29tKSB7XG4gICAgICBkM1pvb20ub24oJ2VuZCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpc1pvb21pbmdPclBhbm5pbmcuY3VycmVudCA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChvbk1vdmVFbmQgJiYgdmlld0NoYW5nZWQocHJldlRyYW5zZm9ybS5jdXJyZW50LCBldmVudC50cmFuc2Zvcm0pKSB7XG4gICAgICAgICAgdmFyIGZsb3dUcmFuc2Zvcm0gPSBldmVudFRvRmxvd1RyYW5zZm9ybShldmVudC50cmFuc2Zvcm0pO1xuICAgICAgICAgIHByZXZUcmFuc2Zvcm0uY3VycmVudCA9IGZsb3dUcmFuc2Zvcm07XG4gICAgICAgICAgb25Nb3ZlRW5kKGV2ZW50LnNvdXJjZUV2ZW50LCBmbG93VHJhbnNmb3JtKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbZDNab29tLCBvbk1vdmVFbmRdKTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoZDNab29tKSB7XG4gICAgICBkM1pvb20uZmlsdGVyKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgem9vbVNjcm9sbCA9IHpvb21BY3RpdmF0aW9uS2V5UHJlc3NlZCB8fCB6b29tT25TY3JvbGw7XG4gICAgICAgIHZhciBwaW5jaFpvb20gPSB6b29tT25QaW5jaCAmJiBldmVudC5jdHJsS2V5OyAvLyBpZiBhbGwgaW50ZXJhY3Rpb25zIGFyZSBkaXNhYmxlZCwgd2UgcHJldmVudCBhbGwgem9vbSBldmVudHNcblxuICAgICAgICBpZiAoIXBhbk9uRHJhZyAmJiAhem9vbVNjcm9sbCAmJiAhcGFuT25TY3JvbGwgJiYgIXpvb21PbkRvdWJsZUNsaWNrICYmICF6b29tT25QaW5jaCkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSAvLyBkdXJpbmcgYSBzZWxlY3Rpb24gd2UgcHJldmVudCBhbGwgb3RoZXIgaW50ZXJhY3Rpb25zXG5cblxuICAgICAgICBpZiAoc2VsZWN0aW9uS2V5UHJlc3NlZCkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSAvLyBpZiB6b29tIG9uIGRvdWJsZSBjbGljayBpcyBkaXNhYmxlZCwgd2UgcHJldmVudCB0aGUgZG91YmxlIGNsaWNrIGV2ZW50XG5cblxuICAgICAgICBpZiAoIXpvb21PbkRvdWJsZUNsaWNrICYmIGV2ZW50LnR5cGUgPT09ICdkYmxjbGljaycpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gLy8gaWYgdGhlIHRhcmdldCBlbGVtZW50IGlzIGluc2lkZSBhbiBlbGVtZW50IHdpdGggdGhlIG5vd2hlZWwgY2xhc3MsIHdlIHByZXZlbnQgem9vbWluZ1xuXG5cbiAgICAgICAgaWYgKGlzV3JhcHBlZFdpdGhDbGFzcyhldmVudCwgbm9XaGVlbENsYXNzTmFtZSkgJiYgZXZlbnQudHlwZSA9PT0gJ3doZWVsJykge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSAvLyBpZiB0aGUgdGFyZ2V0IGVsZW1lbnQgaXMgaW5zaWRlIGFuIGVsZW1lbnQgd2l0aCB0aGUgbm9wYW4gY2xhc3MsIHdlIHByZXZlbnQgcGFubmluZ1xuXG5cbiAgICAgICAgaWYgKGlzV3JhcHBlZFdpdGhDbGFzcyhldmVudCwgbm9QYW5DbGFzc05hbWUpICYmIGV2ZW50LnR5cGUgIT09ICd3aGVlbCcpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXpvb21PblBpbmNoICYmIGV2ZW50LmN0cmxLZXkgJiYgZXZlbnQudHlwZSA9PT0gJ3doZWVsJykge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSAvLyB3aGVuIHRoZXJlIGlzIG5vIHNjcm9sbCBoYW5kbGluZyBlbmFibGVkLCB3ZSBwcmV2ZW50IGFsbCB3aGVlbCBldmVudHNcblxuXG4gICAgICAgIGlmICghem9vbVNjcm9sbCAmJiAhcGFuT25TY3JvbGwgJiYgIXBpbmNoWm9vbSAmJiBldmVudC50eXBlID09PSAnd2hlZWwnKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IC8vIGlmIHRoZSBwYW5lIGlzIG5vdCBtb3ZhYmxlLCB3ZSBwcmV2ZW50IGRyYWdnaW5nIGl0IHdpdGggbW91c2VzdGFydCBvciB0b3VjaHN0YXJ0XG5cblxuICAgICAgICBpZiAoIXBhbk9uRHJhZyAmJiAoZXZlbnQudHlwZSA9PT0gJ21vdXNlZG93bicgfHwgZXZlbnQudHlwZSA9PT0gJ3RvdWNoc3RhcnQnKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSAvLyBkZWZhdWx0IGZpbHRlciBmb3IgZDMtem9vbVxuXG5cbiAgICAgICAgcmV0dXJuICghZXZlbnQuY3RybEtleSB8fCBldmVudC50eXBlID09PSAnd2hlZWwnKSAmJiAhZXZlbnQuYnV0dG9uO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbZDNab29tLCB6b29tT25TY3JvbGwsIHpvb21PblBpbmNoLCBwYW5PblNjcm9sbCwgem9vbU9uRG91YmxlQ2xpY2ssIHBhbk9uRHJhZywgc2VsZWN0aW9uS2V5UHJlc3NlZCwgZWxlbWVudHNTZWxlY3RhYmxlLCB6b29tQWN0aXZhdGlvbktleVByZXNzZWRdKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwicmVhY3QtZmxvd19fcmVuZGVyZXIgcmVhY3QtZmxvd19fY29udGFpbmVyXCIsXG4gICAgcmVmOiB6b29tUGFuZVxuICB9LCBjaGlsZHJlbik7XG59O1xuXG5mdW5jdGlvbiBvd25LZXlzJDcob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBlbnVtZXJhYmxlT25seSAmJiAoc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pKSwga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQkNyh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IG51bGwgIT0gYXJndW1lbnRzW2ldID8gYXJndW1lbnRzW2ldIDoge307IGkgJSAyID8gb3duS2V5cyQ3KE9iamVjdChzb3VyY2UpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKSA6IG93bktleXMkNyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIGdldE1vdXNlUG9zaXRpb24oZXZlbnQsIGNvbnRhaW5lckJvdW5kcykge1xuICByZXR1cm4ge1xuICAgIHg6IGV2ZW50LmNsaWVudFggLSBjb250YWluZXJCb3VuZHMubGVmdCxcbiAgICB5OiBldmVudC5jbGllbnRZIC0gY29udGFpbmVyQm91bmRzLnRvcFxuICB9O1xufVxuXG52YXIgc2VsZWN0b3IkNSA9IGZ1bmN0aW9uIHNlbGVjdG9yKHMpIHtcbiAgcmV0dXJuIHtcbiAgICB1c2VyU2VsZWN0aW9uQWN0aXZlOiBzLnVzZXJTZWxlY3Rpb25BY3RpdmUsXG4gICAgZWxlbWVudHNTZWxlY3RhYmxlOiBzLmVsZW1lbnRzU2VsZWN0YWJsZVxuICB9O1xufTtcblxudmFyIGluaXRpYWxSZWN0ID0ge1xuICBzdGFydFg6IDAsXG4gIHN0YXJ0WTogMCxcbiAgeDogMCxcbiAgeTogMCxcbiAgd2lkdGg6IDAsXG4gIGhlaWdodDogMCxcbiAgZHJhdzogZmFsc2Vcbn07XG52YXIgVXNlclNlbGVjdGlvbiA9IC8qI19fUFVSRV9fKi9tZW1vKGZ1bmN0aW9uIChfcmVmKSB7XG4gIHZhciBzZWxlY3Rpb25LZXlQcmVzc2VkID0gX3JlZi5zZWxlY3Rpb25LZXlQcmVzc2VkO1xuICB2YXIgc3RvcmUgPSB1c2VTdG9yZUFwaSgpO1xuICB2YXIgcHJldlNlbGVjdGVkTm9kZXNDb3VudCA9IHVzZVJlZigwKTtcbiAgdmFyIHByZXZTZWxlY3RlZEVkZ2VzQ291bnQgPSB1c2VSZWYoMCk7XG4gIHZhciBjb250YWluZXJCb3VuZHMgPSB1c2VSZWYoKTtcblxuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoaW5pdGlhbFJlY3QpLFxuICAgICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksXG4gICAgICB1c2VyU2VsZWN0aW9uUmVjdCA9IF91c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRVc2VyU2VsZWN0aW9uUmVjdCA9IF91c2VTdGF0ZTJbMV07XG5cbiAgdmFyIF91c2VTdG9yZSA9IHVzZVN0b3JlKHNlbGVjdG9yJDUsIHNoYWxsb3cpLFxuICAgICAgdXNlclNlbGVjdGlvbkFjdGl2ZSA9IF91c2VTdG9yZS51c2VyU2VsZWN0aW9uQWN0aXZlLFxuICAgICAgZWxlbWVudHNTZWxlY3RhYmxlID0gX3VzZVN0b3JlLmVsZW1lbnRzU2VsZWN0YWJsZTtcblxuICB2YXIgcmVuZGVyVXNlclNlbGVjdGlvblBhbmUgPSB1c2VyU2VsZWN0aW9uQWN0aXZlIHx8IHNlbGVjdGlvbktleVByZXNzZWQ7XG5cbiAgaWYgKCFlbGVtZW50c1NlbGVjdGFibGUgfHwgIXJlbmRlclVzZXJTZWxlY3Rpb25QYW5lKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgcmVzZXRVc2VyU2VsZWN0aW9uID0gZnVuY3Rpb24gcmVzZXRVc2VyU2VsZWN0aW9uKCkge1xuICAgIHNldFVzZXJTZWxlY3Rpb25SZWN0KGluaXRpYWxSZWN0KTtcbiAgICBzdG9yZS5zZXRTdGF0ZSh7XG4gICAgICB1c2VyU2VsZWN0aW9uQWN0aXZlOiBmYWxzZVxuICAgIH0pO1xuICAgIHByZXZTZWxlY3RlZE5vZGVzQ291bnQuY3VycmVudCA9IDA7XG4gICAgcHJldlNlbGVjdGVkRWRnZXNDb3VudC5jdXJyZW50ID0gMDtcbiAgfTtcblxuICB2YXIgb25Nb3VzZURvd24gPSBmdW5jdGlvbiBvbk1vdXNlRG93bihldmVudCkge1xuICAgIHZhciByZWFjdEZsb3dOb2RlID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJy5yZWFjdC1mbG93Jyk7XG4gICAgY29udGFpbmVyQm91bmRzLmN1cnJlbnQgPSByZWFjdEZsb3dOb2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHZhciBtb3VzZVBvcyA9IGdldE1vdXNlUG9zaXRpb24oZXZlbnQsIGNvbnRhaW5lckJvdW5kcy5jdXJyZW50KTtcbiAgICBzZXRVc2VyU2VsZWN0aW9uUmVjdCh7XG4gICAgICB3aWR0aDogMCxcbiAgICAgIGhlaWdodDogMCxcbiAgICAgIHN0YXJ0WDogbW91c2VQb3MueCxcbiAgICAgIHN0YXJ0WTogbW91c2VQb3MueSxcbiAgICAgIHg6IG1vdXNlUG9zLngsXG4gICAgICB5OiBtb3VzZVBvcy55LFxuICAgICAgZHJhdzogdHJ1ZVxuICAgIH0pO1xuICAgIHN0b3JlLnNldFN0YXRlKHtcbiAgICAgIHVzZXJTZWxlY3Rpb25BY3RpdmU6IHRydWUsXG4gICAgICBub2Rlc1NlbGVjdGlvbkFjdGl2ZTogZmFsc2VcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgb25Nb3VzZU1vdmUgPSBmdW5jdGlvbiBvbk1vdXNlTW92ZShldmVudCkge1xuICAgIHZhciBfdXNlclNlbGVjdGlvblJlY3Qkc3QsIF91c2VyU2VsZWN0aW9uUmVjdCRzdDI7XG5cbiAgICBpZiAoIXNlbGVjdGlvbktleVByZXNzZWQgfHwgIXVzZXJTZWxlY3Rpb25SZWN0LmRyYXcgfHwgIWNvbnRhaW5lckJvdW5kcy5jdXJyZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG1vdXNlUG9zID0gZ2V0TW91c2VQb3NpdGlvbihldmVudCwgY29udGFpbmVyQm91bmRzLmN1cnJlbnQpO1xuICAgIHZhciBzdGFydFggPSAoX3VzZXJTZWxlY3Rpb25SZWN0JHN0ID0gdXNlclNlbGVjdGlvblJlY3Quc3RhcnRYKSAhPT0gbnVsbCAmJiBfdXNlclNlbGVjdGlvblJlY3Qkc3QgIT09IHZvaWQgMCA/IF91c2VyU2VsZWN0aW9uUmVjdCRzdCA6IDA7XG4gICAgdmFyIHN0YXJ0WSA9IChfdXNlclNlbGVjdGlvblJlY3Qkc3QyID0gdXNlclNlbGVjdGlvblJlY3Quc3RhcnRZKSAhPT0gbnVsbCAmJiBfdXNlclNlbGVjdGlvblJlY3Qkc3QyICE9PSB2b2lkIDAgPyBfdXNlclNlbGVjdGlvblJlY3Qkc3QyIDogMDtcblxuICAgIHZhciBuZXh0VXNlclNlbGVjdFJlY3QgPSBfb2JqZWN0U3ByZWFkJDcoX29iamVjdFNwcmVhZCQ3KHt9LCB1c2VyU2VsZWN0aW9uUmVjdCksIHt9LCB7XG4gICAgICB4OiBtb3VzZVBvcy54IDwgc3RhcnRYID8gbW91c2VQb3MueCA6IHN0YXJ0WCxcbiAgICAgIHk6IG1vdXNlUG9zLnkgPCBzdGFydFkgPyBtb3VzZVBvcy55IDogc3RhcnRZLFxuICAgICAgd2lkdGg6IE1hdGguYWJzKG1vdXNlUG9zLnggLSBzdGFydFgpLFxuICAgICAgaGVpZ2h0OiBNYXRoLmFicyhtb3VzZVBvcy55IC0gc3RhcnRZKVxuICAgIH0pO1xuXG4gICAgdmFyIF9zdG9yZSRnZXRTdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCksXG4gICAgICAgIG5vZGVJbnRlcm5hbHMgPSBfc3RvcmUkZ2V0U3RhdGUubm9kZUludGVybmFscyxcbiAgICAgICAgZWRnZXMgPSBfc3RvcmUkZ2V0U3RhdGUuZWRnZXMsXG4gICAgICAgIHRyYW5zZm9ybSA9IF9zdG9yZSRnZXRTdGF0ZS50cmFuc2Zvcm0sXG4gICAgICAgIG9uTm9kZXNDaGFuZ2UgPSBfc3RvcmUkZ2V0U3RhdGUub25Ob2Rlc0NoYW5nZSxcbiAgICAgICAgb25FZGdlc0NoYW5nZSA9IF9zdG9yZSRnZXRTdGF0ZS5vbkVkZ2VzQ2hhbmdlO1xuXG4gICAgdmFyIG5vZGVzID0gQXJyYXkuZnJvbShub2RlSW50ZXJuYWxzLnZhbHVlcygpKTtcbiAgICB2YXIgc2VsZWN0ZWROb2RlcyA9IGdldE5vZGVzSW5zaWRlKG5vZGVJbnRlcm5hbHMsIG5leHRVc2VyU2VsZWN0UmVjdCwgdHJhbnNmb3JtLCBmYWxzZSwgdHJ1ZSk7XG4gICAgdmFyIHNlbGVjdGVkRWRnZUlkcyA9IGdldENvbm5lY3RlZEVkZ2VzKHNlbGVjdGVkTm9kZXMsIGVkZ2VzKS5tYXAoZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiBlLmlkO1xuICAgIH0pO1xuICAgIHZhciBzZWxlY3RlZE5vZGVJZHMgPSBzZWxlY3RlZE5vZGVzLm1hcChmdW5jdGlvbiAobikge1xuICAgICAgcmV0dXJuIG4uaWQ7XG4gICAgfSk7XG5cbiAgICBpZiAocHJldlNlbGVjdGVkTm9kZXNDb3VudC5jdXJyZW50ICE9PSBzZWxlY3RlZE5vZGVJZHMubGVuZ3RoKSB7XG4gICAgICBwcmV2U2VsZWN0ZWROb2Rlc0NvdW50LmN1cnJlbnQgPSBzZWxlY3RlZE5vZGVJZHMubGVuZ3RoO1xuICAgICAgdmFyIGNoYW5nZXMgPSBnZXRTZWxlY3Rpb25DaGFuZ2VzKG5vZGVzLCBzZWxlY3RlZE5vZGVJZHMpO1xuXG4gICAgICBpZiAoY2hhbmdlcy5sZW5ndGgpIHtcbiAgICAgICAgb25Ob2Rlc0NoYW5nZSA9PT0gbnVsbCB8fCBvbk5vZGVzQ2hhbmdlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbk5vZGVzQ2hhbmdlKGNoYW5nZXMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwcmV2U2VsZWN0ZWRFZGdlc0NvdW50LmN1cnJlbnQgIT09IHNlbGVjdGVkRWRnZUlkcy5sZW5ndGgpIHtcbiAgICAgIHByZXZTZWxlY3RlZEVkZ2VzQ291bnQuY3VycmVudCA9IHNlbGVjdGVkRWRnZUlkcy5sZW5ndGg7XG5cbiAgICAgIHZhciBfY2hhbmdlcyA9IGdldFNlbGVjdGlvbkNoYW5nZXMoZWRnZXMsIHNlbGVjdGVkRWRnZUlkcyk7XG5cbiAgICAgIGlmIChfY2hhbmdlcy5sZW5ndGgpIHtcbiAgICAgICAgb25FZGdlc0NoYW5nZSA9PT0gbnVsbCB8fCBvbkVkZ2VzQ2hhbmdlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbkVkZ2VzQ2hhbmdlKF9jaGFuZ2VzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRVc2VyU2VsZWN0aW9uUmVjdChuZXh0VXNlclNlbGVjdFJlY3QpO1xuICB9O1xuXG4gIHZhciBvbk1vdXNlVXAgPSBmdW5jdGlvbiBvbk1vdXNlVXAoKSB7XG4gICAgc3RvcmUuc2V0U3RhdGUoe1xuICAgICAgbm9kZXNTZWxlY3Rpb25BY3RpdmU6IHByZXZTZWxlY3RlZE5vZGVzQ291bnQuY3VycmVudCA+IDBcbiAgICB9KTtcbiAgICByZXNldFVzZXJTZWxlY3Rpb24oKTtcbiAgfTtcblxuICB2YXIgb25Nb3VzZUxlYXZlID0gZnVuY3Rpb24gb25Nb3VzZUxlYXZlKCkge1xuICAgIHN0b3JlLnNldFN0YXRlKHtcbiAgICAgIG5vZGVzU2VsZWN0aW9uQWN0aXZlOiBmYWxzZVxuICAgIH0pO1xuICAgIHJlc2V0VXNlclNlbGVjdGlvbigpO1xuICB9O1xuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInJlYWN0LWZsb3dfX3NlbGVjdGlvbnBhbmUgcmVhY3QtZmxvd19fY29udGFpbmVyXCIsXG4gICAgb25Nb3VzZURvd246IG9uTW91c2VEb3duLFxuICAgIG9uTW91c2VNb3ZlOiBvbk1vdXNlTW92ZSxcbiAgICBvbk1vdXNlVXA6IG9uTW91c2VVcCxcbiAgICBvbk1vdXNlTGVhdmU6IG9uTW91c2VMZWF2ZVxuICB9LCB1c2VyU2VsZWN0aW9uUmVjdC5kcmF3ICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwicmVhY3QtZmxvd19fc2VsZWN0aW9uIHJlYWN0LWZsb3dfX2NvbnRhaW5lclwiLFxuICAgIHN0eWxlOiB7XG4gICAgICB3aWR0aDogdXNlclNlbGVjdGlvblJlY3Qud2lkdGgsXG4gICAgICBoZWlnaHQ6IHVzZXJTZWxlY3Rpb25SZWN0LmhlaWdodCxcbiAgICAgIHRyYW5zZm9ybTogXCJ0cmFuc2xhdGUoXCIuY29uY2F0KHVzZXJTZWxlY3Rpb25SZWN0LngsIFwicHgsIFwiKS5jb25jYXQodXNlclNlbGVjdGlvblJlY3QueSwgXCJweClcIilcbiAgICB9XG4gIH0pKTtcbn0pO1xuXG5mdW5jdGlvbiBvd25LZXlzJDYob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBlbnVtZXJhYmxlT25seSAmJiAoc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pKSwga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQkNih0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IG51bGwgIT0gYXJndW1lbnRzW2ldID8gYXJndW1lbnRzW2ldIDoge307IGkgJSAyID8gb3duS2V5cyQ2KE9iamVjdChzb3VyY2UpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKSA6IG93bktleXMkNihPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5mdW5jdGlvbiBpc1BhcmVudFNlbGVjdGVkKG5vZGUsIG5vZGVJbnRlcm5hbHMpIHtcbiAgaWYgKCFub2RlLnBhcmVudE5vZGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgcGFyZW50Tm9kZSA9IG5vZGVJbnRlcm5hbHMuZ2V0KG5vZGUucGFyZW50Tm9kZSk7XG5cbiAgaWYgKCFwYXJlbnROb2RlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKHBhcmVudE5vZGUuc2VsZWN0ZWQpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBpc1BhcmVudFNlbGVjdGVkKHBhcmVudE5vZGUsIG5vZGVJbnRlcm5hbHMpO1xufVxuZnVuY3Rpb24gaGFzU2VsZWN0b3IodGFyZ2V0LCBzZWxlY3Rvciwgbm9kZVJlZikge1xuICB2YXIgY3VycmVudCA9IHRhcmdldDtcblxuICBkbyB7XG4gICAgdmFyIF9jdXJyZW50O1xuXG4gICAgaWYgKChfY3VycmVudCA9IGN1cnJlbnQpICE9PSBudWxsICYmIF9jdXJyZW50ICE9PSB2b2lkIDAgJiYgX2N1cnJlbnQubWF0Y2hlcyhzZWxlY3RvcikpIHJldHVybiB0cnVlO1xuICAgIGlmIChjdXJyZW50ID09PSBub2RlUmVmLmN1cnJlbnQpIHJldHVybiBmYWxzZTtcbiAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnRFbGVtZW50O1xuICB9IHdoaWxlIChjdXJyZW50KTtcblxuICByZXR1cm4gZmFsc2U7XG59IC8vIGxvb2tzIGZvciBhbGwgc2VsZWN0ZWQgbm9kZXMgYW5kIGNyZWF0ZWQgYSBOb2RlRHJhZ0l0ZW0gZm9yIGVhY2ggb2YgdGhlbVxuXG5mdW5jdGlvbiBnZXREcmFnSXRlbXMobm9kZUludGVybmFscywgbW91c2VQb3MsIG5vZGVJZCkge1xuICByZXR1cm4gQXJyYXkuZnJvbShub2RlSW50ZXJuYWxzLnZhbHVlcygpKS5maWx0ZXIoZnVuY3Rpb24gKG4pIHtcbiAgICByZXR1cm4gKG4uc2VsZWN0ZWQgfHwgbi5pZCA9PT0gbm9kZUlkKSAmJiAoIW4ucGFyZW50Tm9kZSB8fCAhaXNQYXJlbnRTZWxlY3RlZChuLCBub2RlSW50ZXJuYWxzKSk7XG4gIH0pLm1hcChmdW5jdGlvbiAobikge1xuICAgIHZhciBfbiRwb3NpdGlvbkFic29sdXRlJHgsIF9uJHBvc2l0aW9uQWJzb2x1dGUsIF9uJHBvc2l0aW9uQWJzb2x1dGUkeSwgX24kcG9zaXRpb25BYnNvbHV0ZTI7XG5cbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IG4uaWQsXG4gICAgICBwb3NpdGlvbjogbi5wb3NpdGlvbiB8fCB7XG4gICAgICAgIHg6IDAsXG4gICAgICAgIHk6IDBcbiAgICAgIH0sXG4gICAgICBwb3NpdGlvbkFic29sdXRlOiBuLnBvc2l0aW9uQWJzb2x1dGUgfHwge1xuICAgICAgICB4OiAwLFxuICAgICAgICB5OiAwXG4gICAgICB9LFxuICAgICAgZGlzdGFuY2U6IHtcbiAgICAgICAgeDogbW91c2VQb3MueCAtICgoX24kcG9zaXRpb25BYnNvbHV0ZSR4ID0gKF9uJHBvc2l0aW9uQWJzb2x1dGUgPSBuLnBvc2l0aW9uQWJzb2x1dGUpID09PSBudWxsIHx8IF9uJHBvc2l0aW9uQWJzb2x1dGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9uJHBvc2l0aW9uQWJzb2x1dGUueCkgIT09IG51bGwgJiYgX24kcG9zaXRpb25BYnNvbHV0ZSR4ICE9PSB2b2lkIDAgPyBfbiRwb3NpdGlvbkFic29sdXRlJHggOiAwKSxcbiAgICAgICAgeTogbW91c2VQb3MueSAtICgoX24kcG9zaXRpb25BYnNvbHV0ZSR5ID0gKF9uJHBvc2l0aW9uQWJzb2x1dGUyID0gbi5wb3NpdGlvbkFic29sdXRlKSA9PT0gbnVsbCB8fCBfbiRwb3NpdGlvbkFic29sdXRlMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX24kcG9zaXRpb25BYnNvbHV0ZTIueSkgIT09IG51bGwgJiYgX24kcG9zaXRpb25BYnNvbHV0ZSR5ICE9PSB2b2lkIDAgPyBfbiRwb3NpdGlvbkFic29sdXRlJHkgOiAwKVxuICAgICAgfSxcbiAgICAgIGRlbHRhOiB7XG4gICAgICAgIHg6IDAsXG4gICAgICAgIHk6IDBcbiAgICAgIH0sXG4gICAgICBleHRlbnQ6IG4uZXh0ZW50LFxuICAgICAgcGFyZW50Tm9kZTogbi5wYXJlbnROb2RlLFxuICAgICAgd2lkdGg6IG4ud2lkdGgsXG4gICAgICBoZWlnaHQ6IG4uaGVpZ2h0XG4gICAgfTtcbiAgfSk7XG59XG5mdW5jdGlvbiB1cGRhdGVQb3NpdGlvbihkcmFnSXRlbSwgbW91c2VQb3MsIHNuYXBUb0dyaWQsIF9yZWYsIG5vZGVJbnRlcm5hbHMsIG5vZGVFeHRlbnQpIHtcbiAgdmFyIF9yZWYyID0gX3NsaWNlZFRvQXJyYXkoX3JlZiwgMiksXG4gICAgICBzbmFwWCA9IF9yZWYyWzBdLFxuICAgICAgc25hcFkgPSBfcmVmMlsxXTtcblxuICB2YXIgY3VycmVudEV4dGVudCA9IGRyYWdJdGVtLmV4dGVudCB8fCBub2RlRXh0ZW50O1xuICB2YXIgbmV4dFBvc2l0aW9uID0ge1xuICAgIHg6IG1vdXNlUG9zLnggLSBkcmFnSXRlbS5kaXN0YW5jZS54LFxuICAgIHk6IG1vdXNlUG9zLnkgLSBkcmFnSXRlbS5kaXN0YW5jZS55XG4gIH07XG5cbiAgaWYgKHNuYXBUb0dyaWQpIHtcbiAgICBuZXh0UG9zaXRpb24ueCA9IHNuYXBYICogTWF0aC5yb3VuZChuZXh0UG9zaXRpb24ueCAvIHNuYXBYKTtcbiAgICBuZXh0UG9zaXRpb24ueSA9IHNuYXBZICogTWF0aC5yb3VuZChuZXh0UG9zaXRpb24ueSAvIHNuYXBZKTtcbiAgfVxuXG4gIGlmIChkcmFnSXRlbS5leHRlbnQgPT09ICdwYXJlbnQnKSB7XG4gICAgaWYgKGRyYWdJdGVtLnBhcmVudE5vZGUgJiYgZHJhZ0l0ZW0ud2lkdGggJiYgZHJhZ0l0ZW0uaGVpZ2h0KSB7XG4gICAgICB2YXIgcGFyZW50ID0gbm9kZUludGVybmFscy5nZXQoZHJhZ0l0ZW0ucGFyZW50Tm9kZSk7XG4gICAgICBjdXJyZW50RXh0ZW50ID0gcGFyZW50ICE9PSBudWxsICYmIHBhcmVudCAhPT0gdm9pZCAwICYmIHBhcmVudC5wb3NpdGlvbkFic29sdXRlICYmIHBhcmVudCAhPT0gbnVsbCAmJiBwYXJlbnQgIT09IHZvaWQgMCAmJiBwYXJlbnQud2lkdGggJiYgcGFyZW50ICE9PSBudWxsICYmIHBhcmVudCAhPT0gdm9pZCAwICYmIHBhcmVudC5oZWlnaHQgPyBbW3BhcmVudC5wb3NpdGlvbkFic29sdXRlLngsIHBhcmVudC5wb3NpdGlvbkFic29sdXRlLnldLCBbcGFyZW50LnBvc2l0aW9uQWJzb2x1dGUueCArIHBhcmVudC53aWR0aCAtIGRyYWdJdGVtLndpZHRoLCBwYXJlbnQucG9zaXRpb25BYnNvbHV0ZS55ICsgcGFyZW50LmhlaWdodCAtIGRyYWdJdGVtLmhlaWdodF1dIDogY3VycmVudEV4dGVudDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignW1JlYWN0IEZsb3ddOiBPbmx5IGNoaWxkIG5vZGVzIGNhbiB1c2UgYSBwYXJlbnQgZXh0ZW50LiBIZWxwOiBodHRwczovL3JlYWN0Zmxvdy5kZXYvZXJyb3IjNTAwJyk7XG4gICAgICB9XG5cbiAgICAgIGN1cnJlbnRFeHRlbnQgPSBub2RlRXh0ZW50O1xuICAgIH1cbiAgfSBlbHNlIGlmIChkcmFnSXRlbS5leHRlbnQgJiYgZHJhZ0l0ZW0ucGFyZW50Tm9kZSkge1xuICAgIHZhciBfcGFyZW50JHBvc2l0aW9uQWJzb2wsIF9wYXJlbnQkcG9zaXRpb25BYnNvbDIsIF9wYXJlbnQkcG9zaXRpb25BYnNvbDMsIF9wYXJlbnQkcG9zaXRpb25BYnNvbDQ7XG5cbiAgICB2YXIgX3BhcmVudCA9IG5vZGVJbnRlcm5hbHMuZ2V0KGRyYWdJdGVtLnBhcmVudE5vZGUpO1xuXG4gICAgdmFyIHBhcmVudFggPSAoX3BhcmVudCRwb3NpdGlvbkFic29sID0gX3BhcmVudCA9PT0gbnVsbCB8fCBfcGFyZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3BhcmVudCRwb3NpdGlvbkFic29sMiA9IF9wYXJlbnQucG9zaXRpb25BYnNvbHV0ZSkgPT09IG51bGwgfHwgX3BhcmVudCRwb3NpdGlvbkFic29sMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3BhcmVudCRwb3NpdGlvbkFic29sMi54KSAhPT0gbnVsbCAmJiBfcGFyZW50JHBvc2l0aW9uQWJzb2wgIT09IHZvaWQgMCA/IF9wYXJlbnQkcG9zaXRpb25BYnNvbCA6IDA7XG4gICAgdmFyIHBhcmVudFkgPSAoX3BhcmVudCRwb3NpdGlvbkFic29sMyA9IF9wYXJlbnQgPT09IG51bGwgfHwgX3BhcmVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9wYXJlbnQkcG9zaXRpb25BYnNvbDQgPSBfcGFyZW50LnBvc2l0aW9uQWJzb2x1dGUpID09PSBudWxsIHx8IF9wYXJlbnQkcG9zaXRpb25BYnNvbDQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9wYXJlbnQkcG9zaXRpb25BYnNvbDQueSkgIT09IG51bGwgJiYgX3BhcmVudCRwb3NpdGlvbkFic29sMyAhPT0gdm9pZCAwID8gX3BhcmVudCRwb3NpdGlvbkFic29sMyA6IDA7XG4gICAgY3VycmVudEV4dGVudCA9IFtbZHJhZ0l0ZW0uZXh0ZW50WzBdWzBdICsgcGFyZW50WCwgZHJhZ0l0ZW0uZXh0ZW50WzBdWzFdICsgcGFyZW50WV0sIFtkcmFnSXRlbS5leHRlbnRbMV1bMF0gKyBwYXJlbnRYLCBkcmFnSXRlbS5leHRlbnRbMV1bMV0gKyBwYXJlbnRZXV07XG4gIH1cblxuICB2YXIgcGFyZW50UG9zaXRpb24gPSB7XG4gICAgeDogMCxcbiAgICB5OiAwXG4gIH07XG5cbiAgaWYgKGRyYWdJdGVtLnBhcmVudE5vZGUpIHtcbiAgICB2YXIgX3BhcmVudE5vZGUkcG9zaXRpb25BLCBfcGFyZW50Tm9kZSRwb3NpdGlvbkEyLCBfcGFyZW50Tm9kZSRwb3NpdGlvbkEzLCBfcGFyZW50Tm9kZSRwb3NpdGlvbkE0O1xuXG4gICAgdmFyIHBhcmVudE5vZGUgPSBub2RlSW50ZXJuYWxzLmdldChkcmFnSXRlbS5wYXJlbnROb2RlKTtcbiAgICBwYXJlbnRQb3NpdGlvbiA9IHtcbiAgICAgIHg6IChfcGFyZW50Tm9kZSRwb3NpdGlvbkEgPSBwYXJlbnROb2RlID09PSBudWxsIHx8IHBhcmVudE5vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfcGFyZW50Tm9kZSRwb3NpdGlvbkEyID0gcGFyZW50Tm9kZS5wb3NpdGlvbkFic29sdXRlKSA9PT0gbnVsbCB8fCBfcGFyZW50Tm9kZSRwb3NpdGlvbkEyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcGFyZW50Tm9kZSRwb3NpdGlvbkEyLngpICE9PSBudWxsICYmIF9wYXJlbnROb2RlJHBvc2l0aW9uQSAhPT0gdm9pZCAwID8gX3BhcmVudE5vZGUkcG9zaXRpb25BIDogMCxcbiAgICAgIHk6IChfcGFyZW50Tm9kZSRwb3NpdGlvbkEzID0gcGFyZW50Tm9kZSA9PT0gbnVsbCB8fCBwYXJlbnROb2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3BhcmVudE5vZGUkcG9zaXRpb25BNCA9IHBhcmVudE5vZGUucG9zaXRpb25BYnNvbHV0ZSkgPT09IG51bGwgfHwgX3BhcmVudE5vZGUkcG9zaXRpb25BNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3BhcmVudE5vZGUkcG9zaXRpb25BNC55KSAhPT0gbnVsbCAmJiBfcGFyZW50Tm9kZSRwb3NpdGlvbkEzICE9PSB2b2lkIDAgPyBfcGFyZW50Tm9kZSRwb3NpdGlvbkEzIDogMFxuICAgIH07XG4gIH1cblxuICBkcmFnSXRlbS5wb3NpdGlvbkFic29sdXRlID0gY3VycmVudEV4dGVudCA/IGNsYW1wUG9zaXRpb24obmV4dFBvc2l0aW9uLCBjdXJyZW50RXh0ZW50KSA6IG5leHRQb3NpdGlvbjtcbiAgZHJhZ0l0ZW0ucG9zaXRpb24gPSB7XG4gICAgeDogZHJhZ0l0ZW0ucG9zaXRpb25BYnNvbHV0ZS54IC0gcGFyZW50UG9zaXRpb24ueCxcbiAgICB5OiBkcmFnSXRlbS5wb3NpdGlvbkFic29sdXRlLnkgLSBwYXJlbnRQb3NpdGlvbi55XG4gIH07XG4gIHJldHVybiBkcmFnSXRlbTtcbn0gLy8gcmV0dXJucyB0d28gcGFyYW1zOlxuLy8gMS4gdGhlIGRyYWdnZWQgbm9kZSAob3IgdGhlIGZpcnN0IG9mIHRoZSBsaXN0LCBpZiB3ZSBhcmUgZHJhZ2dpbmcgYSBub2RlIHNlbGVjdGlvbilcbi8vIDIuIGFycmF5IG9mIHNlbGVjdGVkIG5vZGVzIChmb3IgbXVsdGkgc2VsZWN0aW9ucylcblxuZnVuY3Rpb24gZ2V0RXZlbnRIYW5kbGVyUGFyYW1zKF9yZWYzKSB7XG4gIHZhciBub2RlSWQgPSBfcmVmMy5ub2RlSWQsXG4gICAgICBkcmFnSXRlbXMgPSBfcmVmMy5kcmFnSXRlbXMsXG4gICAgICBub2RlSW50ZXJuYWxzID0gX3JlZjMubm9kZUludGVybmFscztcbiAgdmFyIGV4dGVudGVkRHJhZ0l0ZW1zID0gZHJhZ0l0ZW1zLm1hcChmdW5jdGlvbiAobikge1xuICAgIHZhciBub2RlID0gbm9kZUludGVybmFscy5nZXQobi5pZCk7XG4gICAgcmV0dXJuIF9vYmplY3RTcHJlYWQkNihfb2JqZWN0U3ByZWFkJDYoe30sIG5vZGUpLCB7fSwge1xuICAgICAgcG9zaXRpb246IG4ucG9zaXRpb24sXG4gICAgICBwb3NpdGlvbkFic29sdXRlOiBuLnBvc2l0aW9uQWJzb2x1dGVcbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiBbbm9kZUlkID8gZXh0ZW50ZWREcmFnSXRlbXMuZmluZChmdW5jdGlvbiAobikge1xuICAgIHJldHVybiBuLmlkID09PSBub2RlSWQ7XG4gIH0pIDogZXh0ZW50ZWREcmFnSXRlbXNbMF0sIGV4dGVudGVkRHJhZ0l0ZW1zXTtcbn1cblxuZnVuY3Rpb24gd3JhcFNlbGVjdGlvbkRyYWdGdW5jKHNlbGVjdGlvbkZ1bmMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChldmVudCwgXywgbm9kZXMpIHtcbiAgICByZXR1cm4gc2VsZWN0aW9uRnVuYyA9PT0gbnVsbCB8fCBzZWxlY3Rpb25GdW5jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzZWxlY3Rpb25GdW5jKGV2ZW50LCBub2Rlcyk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZURyYWcoX3JlZikge1xuICB2YXIgbm9kZVJlZiA9IF9yZWYubm9kZVJlZixcbiAgICAgIF9yZWYkZGlzYWJsZWQgPSBfcmVmLmRpc2FibGVkLFxuICAgICAgZGlzYWJsZWQgPSBfcmVmJGRpc2FibGVkID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYkZGlzYWJsZWQsXG4gICAgICBub0RyYWdDbGFzc05hbWUgPSBfcmVmLm5vRHJhZ0NsYXNzTmFtZSxcbiAgICAgIGhhbmRsZVNlbGVjdG9yID0gX3JlZi5oYW5kbGVTZWxlY3RvcixcbiAgICAgIG5vZGVJZCA9IF9yZWYubm9kZUlkLFxuICAgICAgaXNTZWxlY3RhYmxlID0gX3JlZi5pc1NlbGVjdGFibGUsXG4gICAgICBzZWxlY3ROb2Rlc09uRHJhZyA9IF9yZWYuc2VsZWN0Tm9kZXNPbkRyYWc7XG5cbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKGZhbHNlKSxcbiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLFxuICAgICAgZHJhZ2dpbmcgPSBfdXNlU3RhdGUyWzBdLFxuICAgICAgc2V0RHJhZ2dpbmcgPSBfdXNlU3RhdGUyWzFdO1xuXG4gIHZhciBzdG9yZSA9IHVzZVN0b3JlQXBpKCk7XG4gIHZhciBkcmFnSXRlbXMgPSB1c2VSZWYoKTtcbiAgdmFyIGxhc3RQb3MgPSB1c2VSZWYoe1xuICAgIHg6IG51bGwsXG4gICAgeTogbnVsbFxuICB9KTsgLy8gcmV0dXJucyB0aGUgcG9pbnRlciBwb3NpdGlvbiBwcm9qZWN0ZWQgdG8gdGhlIFJGIGNvb3JkaW5hdGUgc3lzdGVtXG5cbiAgdmFyIGdldFBvaW50ZXJQb3NpdGlvbiA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChfcmVmMikge1xuICAgIHZhciBzb3VyY2VFdmVudCA9IF9yZWYyLnNvdXJjZUV2ZW50O1xuXG4gICAgdmFyIF9zdG9yZSRnZXRTdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCksXG4gICAgICAgIHRyYW5zZm9ybSA9IF9zdG9yZSRnZXRTdGF0ZS50cmFuc2Zvcm0sXG4gICAgICAgIHNuYXBHcmlkID0gX3N0b3JlJGdldFN0YXRlLnNuYXBHcmlkLFxuICAgICAgICBzbmFwVG9HcmlkID0gX3N0b3JlJGdldFN0YXRlLnNuYXBUb0dyaWQ7XG5cbiAgICB2YXIgeCA9IHNvdXJjZUV2ZW50LnRvdWNoZXMgPyBzb3VyY2VFdmVudC50b3VjaGVzWzBdLmNsaWVudFggOiBzb3VyY2VFdmVudC5jbGllbnRYO1xuICAgIHZhciB5ID0gc291cmNlRXZlbnQudG91Y2hlcyA/IHNvdXJjZUV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WSA6IHNvdXJjZUV2ZW50LmNsaWVudFk7XG4gICAgdmFyIHBvaW50ZXJQb3MgPSBwb2ludFRvUmVuZGVyZXJQb2ludCh7XG4gICAgICB4OiB4LFxuICAgICAgeTogeVxuICAgIH0sIHRyYW5zZm9ybSwgc25hcFRvR3JpZCwgc25hcEdyaWQpO1xuICAgIHJldHVybiBwb2ludGVyUG9zO1xuICB9LCBbXSk7XG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKG5vZGVSZWYgIT09IG51bGwgJiYgbm9kZVJlZiAhPT0gdm9pZCAwICYmIG5vZGVSZWYuY3VycmVudCkge1xuICAgICAgdmFyIHNlbGVjdGlvbiA9IHNlbGVjdChub2RlUmVmLmN1cnJlbnQpO1xuXG4gICAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgICAgc2VsZWN0aW9uLm9uKCcuZHJhZycsIG51bGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGRyYWdIYW5kbGVyID0gZHJhZygpLm9uKCdzdGFydCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIHZhciBfc3RvcmUkZ2V0U3RhdGUyID0gc3RvcmUuZ2V0U3RhdGUoKSxcbiAgICAgICAgICAgICAgbm9kZUludGVybmFscyA9IF9zdG9yZSRnZXRTdGF0ZTIubm9kZUludGVybmFscyxcbiAgICAgICAgICAgICAgbXVsdGlTZWxlY3Rpb25BY3RpdmUgPSBfc3RvcmUkZ2V0U3RhdGUyLm11bHRpU2VsZWN0aW9uQWN0aXZlLFxuICAgICAgICAgICAgICB1bnNlbGVjdE5vZGVzQW5kRWRnZXMgPSBfc3RvcmUkZ2V0U3RhdGUyLnVuc2VsZWN0Tm9kZXNBbmRFZGdlcyxcbiAgICAgICAgICAgICAgb25Ob2RlRHJhZ1N0YXJ0ID0gX3N0b3JlJGdldFN0YXRlMi5vbk5vZGVEcmFnU3RhcnQsXG4gICAgICAgICAgICAgIG9uU2VsZWN0aW9uRHJhZ1N0YXJ0ID0gX3N0b3JlJGdldFN0YXRlMi5vblNlbGVjdGlvbkRyYWdTdGFydDtcblxuICAgICAgICAgIHZhciBvblN0YXJ0ID0gbm9kZUlkID8gb25Ob2RlRHJhZ1N0YXJ0IDogd3JhcFNlbGVjdGlvbkRyYWdGdW5jKG9uU2VsZWN0aW9uRHJhZ1N0YXJ0KTtcblxuICAgICAgICAgIGlmICghc2VsZWN0Tm9kZXNPbkRyYWcgJiYgIW11bHRpU2VsZWN0aW9uQWN0aXZlICYmIG5vZGVJZCkge1xuICAgICAgICAgICAgdmFyIF9ub2RlSW50ZXJuYWxzJGdldDtcblxuICAgICAgICAgICAgaWYgKCEoKF9ub2RlSW50ZXJuYWxzJGdldCA9IG5vZGVJbnRlcm5hbHMuZ2V0KG5vZGVJZCkpICE9PSBudWxsICYmIF9ub2RlSW50ZXJuYWxzJGdldCAhPT0gdm9pZCAwICYmIF9ub2RlSW50ZXJuYWxzJGdldC5zZWxlY3RlZCkpIHtcbiAgICAgICAgICAgICAgLy8gd2UgbmVlZCB0byByZXNldCBzZWxlY3RlZCBub2RlcyB3aGVuIHNlbGVjdE5vZGVzT25EcmFnPWZhbHNlXG4gICAgICAgICAgICAgIHVuc2VsZWN0Tm9kZXNBbmRFZGdlcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChub2RlSWQgJiYgaXNTZWxlY3RhYmxlICYmIHNlbGVjdE5vZGVzT25EcmFnKSB7XG4gICAgICAgICAgICBoYW5kbGVOb2RlQ2xpY2soe1xuICAgICAgICAgICAgICBpZDogbm9kZUlkLFxuICAgICAgICAgICAgICBzdG9yZTogc3RvcmVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBwb2ludGVyUG9zID0gZ2V0UG9pbnRlclBvc2l0aW9uKGV2ZW50KTtcbiAgICAgICAgICBsYXN0UG9zLmN1cnJlbnQgPSBwb2ludGVyUG9zO1xuICAgICAgICAgIGRyYWdJdGVtcy5jdXJyZW50ID0gZ2V0RHJhZ0l0ZW1zKG5vZGVJbnRlcm5hbHMsIHBvaW50ZXJQb3MsIG5vZGVJZCk7XG5cbiAgICAgICAgICBpZiAob25TdGFydCAmJiBkcmFnSXRlbXMuY3VycmVudCkge1xuICAgICAgICAgICAgdmFyIF9nZXRFdmVudEhhbmRsZXJQYXJhbSA9IGdldEV2ZW50SGFuZGxlclBhcmFtcyh7XG4gICAgICAgICAgICAgIG5vZGVJZDogbm9kZUlkLFxuICAgICAgICAgICAgICBkcmFnSXRlbXM6IGRyYWdJdGVtcy5jdXJyZW50LFxuICAgICAgICAgICAgICBub2RlSW50ZXJuYWxzOiBub2RlSW50ZXJuYWxzXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBfZ2V0RXZlbnRIYW5kbGVyUGFyYW0yID0gX3NsaWNlZFRvQXJyYXkoX2dldEV2ZW50SGFuZGxlclBhcmFtLCAyKSxcbiAgICAgICAgICAgICAgICBjdXJyZW50Tm9kZSA9IF9nZXRFdmVudEhhbmRsZXJQYXJhbTJbMF0sXG4gICAgICAgICAgICAgICAgbm9kZXMgPSBfZ2V0RXZlbnRIYW5kbGVyUGFyYW0yWzFdO1xuXG4gICAgICAgICAgICBvblN0YXJ0KGV2ZW50LnNvdXJjZUV2ZW50LCBjdXJyZW50Tm9kZSwgbm9kZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkub24oJ2RyYWcnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICB2YXIgX3N0b3JlJGdldFN0YXRlMyA9IHN0b3JlLmdldFN0YXRlKCksXG4gICAgICAgICAgICAgIHVwZGF0ZU5vZGVQb3NpdGlvbnMgPSBfc3RvcmUkZ2V0U3RhdGUzLnVwZGF0ZU5vZGVQb3NpdGlvbnMsXG4gICAgICAgICAgICAgIHNuYXBUb0dyaWQgPSBfc3RvcmUkZ2V0U3RhdGUzLnNuYXBUb0dyaWQsXG4gICAgICAgICAgICAgIHNuYXBHcmlkID0gX3N0b3JlJGdldFN0YXRlMy5zbmFwR3JpZCxcbiAgICAgICAgICAgICAgbm9kZUludGVybmFscyA9IF9zdG9yZSRnZXRTdGF0ZTMubm9kZUludGVybmFscyxcbiAgICAgICAgICAgICAgbm9kZUV4dGVudCA9IF9zdG9yZSRnZXRTdGF0ZTMubm9kZUV4dGVudCxcbiAgICAgICAgICAgICAgb25Ob2RlRHJhZyA9IF9zdG9yZSRnZXRTdGF0ZTMub25Ob2RlRHJhZyxcbiAgICAgICAgICAgICAgb25TZWxlY3Rpb25EcmFnID0gX3N0b3JlJGdldFN0YXRlMy5vblNlbGVjdGlvbkRyYWc7XG5cbiAgICAgICAgICB2YXIgcG9pbnRlclBvcyA9IGdldFBvaW50ZXJQb3NpdGlvbihldmVudCk7IC8vIHNraXAgZXZlbnRzIHdpdGhvdXQgbW92ZW1lbnRcblxuICAgICAgICAgIGlmICgobGFzdFBvcy5jdXJyZW50LnggIT09IHBvaW50ZXJQb3MueCB8fCBsYXN0UG9zLmN1cnJlbnQueSAhPT0gcG9pbnRlclBvcy55KSAmJiBkcmFnSXRlbXMuY3VycmVudCkge1xuICAgICAgICAgICAgbGFzdFBvcy5jdXJyZW50ID0gcG9pbnRlclBvcztcbiAgICAgICAgICAgIGRyYWdJdGVtcy5jdXJyZW50ID0gZHJhZ0l0ZW1zLmN1cnJlbnQubWFwKGZ1bmN0aW9uIChuKSB7XG4gICAgICAgICAgICAgIHJldHVybiB1cGRhdGVQb3NpdGlvbihuLCBwb2ludGVyUG9zLCBzbmFwVG9HcmlkLCBzbmFwR3JpZCwgbm9kZUludGVybmFscywgbm9kZUV4dGVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBvbkRyYWcgPSBub2RlSWQgPyBvbk5vZGVEcmFnIDogd3JhcFNlbGVjdGlvbkRyYWdGdW5jKG9uU2VsZWN0aW9uRHJhZyk7XG4gICAgICAgICAgICB1cGRhdGVOb2RlUG9zaXRpb25zKGRyYWdJdGVtcy5jdXJyZW50LCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICAgIHNldERyYWdnaW5nKHRydWUpO1xuXG4gICAgICAgICAgICBpZiAob25EcmFnKSB7XG4gICAgICAgICAgICAgIHZhciBfZ2V0RXZlbnRIYW5kbGVyUGFyYW0zID0gZ2V0RXZlbnRIYW5kbGVyUGFyYW1zKHtcbiAgICAgICAgICAgICAgICBub2RlSWQ6IG5vZGVJZCxcbiAgICAgICAgICAgICAgICBkcmFnSXRlbXM6IGRyYWdJdGVtcy5jdXJyZW50LFxuICAgICAgICAgICAgICAgIG5vZGVJbnRlcm5hbHM6IG5vZGVJbnRlcm5hbHNcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICBfZ2V0RXZlbnRIYW5kbGVyUGFyYW00ID0gX3NsaWNlZFRvQXJyYXkoX2dldEV2ZW50SGFuZGxlclBhcmFtMywgMiksXG4gICAgICAgICAgICAgICAgICBjdXJyZW50Tm9kZSA9IF9nZXRFdmVudEhhbmRsZXJQYXJhbTRbMF0sXG4gICAgICAgICAgICAgICAgICBub2RlcyA9IF9nZXRFdmVudEhhbmRsZXJQYXJhbTRbMV07XG5cbiAgICAgICAgICAgICAgb25EcmFnKGV2ZW50LnNvdXJjZUV2ZW50LCBjdXJyZW50Tm9kZSwgbm9kZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGV2ZW50Lm9uKCdlbmQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHNldERyYWdnaW5nKGZhbHNlKTtcblxuICAgICAgICAgICAgaWYgKGRyYWdJdGVtcy5jdXJyZW50KSB7XG4gICAgICAgICAgICAgIHZhciBfc3RvcmUkZ2V0U3RhdGU0ID0gc3RvcmUuZ2V0U3RhdGUoKSxcbiAgICAgICAgICAgICAgICAgIF91cGRhdGVOb2RlUG9zaXRpb25zID0gX3N0b3JlJGdldFN0YXRlNC51cGRhdGVOb2RlUG9zaXRpb25zLFxuICAgICAgICAgICAgICAgICAgX25vZGVJbnRlcm5hbHMgPSBfc3RvcmUkZ2V0U3RhdGU0Lm5vZGVJbnRlcm5hbHMsXG4gICAgICAgICAgICAgICAgICBvbk5vZGVEcmFnU3RvcCA9IF9zdG9yZSRnZXRTdGF0ZTQub25Ob2RlRHJhZ1N0b3AsXG4gICAgICAgICAgICAgICAgICBvblNlbGVjdGlvbkRyYWdTdG9wID0gX3N0b3JlJGdldFN0YXRlNC5vblNlbGVjdGlvbkRyYWdTdG9wO1xuXG4gICAgICAgICAgICAgIHZhciBvblN0b3AgPSBub2RlSWQgPyBvbk5vZGVEcmFnU3RvcCA6IHdyYXBTZWxlY3Rpb25EcmFnRnVuYyhvblNlbGVjdGlvbkRyYWdTdG9wKTtcblxuICAgICAgICAgICAgICBfdXBkYXRlTm9kZVBvc2l0aW9ucyhkcmFnSXRlbXMuY3VycmVudCwgZmFsc2UsIGZhbHNlKTtcblxuICAgICAgICAgICAgICBpZiAob25TdG9wKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9nZXRFdmVudEhhbmRsZXJQYXJhbTUgPSBnZXRFdmVudEhhbmRsZXJQYXJhbXMoe1xuICAgICAgICAgICAgICAgICAgbm9kZUlkOiBub2RlSWQsXG4gICAgICAgICAgICAgICAgICBkcmFnSXRlbXM6IGRyYWdJdGVtcy5jdXJyZW50LFxuICAgICAgICAgICAgICAgICAgbm9kZUludGVybmFsczogX25vZGVJbnRlcm5hbHNcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgX2dldEV2ZW50SGFuZGxlclBhcmFtNiA9IF9zbGljZWRUb0FycmF5KF9nZXRFdmVudEhhbmRsZXJQYXJhbTUsIDIpLFxuICAgICAgICAgICAgICAgICAgICBfY3VycmVudE5vZGUgPSBfZ2V0RXZlbnRIYW5kbGVyUGFyYW02WzBdLFxuICAgICAgICAgICAgICAgICAgICBfbm9kZXMgPSBfZ2V0RXZlbnRIYW5kbGVyUGFyYW02WzFdO1xuXG4gICAgICAgICAgICAgICAgb25TdG9wKGV2ZW50LnNvdXJjZUV2ZW50LCBfY3VycmVudE5vZGUsIF9ub2Rlcyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSkuZmlsdGVyKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIHZhciB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICAgICAgdmFyIGlzRHJhZ2dhYmxlID0gIWV2ZW50LmJ1dHRvbiAmJiAoIW5vRHJhZ0NsYXNzTmFtZSB8fCAhaGFzU2VsZWN0b3IodGFyZ2V0LCBcIi5cIi5jb25jYXQobm9EcmFnQ2xhc3NOYW1lKSwgbm9kZVJlZikpICYmICghaGFuZGxlU2VsZWN0b3IgfHwgaGFzU2VsZWN0b3IodGFyZ2V0LCBoYW5kbGVTZWxlY3Rvciwgbm9kZVJlZikpO1xuICAgICAgICAgIHJldHVybiBpc0RyYWdnYWJsZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNlbGVjdGlvbi5jYWxsKGRyYWdIYW5kbGVyKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBzZWxlY3Rpb24ub24oJy5kcmFnJywgbnVsbCk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICB9LCBbbm9kZVJlZiwgZGlzYWJsZWQsIG5vRHJhZ0NsYXNzTmFtZSwgaGFuZGxlU2VsZWN0b3IsIGlzU2VsZWN0YWJsZSwgc3RvcmUsIG5vZGVJZCwgc2VsZWN0Tm9kZXNPbkRyYWcsIGdldFBvaW50ZXJQb3NpdGlvbl0pO1xuICByZXR1cm4gZHJhZ2dpbmc7XG59XG5cbmZ1bmN0aW9uIG93bktleXMkNShvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGVudW1lcmFibGVPbmx5ICYmIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSkpLCBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCQ1KHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gbnVsbCAhPSBhcmd1bWVudHNbaV0gPyBhcmd1bWVudHNbaV0gOiB7fTsgaSAlIDIgPyBvd25LZXlzJDUoT2JqZWN0KHNvdXJjZSksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpIDogb3duS2V5cyQ1KE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cblxudmFyIHNlbGVjdG9yJDQgPSBmdW5jdGlvbiBzZWxlY3RvcihzKSB7XG4gIHJldHVybiBfb2JqZWN0U3ByZWFkJDUoe1xuICAgIHRyYW5zZm9ybVN0cmluZzogXCJ0cmFuc2xhdGUoXCIuY29uY2F0KHMudHJhbnNmb3JtWzBdLCBcInB4LFwiKS5jb25jYXQocy50cmFuc2Zvcm1bMV0sIFwicHgpIHNjYWxlKFwiKS5jb25jYXQocy50cmFuc2Zvcm1bMl0sIFwiKVwiKSxcbiAgICB1c2VyU2VsZWN0aW9uQWN0aXZlOiBzLnVzZXJTZWxlY3Rpb25BY3RpdmVcbiAgfSwgZ2V0UmVjdE9mTm9kZXMoQXJyYXkuZnJvbShzLm5vZGVJbnRlcm5hbHMudmFsdWVzKCkpLmZpbHRlcihmdW5jdGlvbiAobikge1xuICAgIHJldHVybiBuLnNlbGVjdGVkO1xuICB9KSkpO1xufTtcblxudmFyIGJib3hTZWxlY3RvciA9IGZ1bmN0aW9uIGJib3hTZWxlY3RvcihzKSB7XG4gIHZhciBzZWxlY3RlZE5vZGVzID0gQXJyYXkuZnJvbShzLm5vZGVJbnRlcm5hbHMudmFsdWVzKCkpLmZpbHRlcihmdW5jdGlvbiAobikge1xuICAgIHJldHVybiBuLnNlbGVjdGVkO1xuICB9KTtcbiAgcmV0dXJuIGdldFJlY3RPZk5vZGVzKHNlbGVjdGVkTm9kZXMpO1xufTtcblxuZnVuY3Rpb24gTm9kZXNTZWxlY3Rpb24oX3JlZikge1xuICB2YXIgb25TZWxlY3Rpb25Db250ZXh0TWVudSA9IF9yZWYub25TZWxlY3Rpb25Db250ZXh0TWVudSxcbiAgICAgIG5vUGFuQ2xhc3NOYW1lID0gX3JlZi5ub1BhbkNsYXNzTmFtZTtcbiAgdmFyIHN0b3JlID0gdXNlU3RvcmVBcGkoKTtcblxuICB2YXIgX3VzZVN0b3JlID0gdXNlU3RvcmUoc2VsZWN0b3IkNCwgc2hhbGxvdyksXG4gICAgICB0cmFuc2Zvcm1TdHJpbmcgPSBfdXNlU3RvcmUudHJhbnNmb3JtU3RyaW5nLFxuICAgICAgdXNlclNlbGVjdGlvbkFjdGl2ZSA9IF91c2VTdG9yZS51c2VyU2VsZWN0aW9uQWN0aXZlO1xuXG4gIHZhciBfdXNlU3RvcmUyID0gdXNlU3RvcmUoYmJveFNlbGVjdG9yLCBzaGFsbG93KSxcbiAgICAgIHdpZHRoID0gX3VzZVN0b3JlMi53aWR0aCxcbiAgICAgIGhlaWdodCA9IF91c2VTdG9yZTIuaGVpZ2h0LFxuICAgICAgbGVmdCA9IF91c2VTdG9yZTIueCxcbiAgICAgIHRvcCA9IF91c2VTdG9yZTIueTtcblxuICB2YXIgbm9kZVJlZiA9IHVzZVJlZihudWxsKTtcbiAgdXNlRHJhZyh7XG4gICAgbm9kZVJlZjogbm9kZVJlZlxuICB9KTtcblxuICBpZiAodXNlclNlbGVjdGlvbkFjdGl2ZSB8fCAhd2lkdGggfHwgIWhlaWdodCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIG9uQ29udGV4dE1lbnUgPSBvblNlbGVjdGlvbkNvbnRleHRNZW51ID8gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgdmFyIHNlbGVjdGVkTm9kZXMgPSBBcnJheS5mcm9tKHN0b3JlLmdldFN0YXRlKCkubm9kZUludGVybmFscy52YWx1ZXMoKSkuZmlsdGVyKGZ1bmN0aW9uIChuKSB7XG4gICAgICByZXR1cm4gbi5zZWxlY3RlZDtcbiAgICB9KTtcbiAgICBvblNlbGVjdGlvbkNvbnRleHRNZW51KGV2ZW50LCBzZWxlY3RlZE5vZGVzKTtcbiAgfSA6IHVuZGVmaW5lZDtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNjKFsncmVhY3QtZmxvd19fbm9kZXNzZWxlY3Rpb24nLCAncmVhY3QtZmxvd19fY29udGFpbmVyJywgbm9QYW5DbGFzc05hbWVdKSxcbiAgICBzdHlsZToge1xuICAgICAgdHJhbnNmb3JtOiB0cmFuc2Zvcm1TdHJpbmdcbiAgICB9XG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICByZWY6IG5vZGVSZWYsXG4gICAgY2xhc3NOYW1lOiBcInJlYWN0LWZsb3dfX25vZGVzc2VsZWN0aW9uLXJlY3RcIixcbiAgICBvbkNvbnRleHRNZW51OiBvbkNvbnRleHRNZW51LFxuICAgIHN0eWxlOiB7XG4gICAgICB3aWR0aDogd2lkdGgsXG4gICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgIHRvcDogdG9wLFxuICAgICAgbGVmdDogbGVmdFxuICAgIH1cbiAgfSkpO1xufVxuXG52YXIgTm9kZXNTZWxlY3Rpb24kMSA9IC8qI19fUFVSRV9fKi9tZW1vKE5vZGVzU2VsZWN0aW9uKTtcblxudmFyIHNlbGVjdG9yJDMgPSBmdW5jdGlvbiBzZWxlY3RvcihzKSB7XG4gIHJldHVybiBzLm5vZGVzU2VsZWN0aW9uQWN0aXZlO1xufTtcblxudmFyIEZsb3dSZW5kZXJlciA9IGZ1bmN0aW9uIEZsb3dSZW5kZXJlcihfcmVmKSB7XG4gIHZhciBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW4sXG4gICAgICBvblBhbmVDbGljayA9IF9yZWYub25QYW5lQ2xpY2ssXG4gICAgICBvblBhbmVDb250ZXh0TWVudSA9IF9yZWYub25QYW5lQ29udGV4dE1lbnUsXG4gICAgICBvblBhbmVTY3JvbGwgPSBfcmVmLm9uUGFuZVNjcm9sbCxcbiAgICAgIGRlbGV0ZUtleUNvZGUgPSBfcmVmLmRlbGV0ZUtleUNvZGUsXG4gICAgICBvbk1vdmUgPSBfcmVmLm9uTW92ZSxcbiAgICAgIG9uTW92ZVN0YXJ0ID0gX3JlZi5vbk1vdmVTdGFydCxcbiAgICAgIG9uTW92ZUVuZCA9IF9yZWYub25Nb3ZlRW5kLFxuICAgICAgc2VsZWN0aW9uS2V5Q29kZSA9IF9yZWYuc2VsZWN0aW9uS2V5Q29kZSxcbiAgICAgIG11bHRpU2VsZWN0aW9uS2V5Q29kZSA9IF9yZWYubXVsdGlTZWxlY3Rpb25LZXlDb2RlLFxuICAgICAgem9vbUFjdGl2YXRpb25LZXlDb2RlID0gX3JlZi56b29tQWN0aXZhdGlvbktleUNvZGUsXG4gICAgICBlbGVtZW50c1NlbGVjdGFibGUgPSBfcmVmLmVsZW1lbnRzU2VsZWN0YWJsZSxcbiAgICAgIHpvb21PblNjcm9sbCA9IF9yZWYuem9vbU9uU2Nyb2xsLFxuICAgICAgem9vbU9uUGluY2ggPSBfcmVmLnpvb21PblBpbmNoLFxuICAgICAgcGFuT25TY3JvbGwgPSBfcmVmLnBhbk9uU2Nyb2xsLFxuICAgICAgcGFuT25TY3JvbGxTcGVlZCA9IF9yZWYucGFuT25TY3JvbGxTcGVlZCxcbiAgICAgIHBhbk9uU2Nyb2xsTW9kZSA9IF9yZWYucGFuT25TY3JvbGxNb2RlLFxuICAgICAgem9vbU9uRG91YmxlQ2xpY2sgPSBfcmVmLnpvb21PbkRvdWJsZUNsaWNrLFxuICAgICAgcGFuT25EcmFnID0gX3JlZi5wYW5PbkRyYWcsXG4gICAgICB0cmFuc2xhdGVFeHRlbnQgPSBfcmVmLnRyYW5zbGF0ZUV4dGVudCxcbiAgICAgIG1pblpvb20gPSBfcmVmLm1pblpvb20sXG4gICAgICBtYXhab29tID0gX3JlZi5tYXhab29tLFxuICAgICAgZGVmYXVsdFpvb20gPSBfcmVmLmRlZmF1bHRab29tLFxuICAgICAgZGVmYXVsdFBvc2l0aW9uID0gX3JlZi5kZWZhdWx0UG9zaXRpb24sXG4gICAgICBwcmV2ZW50U2Nyb2xsaW5nID0gX3JlZi5wcmV2ZW50U2Nyb2xsaW5nLFxuICAgICAgb25TZWxlY3Rpb25Db250ZXh0TWVudSA9IF9yZWYub25TZWxlY3Rpb25Db250ZXh0TWVudSxcbiAgICAgIG5vV2hlZWxDbGFzc05hbWUgPSBfcmVmLm5vV2hlZWxDbGFzc05hbWUsXG4gICAgICBub1BhbkNsYXNzTmFtZSA9IF9yZWYubm9QYW5DbGFzc05hbWU7XG4gIHZhciBzdG9yZSA9IHVzZVN0b3JlQXBpKCk7XG4gIHZhciBub2Rlc1NlbGVjdGlvbkFjdGl2ZSA9IHVzZVN0b3JlKHNlbGVjdG9yJDMpO1xuICB2YXIgc2VsZWN0aW9uS2V5UHJlc3NlZCA9IHVzZUtleVByZXNzKHNlbGVjdGlvbktleUNvZGUpO1xuICB1c2VHbG9iYWxLZXlIYW5kbGVyKHtcbiAgICBkZWxldGVLZXlDb2RlOiBkZWxldGVLZXlDb2RlLFxuICAgIG11bHRpU2VsZWN0aW9uS2V5Q29kZTogbXVsdGlTZWxlY3Rpb25LZXlDb2RlXG4gIH0pO1xuXG4gIHZhciBvbkNsaWNrID0gZnVuY3Rpb24gb25DbGljayhldmVudCkge1xuICAgIG9uUGFuZUNsaWNrID09PSBudWxsIHx8IG9uUGFuZUNsaWNrID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvblBhbmVDbGljayhldmVudCk7XG4gICAgc3RvcmUuZ2V0U3RhdGUoKS5yZXNldFNlbGVjdGVkRWxlbWVudHMoKTtcbiAgICBzdG9yZS5zZXRTdGF0ZSh7XG4gICAgICBub2Rlc1NlbGVjdGlvbkFjdGl2ZTogZmFsc2VcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgb25Db250ZXh0TWVudSA9IG9uUGFuZUNvbnRleHRNZW51ID8gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgcmV0dXJuIG9uUGFuZUNvbnRleHRNZW51KGV2ZW50KTtcbiAgfSA6IHVuZGVmaW5lZDtcbiAgdmFyIG9uV2hlZWwgPSBvblBhbmVTY3JvbGwgPyBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICByZXR1cm4gb25QYW5lU2Nyb2xsKGV2ZW50KTtcbiAgfSA6IHVuZGVmaW5lZDtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFpvb21QYW5lLCB7XG4gICAgb25Nb3ZlOiBvbk1vdmUsXG4gICAgb25Nb3ZlU3RhcnQ6IG9uTW92ZVN0YXJ0LFxuICAgIG9uTW92ZUVuZDogb25Nb3ZlRW5kLFxuICAgIHNlbGVjdGlvbktleVByZXNzZWQ6IHNlbGVjdGlvbktleVByZXNzZWQsXG4gICAgZWxlbWVudHNTZWxlY3RhYmxlOiBlbGVtZW50c1NlbGVjdGFibGUsXG4gICAgem9vbU9uU2Nyb2xsOiB6b29tT25TY3JvbGwsXG4gICAgem9vbU9uUGluY2g6IHpvb21PblBpbmNoLFxuICAgIHBhbk9uU2Nyb2xsOiBwYW5PblNjcm9sbCxcbiAgICBwYW5PblNjcm9sbFNwZWVkOiBwYW5PblNjcm9sbFNwZWVkLFxuICAgIHBhbk9uU2Nyb2xsTW9kZTogcGFuT25TY3JvbGxNb2RlLFxuICAgIHpvb21PbkRvdWJsZUNsaWNrOiB6b29tT25Eb3VibGVDbGljayxcbiAgICBwYW5PbkRyYWc6IHBhbk9uRHJhZyxcbiAgICB0cmFuc2xhdGVFeHRlbnQ6IHRyYW5zbGF0ZUV4dGVudCxcbiAgICBtaW5ab29tOiBtaW5ab29tLFxuICAgIG1heFpvb206IG1heFpvb20sXG4gICAgZGVmYXVsdFpvb206IGRlZmF1bHRab29tLFxuICAgIGRlZmF1bHRQb3NpdGlvbjogZGVmYXVsdFBvc2l0aW9uLFxuICAgIHpvb21BY3RpdmF0aW9uS2V5Q29kZTogem9vbUFjdGl2YXRpb25LZXlDb2RlLFxuICAgIHByZXZlbnRTY3JvbGxpbmc6IHByZXZlbnRTY3JvbGxpbmcsXG4gICAgbm9XaGVlbENsYXNzTmFtZTogbm9XaGVlbENsYXNzTmFtZSxcbiAgICBub1BhbkNsYXNzTmFtZTogbm9QYW5DbGFzc05hbWVcbiAgfSwgY2hpbGRyZW4sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFVzZXJTZWxlY3Rpb24sIHtcbiAgICBzZWxlY3Rpb25LZXlQcmVzc2VkOiBzZWxlY3Rpb25LZXlQcmVzc2VkXG4gIH0pLCBub2Rlc1NlbGVjdGlvbkFjdGl2ZSAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChOb2Rlc1NlbGVjdGlvbiQxLCB7XG4gICAgb25TZWxlY3Rpb25Db250ZXh0TWVudTogb25TZWxlY3Rpb25Db250ZXh0TWVudSxcbiAgICBub1BhbkNsYXNzTmFtZTogbm9QYW5DbGFzc05hbWVcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwicmVhY3QtZmxvd19fcGFuZSByZWFjdC1mbG93X19jb250YWluZXJcIixcbiAgICBvbkNsaWNrOiBvbkNsaWNrLFxuICAgIG9uQ29udGV4dE1lbnU6IG9uQ29udGV4dE1lbnUsXG4gICAgb25XaGVlbDogb25XaGVlbFxuICB9KSk7XG59O1xuXG5GbG93UmVuZGVyZXIuZGlzcGxheU5hbWUgPSAnRmxvd1JlbmRlcmVyJztcbnZhciBGbG93UmVuZGVyZXIkMSA9IC8qI19fUFVSRV9fKi9tZW1vKEZsb3dSZW5kZXJlcik7XG5cbmZ1bmN0aW9uIHVzZVZpc2libGVOb2Rlcyhvbmx5UmVuZGVyVmlzaWJsZSkge1xuICB2YXIgbm9kZXMgPSB1c2VTdG9yZSh1c2VDYWxsYmFjayhmdW5jdGlvbiAocykge1xuICAgIHJldHVybiBvbmx5UmVuZGVyVmlzaWJsZSA/IGdldE5vZGVzSW5zaWRlKHMubm9kZUludGVybmFscywge1xuICAgICAgeDogMCxcbiAgICAgIHk6IDAsXG4gICAgICB3aWR0aDogcy53aWR0aCxcbiAgICAgIGhlaWdodDogcy5oZWlnaHRcbiAgICB9LCBzLnRyYW5zZm9ybSwgdHJ1ZSkgOiBBcnJheS5mcm9tKHMubm9kZUludGVybmFscy52YWx1ZXMoKSk7XG4gIH0sIFtvbmx5UmVuZGVyVmlzaWJsZV0pKTtcbiAgcmV0dXJuIG5vZGVzO1xufVxuXG52YXIgc2VsZWN0b3IkMiA9IGZ1bmN0aW9uIHNlbGVjdG9yKHMpIHtcbiAgcmV0dXJuIHtcbiAgICBub2Rlc0RyYWdnYWJsZTogcy5ub2Rlc0RyYWdnYWJsZSxcbiAgICBub2Rlc0Nvbm5lY3RhYmxlOiBzLm5vZGVzQ29ubmVjdGFibGUsXG4gICAgZWxlbWVudHNTZWxlY3RhYmxlOiBzLmVsZW1lbnRzU2VsZWN0YWJsZSxcbiAgICB1cGRhdGVOb2RlRGltZW5zaW9uczogcy51cGRhdGVOb2RlRGltZW5zaW9uc1xuICB9O1xufTtcblxudmFyIE5vZGVSZW5kZXJlciA9IGZ1bmN0aW9uIE5vZGVSZW5kZXJlcihwcm9wcykge1xuICB2YXIgX3VzZVN0b3JlID0gdXNlU3RvcmUoc2VsZWN0b3IkMiwgc2hhbGxvdyksXG4gICAgICBub2Rlc0RyYWdnYWJsZSA9IF91c2VTdG9yZS5ub2Rlc0RyYWdnYWJsZSxcbiAgICAgIG5vZGVzQ29ubmVjdGFibGUgPSBfdXNlU3RvcmUubm9kZXNDb25uZWN0YWJsZSxcbiAgICAgIGVsZW1lbnRzU2VsZWN0YWJsZSA9IF91c2VTdG9yZS5lbGVtZW50c1NlbGVjdGFibGUsXG4gICAgICB1cGRhdGVOb2RlRGltZW5zaW9ucyA9IF91c2VTdG9yZS51cGRhdGVOb2RlRGltZW5zaW9ucztcblxuICB2YXIgbm9kZXMgPSB1c2VWaXNpYmxlTm9kZXMocHJvcHMub25seVJlbmRlclZpc2libGVFbGVtZW50cyk7XG4gIHZhciByZXNpemVPYnNlcnZlclJlZiA9IHVzZVJlZigpO1xuICB2YXIgcmVzaXplT2JzZXJ2ZXIgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodHlwZW9mIFJlc2l6ZU9ic2VydmVyID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIG9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKGZ1bmN0aW9uIChlbnRyaWVzKSB7XG4gICAgICB2YXIgdXBkYXRlcyA9IGVudHJpZXMubWFwKGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlkOiBlbnRyeS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWlkJyksXG4gICAgICAgICAgbm9kZUVsZW1lbnQ6IGVudHJ5LnRhcmdldCxcbiAgICAgICAgICBmb3JjZVVwZGF0ZTogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgICB1cGRhdGVOb2RlRGltZW5zaW9ucyh1cGRhdGVzKTtcbiAgICB9KTtcbiAgICByZXNpemVPYnNlcnZlclJlZi5jdXJyZW50ID0gb2JzZXJ2ZXI7XG4gICAgcmV0dXJuIG9ic2VydmVyO1xuICB9LCBbXSk7XG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVzaXplT2JzZXJ2ZXJSZWYkY3U7XG5cbiAgICAgIHJlc2l6ZU9ic2VydmVyUmVmID09PSBudWxsIHx8IHJlc2l6ZU9ic2VydmVyUmVmID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3Jlc2l6ZU9ic2VydmVyUmVmJGN1ID0gcmVzaXplT2JzZXJ2ZXJSZWYuY3VycmVudCkgPT09IG51bGwgfHwgX3Jlc2l6ZU9ic2VydmVyUmVmJGN1ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcmVzaXplT2JzZXJ2ZXJSZWYkY3UuZGlzY29ubmVjdCgpO1xuICAgIH07XG4gIH0sIFtdKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwicmVhY3QtZmxvd19fbm9kZXMgcmVhY3QtZmxvd19fY29udGFpbmVyXCJcbiAgfSwgbm9kZXMubWFwKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgdmFyIF9ub2RlJHBvc2l0aW9uQWJzb2x1dCwgX25vZGUkcG9zaXRpb25BYnNvbHV0MiwgX25vZGUkcG9zaXRpb25BYnNvbHV0MywgX25vZGUkcG9zaXRpb25BYnNvbHV0NCwgX25vZGUkaW50ZXJuYWxzU3ltYm9sLCBfbm9kZSRpbnRlcm5hbHNTeW1ib2wyLCBfbm9kZSRpbnRlcm5hbHNTeW1ib2wzO1xuXG4gICAgdmFyIG5vZGVUeXBlID0gbm9kZS50eXBlIHx8ICdkZWZhdWx0JztcblxuICAgIGlmICghcHJvcHMubm9kZVR5cGVzW25vZGVUeXBlXSkge1xuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIltSZWFjdCBGbG93XTogTm9kZSB0eXBlIFxcXCJcIi5jb25jYXQobm9kZVR5cGUsIFwiXFxcIiBub3QgZm91bmQuIFVzaW5nIGZhbGxiYWNrIHR5cGUgXFxcImRlZmF1bHRcXFwiLiBIZWxwOiBodHRwczovL3JlYWN0Zmxvdy5kZXYvZXJyb3IjMzAwXCIpKTtcbiAgICAgIH1cblxuICAgICAgbm9kZVR5cGUgPSAnZGVmYXVsdCc7XG4gICAgfVxuXG4gICAgdmFyIE5vZGVDb21wb25lbnQgPSBwcm9wcy5ub2RlVHlwZXNbbm9kZVR5cGVdIHx8IHByb3BzLm5vZGVUeXBlc1tcImRlZmF1bHRcIl07XG4gICAgdmFyIGlzRHJhZ2dhYmxlID0gISEobm9kZS5kcmFnZ2FibGUgfHwgbm9kZXNEcmFnZ2FibGUgJiYgdHlwZW9mIG5vZGUuZHJhZ2dhYmxlID09PSAndW5kZWZpbmVkJyk7XG4gICAgdmFyIGlzU2VsZWN0YWJsZSA9ICEhKG5vZGUuc2VsZWN0YWJsZSB8fCBlbGVtZW50c1NlbGVjdGFibGUgJiYgdHlwZW9mIG5vZGUuc2VsZWN0YWJsZSA9PT0gJ3VuZGVmaW5lZCcpO1xuICAgIHZhciBpc0Nvbm5lY3RhYmxlID0gISEobm9kZS5jb25uZWN0YWJsZSB8fCBub2Rlc0Nvbm5lY3RhYmxlICYmIHR5cGVvZiBub2RlLmNvbm5lY3RhYmxlID09PSAndW5kZWZpbmVkJyk7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KE5vZGVDb21wb25lbnQsIHtcbiAgICAgIGtleTogbm9kZS5pZCxcbiAgICAgIGlkOiBub2RlLmlkLFxuICAgICAgY2xhc3NOYW1lOiBub2RlLmNsYXNzTmFtZSxcbiAgICAgIHN0eWxlOiBub2RlLnN0eWxlLFxuICAgICAgdHlwZTogbm9kZVR5cGUsXG4gICAgICBkYXRhOiBub2RlLmRhdGEsXG4gICAgICBzb3VyY2VQb3NpdGlvbjogbm9kZS5zb3VyY2VQb3NpdGlvbiB8fCBQb3NpdGlvbi5Cb3R0b20sXG4gICAgICB0YXJnZXRQb3NpdGlvbjogbm9kZS50YXJnZXRQb3NpdGlvbiB8fCBQb3NpdGlvbi5Ub3AsXG4gICAgICBoaWRkZW46IG5vZGUuaGlkZGVuLFxuICAgICAgeFBvczogKF9ub2RlJHBvc2l0aW9uQWJzb2x1dCA9IChfbm9kZSRwb3NpdGlvbkFic29sdXQyID0gbm9kZS5wb3NpdGlvbkFic29sdXRlKSA9PT0gbnVsbCB8fCBfbm9kZSRwb3NpdGlvbkFic29sdXQyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbm9kZSRwb3NpdGlvbkFic29sdXQyLngpICE9PSBudWxsICYmIF9ub2RlJHBvc2l0aW9uQWJzb2x1dCAhPT0gdm9pZCAwID8gX25vZGUkcG9zaXRpb25BYnNvbHV0IDogMCxcbiAgICAgIHlQb3M6IChfbm9kZSRwb3NpdGlvbkFic29sdXQzID0gKF9ub2RlJHBvc2l0aW9uQWJzb2x1dDQgPSBub2RlLnBvc2l0aW9uQWJzb2x1dGUpID09PSBudWxsIHx8IF9ub2RlJHBvc2l0aW9uQWJzb2x1dDQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9ub2RlJHBvc2l0aW9uQWJzb2x1dDQueSkgIT09IG51bGwgJiYgX25vZGUkcG9zaXRpb25BYnNvbHV0MyAhPT0gdm9pZCAwID8gX25vZGUkcG9zaXRpb25BYnNvbHV0MyA6IDAsXG4gICAgICBzZWxlY3ROb2Rlc09uRHJhZzogcHJvcHMuc2VsZWN0Tm9kZXNPbkRyYWcsXG4gICAgICBvbkNsaWNrOiBwcm9wcy5vbk5vZGVDbGljayxcbiAgICAgIG9uTW91c2VFbnRlcjogcHJvcHMub25Ob2RlTW91c2VFbnRlcixcbiAgICAgIG9uTW91c2VNb3ZlOiBwcm9wcy5vbk5vZGVNb3VzZU1vdmUsXG4gICAgICBvbk1vdXNlTGVhdmU6IHByb3BzLm9uTm9kZU1vdXNlTGVhdmUsXG4gICAgICBvbkNvbnRleHRNZW51OiBwcm9wcy5vbk5vZGVDb250ZXh0TWVudSxcbiAgICAgIG9uRG91YmxlQ2xpY2s6IHByb3BzLm9uTm9kZURvdWJsZUNsaWNrLFxuICAgICAgc2VsZWN0ZWQ6ICEhbm9kZS5zZWxlY3RlZCxcbiAgICAgIGlzRHJhZ2dhYmxlOiBpc0RyYWdnYWJsZSxcbiAgICAgIGlzU2VsZWN0YWJsZTogaXNTZWxlY3RhYmxlLFxuICAgICAgaXNDb25uZWN0YWJsZTogaXNDb25uZWN0YWJsZSxcbiAgICAgIHJlc2l6ZU9ic2VydmVyOiByZXNpemVPYnNlcnZlcixcbiAgICAgIGRyYWdIYW5kbGU6IG5vZGUuZHJhZ0hhbmRsZSxcbiAgICAgIHpJbmRleDogKF9ub2RlJGludGVybmFsc1N5bWJvbCA9IChfbm9kZSRpbnRlcm5hbHNTeW1ib2wyID0gbm9kZVtpbnRlcm5hbHNTeW1ib2xdKSA9PT0gbnVsbCB8fCBfbm9kZSRpbnRlcm5hbHNTeW1ib2wyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbm9kZSRpbnRlcm5hbHNTeW1ib2wyLnopICE9PSBudWxsICYmIF9ub2RlJGludGVybmFsc1N5bWJvbCAhPT0gdm9pZCAwID8gX25vZGUkaW50ZXJuYWxzU3ltYm9sIDogMCxcbiAgICAgIGlzUGFyZW50OiAhISgoX25vZGUkaW50ZXJuYWxzU3ltYm9sMyA9IG5vZGVbaW50ZXJuYWxzU3ltYm9sXSkgIT09IG51bGwgJiYgX25vZGUkaW50ZXJuYWxzU3ltYm9sMyAhPT0gdm9pZCAwICYmIF9ub2RlJGludGVybmFsc1N5bWJvbDMuaXNQYXJlbnQpLFxuICAgICAgbm9EcmFnQ2xhc3NOYW1lOiBwcm9wcy5ub0RyYWdDbGFzc05hbWUsXG4gICAgICBub1BhbkNsYXNzTmFtZTogcHJvcHMubm9QYW5DbGFzc05hbWUsXG4gICAgICBpbml0aWFsaXplZDogISFub2RlLndpZHRoICYmICEhbm9kZS5oZWlnaHRcbiAgICB9KTtcbiAgfSkpO1xufTtcblxuTm9kZVJlbmRlcmVyLmRpc3BsYXlOYW1lID0gJ05vZGVSZW5kZXJlcic7XG52YXIgTm9kZVJlbmRlcmVyJDEgPSAvKiNfX1BVUkVfXyovbWVtbyhOb2RlUmVuZGVyZXIpO1xuXG52YXIgX29wcG9zaXRlUG9zaXRpb247XG5cbmZ1bmN0aW9uIG93bktleXMkNChvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGVudW1lcmFibGVPbmx5ICYmIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSkpLCBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCQ0KHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gbnVsbCAhPSBhcmd1bWVudHNbaV0gPyBhcmd1bWVudHNbaV0gOiB7fTsgaSAlIDIgPyBvd25LZXlzJDQoT2JqZWN0KHNvdXJjZSksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpIDogb3duS2V5cyQ0KE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cbnZhciBvcHBvc2l0ZVBvc2l0aW9uID0gKF9vcHBvc2l0ZVBvc2l0aW9uID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfb3Bwb3NpdGVQb3NpdGlvbiwgUG9zaXRpb24uTGVmdCwgUG9zaXRpb24uUmlnaHQpLCBfZGVmaW5lUHJvcGVydHkoX29wcG9zaXRlUG9zaXRpb24sIFBvc2l0aW9uLlJpZ2h0LCBQb3NpdGlvbi5MZWZ0KSwgX2RlZmluZVByb3BlcnR5KF9vcHBvc2l0ZVBvc2l0aW9uLCBQb3NpdGlvbi5Ub3AsIFBvc2l0aW9uLkJvdHRvbSksIF9kZWZpbmVQcm9wZXJ0eShfb3Bwb3NpdGVQb3NpdGlvbiwgUG9zaXRpb24uQm90dG9tLCBQb3NpdGlvbi5Ub3ApLCBfb3Bwb3NpdGVQb3NpdGlvbik7XG52YXIgQ29ubmVjdGlvbkxpbmUgPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIF9mcm9tTm9kZSRpbnRlcm5hbHNTeSwgX2Zyb21Ob2RlJHdpZHRoLCBfZnJvbU5vZGUkaGVpZ2h0LCBfZnJvbU5vZGUkcG9zaXRpb25BYnMsIF9mcm9tTm9kZSRwb3NpdGlvbkFiczI7XG5cbiAgdmFyIGNvbm5lY3Rpb25Ob2RlSWQgPSBfcmVmLmNvbm5lY3Rpb25Ob2RlSWQsXG4gICAgICBjb25uZWN0aW9uSGFuZGxlVHlwZSA9IF9yZWYuY29ubmVjdGlvbkhhbmRsZVR5cGUsXG4gICAgICBjb25uZWN0aW9uTGluZVN0eWxlID0gX3JlZi5jb25uZWN0aW9uTGluZVN0eWxlLFxuICAgICAgX3JlZiRjb25uZWN0aW9uTGluZVR5ID0gX3JlZi5jb25uZWN0aW9uTGluZVR5cGUsXG4gICAgICBjb25uZWN0aW9uTGluZVR5cGUgPSBfcmVmJGNvbm5lY3Rpb25MaW5lVHkgPT09IHZvaWQgMCA/IENvbm5lY3Rpb25MaW5lVHlwZS5CZXppZXIgOiBfcmVmJGNvbm5lY3Rpb25MaW5lVHksXG4gICAgICBpc0Nvbm5lY3RhYmxlID0gX3JlZi5pc0Nvbm5lY3RhYmxlLFxuICAgICAgQ3VzdG9tQ29ubmVjdGlvbkxpbmVDb21wb25lbnQgPSBfcmVmLkN1c3RvbUNvbm5lY3Rpb25MaW5lQ29tcG9uZW50O1xuXG4gIHZhciBfdXNlU3RvcmUgPSB1c2VTdG9yZSh1c2VDYWxsYmFjayhmdW5jdGlvbiAocykge1xuICAgIHJldHVybiB7XG4gICAgICBmcm9tTm9kZTogcy5ub2RlSW50ZXJuYWxzLmdldChjb25uZWN0aW9uTm9kZUlkKSxcbiAgICAgIGhhbmRsZUlkOiBzLmNvbm5lY3Rpb25IYW5kbGVJZCxcbiAgICAgIHRvWDogKHMuY29ubmVjdGlvblBvc2l0aW9uLnggLSBzLnRyYW5zZm9ybVswXSkgLyBzLnRyYW5zZm9ybVsyXSxcbiAgICAgIHRvWTogKHMuY29ubmVjdGlvblBvc2l0aW9uLnkgLSBzLnRyYW5zZm9ybVsxXSkgLyBzLnRyYW5zZm9ybVsyXVxuICAgIH07XG4gIH0sIFtjb25uZWN0aW9uTm9kZUlkXSksIHNoYWxsb3cpLFxuICAgICAgZnJvbU5vZGUgPSBfdXNlU3RvcmUuZnJvbU5vZGUsXG4gICAgICBoYW5kbGVJZCA9IF91c2VTdG9yZS5oYW5kbGVJZCxcbiAgICAgIHRvWCA9IF91c2VTdG9yZS50b1gsXG4gICAgICB0b1kgPSBfdXNlU3RvcmUudG9ZO1xuXG4gIHZhciBmcm9tSGFuZGxlQm91bmRzID0gZnJvbU5vZGUgPT09IG51bGwgfHwgZnJvbU5vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfZnJvbU5vZGUkaW50ZXJuYWxzU3kgPSBmcm9tTm9kZVtpbnRlcm5hbHNTeW1ib2xdKSA9PT0gbnVsbCB8fCBfZnJvbU5vZGUkaW50ZXJuYWxzU3kgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mcm9tTm9kZSRpbnRlcm5hbHNTeS5oYW5kbGVCb3VuZHM7XG5cbiAgaWYgKCFmcm9tTm9kZSB8fCAhaXNDb25uZWN0YWJsZSB8fCAhKGZyb21IYW5kbGVCb3VuZHMgIT09IG51bGwgJiYgZnJvbUhhbmRsZUJvdW5kcyAhPT0gdm9pZCAwICYmIGZyb21IYW5kbGVCb3VuZHNbY29ubmVjdGlvbkhhbmRsZVR5cGVdKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIGhhbmRsZUJvdW5kID0gZnJvbUhhbmRsZUJvdW5kc1tjb25uZWN0aW9uSGFuZGxlVHlwZV07XG4gIHZhciBmcm9tSGFuZGxlID0gaGFuZGxlSWQgPyBoYW5kbGVCb3VuZC5maW5kKGZ1bmN0aW9uIChkKSB7XG4gICAgcmV0dXJuIGQuaWQgPT09IGhhbmRsZUlkO1xuICB9KSA6IGhhbmRsZUJvdW5kWzBdO1xuICB2YXIgZnJvbUhhbmRsZVggPSBmcm9tSGFuZGxlID8gZnJvbUhhbmRsZS54ICsgZnJvbUhhbmRsZS53aWR0aCAvIDIgOiAoKF9mcm9tTm9kZSR3aWR0aCA9IGZyb21Ob2RlID09PSBudWxsIHx8IGZyb21Ob2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBmcm9tTm9kZS53aWR0aCkgIT09IG51bGwgJiYgX2Zyb21Ob2RlJHdpZHRoICE9PSB2b2lkIDAgPyBfZnJvbU5vZGUkd2lkdGggOiAwKSAvIDI7XG4gIHZhciBmcm9tSGFuZGxlWSA9IGZyb21IYW5kbGUgPyBmcm9tSGFuZGxlLnkgKyBmcm9tSGFuZGxlLmhlaWdodCAvIDIgOiAoX2Zyb21Ob2RlJGhlaWdodCA9IGZyb21Ob2RlID09PSBudWxsIHx8IGZyb21Ob2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBmcm9tTm9kZS5oZWlnaHQpICE9PSBudWxsICYmIF9mcm9tTm9kZSRoZWlnaHQgIT09IHZvaWQgMCA/IF9mcm9tTm9kZSRoZWlnaHQgOiAwO1xuICB2YXIgZnJvbVggPSAoKGZyb21Ob2RlID09PSBudWxsIHx8IGZyb21Ob2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2Zyb21Ob2RlJHBvc2l0aW9uQWJzID0gZnJvbU5vZGUucG9zaXRpb25BYnNvbHV0ZSkgPT09IG51bGwgfHwgX2Zyb21Ob2RlJHBvc2l0aW9uQWJzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZnJvbU5vZGUkcG9zaXRpb25BYnMueCkgfHwgMCkgKyBmcm9tSGFuZGxlWDtcbiAgdmFyIGZyb21ZID0gKChmcm9tTm9kZSA9PT0gbnVsbCB8fCBmcm9tTm9kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9mcm9tTm9kZSRwb3NpdGlvbkFiczIgPSBmcm9tTm9kZS5wb3NpdGlvbkFic29sdXRlKSA9PT0gbnVsbCB8fCBfZnJvbU5vZGUkcG9zaXRpb25BYnMyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZnJvbU5vZGUkcG9zaXRpb25BYnMyLnkpIHx8IDApICsgZnJvbUhhbmRsZVk7XG4gIHZhciBmcm9tUG9zaXRpb24gPSBmcm9tSGFuZGxlID09PSBudWxsIHx8IGZyb21IYW5kbGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZyb21IYW5kbGUucG9zaXRpb247XG5cbiAgaWYgKCFmcm9tUG9zaXRpb24pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciB0b1Bvc2l0aW9uID0gb3Bwb3NpdGVQb3NpdGlvbltmcm9tUG9zaXRpb25dO1xuICB2YXIgc291cmNlWCwgc291cmNlWSwgc291cmNlUG9zaXRpb24sIHRhcmdldFgsIHRhcmdldFksIHRhcmdldFBvc2l0aW9uO1xuXG4gIHN3aXRjaCAoY29ubmVjdGlvbkhhbmRsZVR5cGUpIHtcbiAgICBjYXNlICdzb3VyY2UnOlxuICAgICAge1xuICAgICAgICBzb3VyY2VYID0gZnJvbVg7XG4gICAgICAgIHNvdXJjZVkgPSBmcm9tWTtcbiAgICAgICAgc291cmNlUG9zaXRpb24gPSBmcm9tUG9zaXRpb247XG4gICAgICAgIHRhcmdldFggPSB0b1g7XG4gICAgICAgIHRhcmdldFkgPSB0b1k7XG4gICAgICAgIHRhcmdldFBvc2l0aW9uID0gdG9Qb3NpdGlvbjtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAndGFyZ2V0JzpcbiAgICAgIHtcbiAgICAgICAgc291cmNlWCA9IHRvWDtcbiAgICAgICAgc291cmNlWSA9IHRvWTtcbiAgICAgICAgc291cmNlUG9zaXRpb24gPSB0b1Bvc2l0aW9uO1xuICAgICAgICB0YXJnZXRYID0gZnJvbVg7XG4gICAgICAgIHRhcmdldFkgPSBmcm9tWTtcbiAgICAgICAgdGFyZ2V0UG9zaXRpb24gPSBmcm9tUG9zaXRpb247XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgfVxuXG4gIGlmIChDdXN0b21Db25uZWN0aW9uTGluZUNvbXBvbmVudCkge1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImdcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcInJlYWN0LWZsb3dfX2Nvbm5lY3Rpb25cIlxuICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEN1c3RvbUNvbm5lY3Rpb25MaW5lQ29tcG9uZW50LCB7XG4gICAgICBjb25uZWN0aW9uTGluZVR5cGU6IGNvbm5lY3Rpb25MaW5lVHlwZSxcbiAgICAgIGNvbm5lY3Rpb25MaW5lU3R5bGU6IGNvbm5lY3Rpb25MaW5lU3R5bGUsXG4gICAgICBmcm9tTm9kZTogZnJvbU5vZGUsXG4gICAgICBmcm9tSGFuZGxlOiBmcm9tSGFuZGxlLFxuICAgICAgZnJvbVg6IGZyb21YLFxuICAgICAgZnJvbVk6IGZyb21ZLFxuICAgICAgdG9YOiB0b1gsXG4gICAgICB0b1k6IHRvWSxcbiAgICAgIGZyb21Qb3NpdGlvbjogZnJvbVBvc2l0aW9uLFxuICAgICAgdG9Qb3NpdGlvbjogdG9Qb3NpdGlvbixcbiAgICAgIC8vIHJlbW92ZSBpbiB2MTFcbiAgICAgIHNvdXJjZVBvc2l0aW9uOiBzb3VyY2VQb3NpdGlvbixcbiAgICAgIHRhcmdldFBvc2l0aW9uOiB0YXJnZXRQb3NpdGlvbixcbiAgICAgIHNvdXJjZU5vZGU6IGZyb21Ob2RlLFxuICAgICAgc291cmNlSGFuZGxlOiBmcm9tSGFuZGxlLFxuICAgICAgdGFyZ2V0WDogdGFyZ2V0WCxcbiAgICAgIHRhcmdldFk6IHRhcmdldFksXG4gICAgICBzb3VyY2VYOiBzb3VyY2VYLFxuICAgICAgc291cmNlWTogc291cmNlWVxuICAgIH0pKTtcbiAgfVxuXG4gIHZhciBkQXR0ciA9ICcnO1xuICB2YXIgcGF0aFBhcmFtcyA9IHtcbiAgICBzb3VyY2VYOiBzb3VyY2VYLFxuICAgIHNvdXJjZVk6IHNvdXJjZVksXG4gICAgc291cmNlUG9zaXRpb246IHNvdXJjZVBvc2l0aW9uLFxuICAgIHRhcmdldFg6IHRhcmdldFgsXG4gICAgdGFyZ2V0WTogdGFyZ2V0WSxcbiAgICB0YXJnZXRQb3NpdGlvbjogdGFyZ2V0UG9zaXRpb25cbiAgfTtcblxuICBpZiAoY29ubmVjdGlvbkxpbmVUeXBlID09PSBDb25uZWN0aW9uTGluZVR5cGUuQmV6aWVyKSB7XG4gICAgLy8gd2UgYXNzdW1lIHRoZSBkZXN0aW5hdGlvbiBwb3NpdGlvbiBpcyBvcHBvc2l0ZSB0byB0aGUgc291cmNlIHBvc2l0aW9uXG4gICAgZEF0dHIgPSBnZXRCZXppZXJQYXRoKHBhdGhQYXJhbXMpO1xuICB9IGVsc2UgaWYgKGNvbm5lY3Rpb25MaW5lVHlwZSA9PT0gQ29ubmVjdGlvbkxpbmVUeXBlLlN0ZXApIHtcbiAgICBkQXR0ciA9IGdldFNtb290aFN0ZXBQYXRoKF9vYmplY3RTcHJlYWQkNChfb2JqZWN0U3ByZWFkJDQoe30sIHBhdGhQYXJhbXMpLCB7fSwge1xuICAgICAgYm9yZGVyUmFkaXVzOiAwXG4gICAgfSkpO1xuICB9IGVsc2UgaWYgKGNvbm5lY3Rpb25MaW5lVHlwZSA9PT0gQ29ubmVjdGlvbkxpbmVUeXBlLlNtb290aFN0ZXApIHtcbiAgICBkQXR0ciA9IGdldFNtb290aFN0ZXBQYXRoKHBhdGhQYXJhbXMpO1xuICB9IGVsc2UgaWYgKGNvbm5lY3Rpb25MaW5lVHlwZSA9PT0gQ29ubmVjdGlvbkxpbmVUeXBlLlNpbXBsZUJlemllcikge1xuICAgIGRBdHRyID0gZ2V0U2ltcGxlQmV6aWVyUGF0aChwYXRoUGFyYW1zKTtcbiAgfSBlbHNlIHtcbiAgICBkQXR0ciA9IFwiTVwiLmNvbmNhdChzb3VyY2VYLCBcIixcIikuY29uY2F0KHNvdXJjZVksIFwiIFwiKS5jb25jYXQodGFyZ2V0WCwgXCIsXCIpLmNvbmNhdCh0YXJnZXRZKTtcbiAgfVxuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImdcIiwge1xuICAgIGNsYXNzTmFtZTogXCJyZWFjdC1mbG93X19jb25uZWN0aW9uXCJcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBkQXR0cixcbiAgICBjbGFzc05hbWU6IFwicmVhY3QtZmxvd19fY29ubmVjdGlvbi1wYXRoXCIsXG4gICAgc3R5bGU6IGNvbm5lY3Rpb25MaW5lU3R5bGVcbiAgfSkpO1xufSk7XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7XG4gIFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjtcblxuICByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iajtcbiAgfSA6IGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gb2JqICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xuICB9LCBfdHlwZW9mKG9iaik7XG59XG5cbnZhciBfTWFya2VyU3ltYm9scztcblxudmFyIEFycm93U3ltYm9sID0gZnVuY3Rpb24gQXJyb3dTeW1ib2woX3JlZikge1xuICB2YXIgX3JlZiRjb2xvciA9IF9yZWYuY29sb3IsXG4gICAgICBjb2xvciA9IF9yZWYkY29sb3IgPT09IHZvaWQgMCA/ICdub25lJyA6IF9yZWYkY29sb3IsXG4gICAgICBfcmVmJHN0cm9rZVdpZHRoID0gX3JlZi5zdHJva2VXaWR0aCxcbiAgICAgIHN0cm9rZVdpZHRoID0gX3JlZiRzdHJva2VXaWR0aCA9PT0gdm9pZCAwID8gMSA6IF9yZWYkc3Ryb2tlV2lkdGg7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBvbHlsaW5lXCIsIHtcbiAgICBzdHJva2U6IGNvbG9yLFxuICAgIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIixcbiAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiLFxuICAgIHN0cm9rZVdpZHRoOiBzdHJva2VXaWR0aCxcbiAgICBmaWxsOiBcIm5vbmVcIixcbiAgICBwb2ludHM6IFwiLTUsLTQgMCwwIC01LDRcIlxuICB9KTtcbn07XG5cbnZhciBBcnJvd0Nsb3NlZFN5bWJvbCA9IGZ1bmN0aW9uIEFycm93Q2xvc2VkU3ltYm9sKF9yZWYyKSB7XG4gIHZhciBfcmVmMiRjb2xvciA9IF9yZWYyLmNvbG9yLFxuICAgICAgY29sb3IgPSBfcmVmMiRjb2xvciA9PT0gdm9pZCAwID8gJ25vbmUnIDogX3JlZjIkY29sb3IsXG4gICAgICBfcmVmMiRzdHJva2VXaWR0aCA9IF9yZWYyLnN0cm9rZVdpZHRoLFxuICAgICAgc3Ryb2tlV2lkdGggPSBfcmVmMiRzdHJva2VXaWR0aCA9PT0gdm9pZCAwID8gMSA6IF9yZWYyJHN0cm9rZVdpZHRoO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwb2x5bGluZVwiLCB7XG4gICAgc3Ryb2tlOiBjb2xvcixcbiAgICBzdHJva2VMaW5lY2FwOiBcInJvdW5kXCIsXG4gICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIixcbiAgICBzdHJva2VXaWR0aDogc3Ryb2tlV2lkdGgsXG4gICAgZmlsbDogY29sb3IsXG4gICAgcG9pbnRzOiBcIi01LC00IDAsMCAtNSw0IC01LC00XCJcbiAgfSk7XG59O1xuXG52YXIgTWFya2VyU3ltYm9scyA9IChfTWFya2VyU3ltYm9scyA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX01hcmtlclN5bWJvbHMsIE1hcmtlclR5cGUuQXJyb3csIEFycm93U3ltYm9sKSwgX2RlZmluZVByb3BlcnR5KF9NYXJrZXJTeW1ib2xzLCBNYXJrZXJUeXBlLkFycm93Q2xvc2VkLCBBcnJvd0Nsb3NlZFN5bWJvbCksIF9NYXJrZXJTeW1ib2xzKTtcbmZ1bmN0aW9uIHVzZU1hcmtlclN5bWJvbCh0eXBlKSB7XG4gIHZhciBzeW1ib2wgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc3ltYm9sRXhpc3RzID0gTWFya2VyU3ltYm9scy5oYXNPd25Qcm9wZXJ0eSh0eXBlKTtcblxuICAgIGlmICghc3ltYm9sRXhpc3RzKSB7XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiW1JlYWN0IEZsb3ddOiBNYXJrZXIgdHlwZSBcXFwiXCIuY29uY2F0KHR5cGUsIFwiXFxcIiBkb2Vzbid0IGV4aXN0LiBIZWxwOiBodHRwczovL3JlYWN0Zmxvdy5kZXYvZXJyb3IjOTAwXCIpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBNYXJrZXJTeW1ib2xzW3R5cGVdO1xuICB9LCBbdHlwZV0pO1xuICByZXR1cm4gc3ltYm9sO1xufVxuXG5mdW5jdGlvbiBvd25LZXlzJDMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBlbnVtZXJhYmxlT25seSAmJiAoc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pKSwga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQkMyh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IG51bGwgIT0gYXJndW1lbnRzW2ldID8gYXJndW1lbnRzW2ldIDoge307IGkgJSAyID8gb3duS2V5cyQzKE9iamVjdChzb3VyY2UpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKSA6IG93bktleXMkMyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbnZhciBNYXJrZXIgPSBmdW5jdGlvbiBNYXJrZXIoX3JlZikge1xuICB2YXIgaWQgPSBfcmVmLmlkLFxuICAgICAgdHlwZSA9IF9yZWYudHlwZSxcbiAgICAgIGNvbG9yID0gX3JlZi5jb2xvcixcbiAgICAgIF9yZWYkd2lkdGggPSBfcmVmLndpZHRoLFxuICAgICAgd2lkdGggPSBfcmVmJHdpZHRoID09PSB2b2lkIDAgPyAxMi41IDogX3JlZiR3aWR0aCxcbiAgICAgIF9yZWYkaGVpZ2h0ID0gX3JlZi5oZWlnaHQsXG4gICAgICBoZWlnaHQgPSBfcmVmJGhlaWdodCA9PT0gdm9pZCAwID8gMTIuNSA6IF9yZWYkaGVpZ2h0LFxuICAgICAgX3JlZiRtYXJrZXJVbml0cyA9IF9yZWYubWFya2VyVW5pdHMsXG4gICAgICBtYXJrZXJVbml0cyA9IF9yZWYkbWFya2VyVW5pdHMgPT09IHZvaWQgMCA/ICdzdHJva2VXaWR0aCcgOiBfcmVmJG1hcmtlclVuaXRzLFxuICAgICAgc3Ryb2tlV2lkdGggPSBfcmVmLnN0cm9rZVdpZHRoLFxuICAgICAgX3JlZiRvcmllbnQgPSBfcmVmLm9yaWVudCxcbiAgICAgIG9yaWVudCA9IF9yZWYkb3JpZW50ID09PSB2b2lkIDAgPyAnYXV0bycgOiBfcmVmJG9yaWVudDtcblxuICB2YXIgX1N5bWJvbCA9IHVzZU1hcmtlclN5bWJvbCh0eXBlKTtcblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJtYXJrZXJcIiwge1xuICAgIGNsYXNzTmFtZTogXCJyZWFjdC1mbG93X19hcnJvd2hlYWRcIixcbiAgICBpZDogaWQsXG4gICAgbWFya2VyV2lkdGg6IFwiXCIuY29uY2F0KHdpZHRoKSxcbiAgICBtYXJrZXJIZWlnaHQ6IFwiXCIuY29uY2F0KGhlaWdodCksXG4gICAgdmlld0JveDogXCItMTAgLTEwIDIwIDIwXCIsXG4gICAgbWFya2VyVW5pdHM6IG1hcmtlclVuaXRzLFxuICAgIG9yaWVudDogb3JpZW50LFxuICAgIHJlZlg6IFwiMFwiLFxuICAgIHJlZlk6IFwiMFwiXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KF9TeW1ib2wsIHtcbiAgICBjb2xvcjogY29sb3IsXG4gICAgc3Ryb2tlV2lkdGg6IHN0cm9rZVdpZHRoXG4gIH0pKTtcbn07XG5cbnZhciBtYXJrZXJTZWxlY3RvciA9IGZ1bmN0aW9uIG1hcmtlclNlbGVjdG9yKF9yZWYyKSB7XG4gIHZhciBkZWZhdWx0Q29sb3IgPSBfcmVmMi5kZWZhdWx0Q29sb3IsXG4gICAgICByZklkID0gX3JlZjIucmZJZDtcbiAgcmV0dXJuIGZ1bmN0aW9uIChzKSB7XG4gICAgdmFyIGlkcyA9IFtdO1xuICAgIHJldHVybiBzLmVkZ2VzLnJlZHVjZShmdW5jdGlvbiAobWFya2VycywgZWRnZSkge1xuICAgICAgW2VkZ2UubWFya2VyU3RhcnQsIGVkZ2UubWFya2VyRW5kXS5mb3JFYWNoKGZ1bmN0aW9uIChtYXJrZXIpIHtcbiAgICAgICAgaWYgKG1hcmtlciAmJiBfdHlwZW9mKG1hcmtlcikgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgdmFyIG1hcmtlcklkID0gZ2V0TWFya2VySWQobWFya2VyLCByZklkKTtcblxuICAgICAgICAgIGlmICghaWRzLmluY2x1ZGVzKG1hcmtlcklkKSkge1xuICAgICAgICAgICAgbWFya2Vycy5wdXNoKF9vYmplY3RTcHJlYWQkMyh7XG4gICAgICAgICAgICAgIGlkOiBtYXJrZXJJZCxcbiAgICAgICAgICAgICAgY29sb3I6IG1hcmtlci5jb2xvciB8fCBkZWZhdWx0Q29sb3JcbiAgICAgICAgICAgIH0sIG1hcmtlcikpO1xuICAgICAgICAgICAgaWRzLnB1c2gobWFya2VySWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gbWFya2VycztcbiAgICB9LCBbXSkuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgcmV0dXJuIGEuaWQubG9jYWxlQ29tcGFyZShiLmlkKTtcbiAgICB9KTtcbiAgfTtcbn07IC8vIHdoZW4geW91IGhhdmUgbXVsdGlwbGUgZmxvd3Mgb24gYSBwYWdlIGFuZCB5b3UgaGlkZSB0aGUgZmlyc3Qgb25lLCB0aGUgb3RoZXIgb25lcyBoYXZlIG5vIG1hcmtlcnMgYW55bW9yZVxuLy8gd2hlbiB0aGV5IGRvIGhhdmUgbWFya2VycyB3aXRoIHRoZSBzYW1lIGlkcy4gVG8gcHJldmVudCB0aGlzIHRoZSB1c2VyIGNhbiBwYXNzIGEgdW5pcXVlIGlkIHRvIHRoZSByZWFjdCBmbG93IHdyYXBwZXJcbi8vIHRoYXQgd2UgY2FuIHRoZW4gdXNlIGZvciBjcmVhdGluZyBvdXIgdW5pcXVlIG1hcmtlciBpZHNcblxuXG52YXIgTWFya2VyRGVmaW5pdGlvbnMgPSBmdW5jdGlvbiBNYXJrZXJEZWZpbml0aW9ucyhfcmVmMykge1xuICB2YXIgZGVmYXVsdENvbG9yID0gX3JlZjMuZGVmYXVsdENvbG9yLFxuICAgICAgcmZJZCA9IF9yZWYzLnJmSWQ7XG4gIHZhciBtYXJrZXJzID0gdXNlU3RvcmUodXNlQ2FsbGJhY2sobWFya2VyU2VsZWN0b3Ioe1xuICAgIGRlZmF1bHRDb2xvcjogZGVmYXVsdENvbG9yLFxuICAgIHJmSWQ6IHJmSWRcbiAgfSksIFtkZWZhdWx0Q29sb3IsIHJmSWRdKSwgLy8gdGhlIGlkIGluY2x1ZGVzIGFsbCBtYXJrZXIgb3B0aW9ucywgc28gd2UganVzdCBuZWVkIHRvIGxvb2sgYXQgdGhhdCBwYXJ0IG9mIHRoZSBtYXJrZXJcbiAgZnVuY3Rpb24gKGEsIGIpIHtcbiAgICByZXR1cm4gIShhLmxlbmd0aCAhPT0gYi5sZW5ndGggfHwgYS5zb21lKGZ1bmN0aW9uIChtLCBpKSB7XG4gICAgICByZXR1cm4gbS5pZCAhPT0gYltpXS5pZDtcbiAgICB9KSk7XG4gIH0pO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkZWZzXCIsIG51bGwsIG1hcmtlcnMubWFwKGZ1bmN0aW9uIChtYXJrZXIpIHtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTWFya2VyLCB7XG4gICAgICBpZDogbWFya2VyLmlkLFxuICAgICAga2V5OiBtYXJrZXIuaWQsXG4gICAgICB0eXBlOiBtYXJrZXIudHlwZSxcbiAgICAgIGNvbG9yOiBtYXJrZXIuY29sb3IsXG4gICAgICB3aWR0aDogbWFya2VyLndpZHRoLFxuICAgICAgaGVpZ2h0OiBtYXJrZXIuaGVpZ2h0LFxuICAgICAgbWFya2VyVW5pdHM6IG1hcmtlci5tYXJrZXJVbml0cyxcbiAgICAgIHN0cm9rZVdpZHRoOiBtYXJrZXIuc3Ryb2tlV2lkdGgsXG4gICAgICBvcmllbnQ6IG1hcmtlci5vcmllbnRcbiAgICB9KTtcbiAgfSkpO1xufTtcblxuTWFya2VyRGVmaW5pdGlvbnMuZGlzcGxheU5hbWUgPSAnTWFya2VyRGVmaW5pdGlvbnMnO1xudmFyIE1hcmtlckRlZmluaXRpb25zJDEgPSAvKiNfX1BVUkVfXyovbWVtbyhNYXJrZXJEZWZpbml0aW9ucyk7XG5cbnZhciBkZWZhdWx0RWRnZVRyZWUgPSBbe1xuICBsZXZlbDogMCxcbiAgaXNNYXhMZXZlbDogdHJ1ZSxcbiAgZWRnZXM6IFtdXG59XTtcblxuZnVuY3Rpb24gZ3JvdXBFZGdlc0J5WkxldmVsKGVkZ2VzLCBub2RlSW50ZXJuYWxzKSB7XG4gIHZhciBlbGV2YXRlRWRnZXNPblNlbGVjdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogZmFsc2U7XG4gIHZhciBtYXhMZXZlbCA9IC0xO1xuICB2YXIgbGV2ZWxMb29rdXAgPSBlZGdlcy5yZWR1Y2UoZnVuY3Rpb24gKHRyZWUsIGVkZ2UpIHtcbiAgICB2YXIgaGFzWkluZGV4ID0gaXNOdW1lcmljKGVkZ2UuekluZGV4KTtcbiAgICB2YXIgeiA9IGhhc1pJbmRleCA/IGVkZ2UuekluZGV4IDogMDtcblxuICAgIGlmIChlbGV2YXRlRWRnZXNPblNlbGVjdCkge1xuICAgICAgdmFyIF9ub2RlSW50ZXJuYWxzJGdldCwgX25vZGVJbnRlcm5hbHMkZ2V0JGluLCBfbm9kZUludGVybmFscyRnZXQyLCBfbm9kZUludGVybmFscyRnZXQyJGk7XG5cbiAgICAgIHogPSBoYXNaSW5kZXggPyBlZGdlLnpJbmRleCA6IE1hdGgubWF4KCgoX25vZGVJbnRlcm5hbHMkZ2V0ID0gbm9kZUludGVybmFscy5nZXQoZWRnZS5zb3VyY2UpKSA9PT0gbnVsbCB8fCBfbm9kZUludGVybmFscyRnZXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfbm9kZUludGVybmFscyRnZXQkaW4gPSBfbm9kZUludGVybmFscyRnZXRbaW50ZXJuYWxzU3ltYm9sXSkgPT09IG51bGwgfHwgX25vZGVJbnRlcm5hbHMkZ2V0JGluID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbm9kZUludGVybmFscyRnZXQkaW4ueikgfHwgMCwgKChfbm9kZUludGVybmFscyRnZXQyID0gbm9kZUludGVybmFscy5nZXQoZWRnZS50YXJnZXQpKSA9PT0gbnVsbCB8fCBfbm9kZUludGVybmFscyRnZXQyID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX25vZGVJbnRlcm5hbHMkZ2V0MiRpID0gX25vZGVJbnRlcm5hbHMkZ2V0MltpbnRlcm5hbHNTeW1ib2xdKSA9PT0gbnVsbCB8fCBfbm9kZUludGVybmFscyRnZXQyJGkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9ub2RlSW50ZXJuYWxzJGdldDIkaS56KSB8fCAwKTtcbiAgICB9XG5cbiAgICBpZiAodHJlZVt6XSkge1xuICAgICAgdHJlZVt6XS5wdXNoKGVkZ2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0cmVlW3pdID0gW2VkZ2VdO1xuICAgIH1cblxuICAgIG1heExldmVsID0geiA+IG1heExldmVsID8geiA6IG1heExldmVsO1xuICAgIHJldHVybiB0cmVlO1xuICB9LCB7fSk7XG4gIHZhciBlZGdlVHJlZSA9IE9iamVjdC5lbnRyaWVzKGxldmVsTG9va3VwKS5tYXAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgX3JlZjIgPSBfc2xpY2VkVG9BcnJheShfcmVmLCAyKSxcbiAgICAgICAga2V5ID0gX3JlZjJbMF0sXG4gICAgICAgIGVkZ2VzID0gX3JlZjJbMV07XG5cbiAgICB2YXIgbGV2ZWwgPSAra2V5O1xuICAgIHJldHVybiB7XG4gICAgICBlZGdlczogZWRnZXMsXG4gICAgICBsZXZlbDogbGV2ZWwsXG4gICAgICBpc01heExldmVsOiBsZXZlbCA9PT0gbWF4TGV2ZWxcbiAgICB9O1xuICB9KTtcblxuICBpZiAoZWRnZVRyZWUubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRFZGdlVHJlZTtcbiAgfVxuXG4gIHJldHVybiBlZGdlVHJlZTtcbn1cblxuZnVuY3Rpb24gdXNlVmlzaWJsZUVkZ2VzKG9ubHlSZW5kZXJWaXNpYmxlLCBub2RlSW50ZXJuYWxzLCBlbGV2YXRlRWRnZXNPblNlbGVjdCkge1xuICB2YXIgZWRnZXMgPSB1c2VTdG9yZSh1c2VDYWxsYmFjayhmdW5jdGlvbiAocykge1xuICAgIGlmICghb25seVJlbmRlclZpc2libGUpIHtcbiAgICAgIHJldHVybiBzLmVkZ2VzO1xuICAgIH1cblxuICAgIHJldHVybiBzLmVkZ2VzLmZpbHRlcihmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIHNvdXJjZU5vZGUgPSBub2RlSW50ZXJuYWxzLmdldChlLnNvdXJjZSk7XG4gICAgICB2YXIgdGFyZ2V0Tm9kZSA9IG5vZGVJbnRlcm5hbHMuZ2V0KGUudGFyZ2V0KTtcbiAgICAgIHJldHVybiAoc291cmNlTm9kZSA9PT0gbnVsbCB8fCBzb3VyY2VOb2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzb3VyY2VOb2RlLndpZHRoKSAmJiAoc291cmNlTm9kZSA9PT0gbnVsbCB8fCBzb3VyY2VOb2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzb3VyY2VOb2RlLmhlaWdodCkgJiYgKHRhcmdldE5vZGUgPT09IG51bGwgfHwgdGFyZ2V0Tm9kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGFyZ2V0Tm9kZS53aWR0aCkgJiYgKHRhcmdldE5vZGUgPT09IG51bGwgfHwgdGFyZ2V0Tm9kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGFyZ2V0Tm9kZS5oZWlnaHQpICYmIGlzRWRnZVZpc2libGUoe1xuICAgICAgICBzb3VyY2VQb3M6IHNvdXJjZU5vZGUucG9zaXRpb25BYnNvbHV0ZSB8fCB7XG4gICAgICAgICAgeDogMCxcbiAgICAgICAgICB5OiAwXG4gICAgICAgIH0sXG4gICAgICAgIHRhcmdldFBvczogdGFyZ2V0Tm9kZS5wb3NpdGlvbkFic29sdXRlIHx8IHtcbiAgICAgICAgICB4OiAwLFxuICAgICAgICAgIHk6IDBcbiAgICAgICAgfSxcbiAgICAgICAgc291cmNlV2lkdGg6IHNvdXJjZU5vZGUud2lkdGgsXG4gICAgICAgIHNvdXJjZUhlaWdodDogc291cmNlTm9kZS5oZWlnaHQsXG4gICAgICAgIHRhcmdldFdpZHRoOiB0YXJnZXROb2RlLndpZHRoLFxuICAgICAgICB0YXJnZXRIZWlnaHQ6IHRhcmdldE5vZGUuaGVpZ2h0LFxuICAgICAgICB3aWR0aDogcy53aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBzLmhlaWdodCxcbiAgICAgICAgdHJhbnNmb3JtOiBzLnRyYW5zZm9ybVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0sIFtvbmx5UmVuZGVyVmlzaWJsZSwgbm9kZUludGVybmFsc10pKTtcbiAgcmV0dXJuIGdyb3VwRWRnZXNCeVpMZXZlbChlZGdlcywgbm9kZUludGVybmFscywgZWxldmF0ZUVkZ2VzT25TZWxlY3QpO1xufVxuXG52YXIgc2VsZWN0b3IkMSA9IGZ1bmN0aW9uIHNlbGVjdG9yKHMpIHtcbiAgcmV0dXJuIHtcbiAgICBjb25uZWN0aW9uTm9kZUlkOiBzLmNvbm5lY3Rpb25Ob2RlSWQsXG4gICAgY29ubmVjdGlvbkhhbmRsZVR5cGU6IHMuY29ubmVjdGlvbkhhbmRsZVR5cGUsXG4gICAgbm9kZXNDb25uZWN0YWJsZTogcy5ub2Rlc0Nvbm5lY3RhYmxlLFxuICAgIGVsZW1lbnRzU2VsZWN0YWJsZTogcy5lbGVtZW50c1NlbGVjdGFibGUsXG4gICAgd2lkdGg6IHMud2lkdGgsXG4gICAgaGVpZ2h0OiBzLmhlaWdodCxcbiAgICBjb25uZWN0aW9uTW9kZTogcy5jb25uZWN0aW9uTW9kZSxcbiAgICBub2RlSW50ZXJuYWxzOiBzLm5vZGVJbnRlcm5hbHNcbiAgfTtcbn07XG5cbnZhciBFZGdlUmVuZGVyZXIgPSBmdW5jdGlvbiBFZGdlUmVuZGVyZXIocHJvcHMpIHtcbiAgdmFyIF91c2VTdG9yZSA9IHVzZVN0b3JlKHNlbGVjdG9yJDEsIHNoYWxsb3cpLFxuICAgICAgY29ubmVjdGlvbk5vZGVJZCA9IF91c2VTdG9yZS5jb25uZWN0aW9uTm9kZUlkLFxuICAgICAgY29ubmVjdGlvbkhhbmRsZVR5cGUgPSBfdXNlU3RvcmUuY29ubmVjdGlvbkhhbmRsZVR5cGUsXG4gICAgICBub2Rlc0Nvbm5lY3RhYmxlID0gX3VzZVN0b3JlLm5vZGVzQ29ubmVjdGFibGUsXG4gICAgICBlbGVtZW50c1NlbGVjdGFibGUgPSBfdXNlU3RvcmUuZWxlbWVudHNTZWxlY3RhYmxlLFxuICAgICAgd2lkdGggPSBfdXNlU3RvcmUud2lkdGgsXG4gICAgICBoZWlnaHQgPSBfdXNlU3RvcmUuaGVpZ2h0LFxuICAgICAgY29ubmVjdGlvbk1vZGUgPSBfdXNlU3RvcmUuY29ubmVjdGlvbk1vZGUsXG4gICAgICBub2RlSW50ZXJuYWxzID0gX3VzZVN0b3JlLm5vZGVJbnRlcm5hbHM7XG5cbiAgdmFyIGVkZ2VUcmVlID0gdXNlVmlzaWJsZUVkZ2VzKHByb3BzLm9ubHlSZW5kZXJWaXNpYmxlRWxlbWVudHMsIG5vZGVJbnRlcm5hbHMsIHByb3BzLmVsZXZhdGVFZGdlc09uU2VsZWN0KTtcblxuICBpZiAoIXdpZHRoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgY29ubmVjdGlvbkxpbmVUeXBlID0gcHJvcHMuY29ubmVjdGlvbkxpbmVUeXBlLFxuICAgICAgZGVmYXVsdE1hcmtlckNvbG9yID0gcHJvcHMuZGVmYXVsdE1hcmtlckNvbG9yLFxuICAgICAgY29ubmVjdGlvbkxpbmVTdHlsZSA9IHByb3BzLmNvbm5lY3Rpb25MaW5lU3R5bGUsXG4gICAgICBjb25uZWN0aW9uTGluZUNvbXBvbmVudCA9IHByb3BzLmNvbm5lY3Rpb25MaW5lQ29tcG9uZW50LFxuICAgICAgY29ubmVjdGlvbkxpbmVDb250YWluZXJTdHlsZSA9IHByb3BzLmNvbm5lY3Rpb25MaW5lQ29udGFpbmVyU3R5bGU7XG4gIHZhciByZW5kZXJDb25uZWN0aW9uTGluZSA9IGNvbm5lY3Rpb25Ob2RlSWQgJiYgY29ubmVjdGlvbkhhbmRsZVR5cGU7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgZWRnZVRyZWUubWFwKGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgdmFyIGxldmVsID0gX3JlZi5sZXZlbCxcbiAgICAgICAgZWRnZXMgPSBfcmVmLmVkZ2VzLFxuICAgICAgICBpc01heExldmVsID0gX3JlZi5pc01heExldmVsO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInN2Z1wiLCB7XG4gICAgICBrZXk6IGxldmVsLFxuICAgICAgc3R5bGU6IHtcbiAgICAgICAgekluZGV4OiBsZXZlbFxuICAgICAgfSxcbiAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgY2xhc3NOYW1lOiBcInJlYWN0LWZsb3dfX2VkZ2VzIHJlYWN0LWZsb3dfX2NvbnRhaW5lclwiXG4gICAgfSwgaXNNYXhMZXZlbCAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChNYXJrZXJEZWZpbml0aW9ucyQxLCB7XG4gICAgICBkZWZhdWx0Q29sb3I6IGRlZmF1bHRNYXJrZXJDb2xvcixcbiAgICAgIHJmSWQ6IHByb3BzLnJmSWRcbiAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIG51bGwsIGVkZ2VzLm1hcChmdW5jdGlvbiAoZWRnZSkge1xuICAgICAgdmFyIF9nZXROb2RlRGF0YSA9IGdldE5vZGVEYXRhKG5vZGVJbnRlcm5hbHMsIGVkZ2Uuc291cmNlKSxcbiAgICAgICAgICBfZ2V0Tm9kZURhdGEyID0gX3NsaWNlZFRvQXJyYXkoX2dldE5vZGVEYXRhLCAzKSxcbiAgICAgICAgICBzb3VyY2VOb2RlUmVjdCA9IF9nZXROb2RlRGF0YTJbMF0sXG4gICAgICAgICAgc291cmNlSGFuZGxlQm91bmRzID0gX2dldE5vZGVEYXRhMlsxXSxcbiAgICAgICAgICBzb3VyY2VJc1ZhbGlkID0gX2dldE5vZGVEYXRhMlsyXTtcblxuICAgICAgdmFyIF9nZXROb2RlRGF0YTMgPSBnZXROb2RlRGF0YShub2RlSW50ZXJuYWxzLCBlZGdlLnRhcmdldCksXG4gICAgICAgICAgX2dldE5vZGVEYXRhNCA9IF9zbGljZWRUb0FycmF5KF9nZXROb2RlRGF0YTMsIDMpLFxuICAgICAgICAgIHRhcmdldE5vZGVSZWN0ID0gX2dldE5vZGVEYXRhNFswXSxcbiAgICAgICAgICB0YXJnZXRIYW5kbGVCb3VuZHMgPSBfZ2V0Tm9kZURhdGE0WzFdLFxuICAgICAgICAgIHRhcmdldElzVmFsaWQgPSBfZ2V0Tm9kZURhdGE0WzJdO1xuXG4gICAgICBpZiAoIXNvdXJjZUlzVmFsaWQgfHwgIXRhcmdldElzVmFsaWQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciBlZGdlVHlwZSA9IGVkZ2UudHlwZSB8fCAnZGVmYXVsdCc7XG5cbiAgICAgIGlmICghcHJvcHMuZWRnZVR5cGVzW2VkZ2VUeXBlXSkge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJbUmVhY3QgRmxvd106IEVkZ2UgdHlwZSBcXFwiXCIuY29uY2F0KGVkZ2VUeXBlLCBcIlxcXCIgbm90IGZvdW5kLiBVc2luZyBmYWxsYmFjayB0eXBlIFxcXCJkZWZhdWx0XFxcIi4gSGVscDogaHR0cHM6Ly9yZWFjdGZsb3cuZGV2L2Vycm9yIzMwMFwiKSk7XG4gICAgICAgIGVkZ2VUeXBlID0gJ2RlZmF1bHQnO1xuICAgICAgfVxuXG4gICAgICB2YXIgRWRnZUNvbXBvbmVudCA9IHByb3BzLmVkZ2VUeXBlc1tlZGdlVHlwZV0gfHwgcHJvcHMuZWRnZVR5cGVzW1wiZGVmYXVsdFwiXTsgLy8gd2hlbiBjb25uZWN0aW9uIHR5cGUgaXMgbG9vc2Ugd2UgY2FuIGRlZmluZSBhbGwgaGFuZGxlcyBhcyBzb3VyY2VzXG5cbiAgICAgIHZhciB0YXJnZXROb2RlSGFuZGxlcyA9IGNvbm5lY3Rpb25Nb2RlID09PSBDb25uZWN0aW9uTW9kZS5TdHJpY3QgPyB0YXJnZXRIYW5kbGVCb3VuZHMudGFyZ2V0IDogdGFyZ2V0SGFuZGxlQm91bmRzLnRhcmdldCB8fCB0YXJnZXRIYW5kbGVCb3VuZHMuc291cmNlO1xuICAgICAgdmFyIHNvdXJjZUhhbmRsZSA9IGdldEhhbmRsZShzb3VyY2VIYW5kbGVCb3VuZHMuc291cmNlLCBlZGdlLnNvdXJjZUhhbmRsZSB8fCBudWxsKTtcbiAgICAgIHZhciB0YXJnZXRIYW5kbGUgPSBnZXRIYW5kbGUodGFyZ2V0Tm9kZUhhbmRsZXMsIGVkZ2UudGFyZ2V0SGFuZGxlIHx8IG51bGwpO1xuICAgICAgdmFyIHNvdXJjZVBvc2l0aW9uID0gKHNvdXJjZUhhbmRsZSA9PT0gbnVsbCB8fCBzb3VyY2VIYW5kbGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNvdXJjZUhhbmRsZS5wb3NpdGlvbikgfHwgUG9zaXRpb24uQm90dG9tO1xuICAgICAgdmFyIHRhcmdldFBvc2l0aW9uID0gKHRhcmdldEhhbmRsZSA9PT0gbnVsbCB8fCB0YXJnZXRIYW5kbGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRhcmdldEhhbmRsZS5wb3NpdGlvbikgfHwgUG9zaXRpb24uVG9wO1xuXG4gICAgICBpZiAoIXNvdXJjZUhhbmRsZSkge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIltSZWFjdCBGbG93XTogQ291bGRuJ3QgY3JlYXRlIGVkZ2UgZm9yIHNvdXJjZSBoYW5kbGUgaWQ6IFwiLmNvbmNhdChlZGdlLnNvdXJjZUhhbmRsZSwgXCI7IGVkZ2UgaWQ6IFwiKS5jb25jYXQoZWRnZS5pZCwgXCIuIEhlbHA6IGh0dHBzOi8vcmVhY3RmbG93LmRldi9lcnJvciM4MDBcIikpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGFyZ2V0SGFuZGxlKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiW1JlYWN0IEZsb3ddOiBDb3VsZG4ndCBjcmVhdGUgZWRnZSBmb3IgdGFyZ2V0IGhhbmRsZSBpZDogXCIuY29uY2F0KGVkZ2UudGFyZ2V0SGFuZGxlLCBcIjsgZWRnZSBpZDogXCIpLmNvbmNhdChlZGdlLmlkLCBcIi4gSGVscDogaHR0cHM6Ly9yZWFjdGZsb3cuZGV2L2Vycm9yIzgwMFwiKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIF9nZXRFZGdlUG9zaXRpb25zID0gZ2V0RWRnZVBvc2l0aW9ucyhzb3VyY2VOb2RlUmVjdCwgc291cmNlSGFuZGxlLCBzb3VyY2VQb3NpdGlvbiwgdGFyZ2V0Tm9kZVJlY3QsIHRhcmdldEhhbmRsZSwgdGFyZ2V0UG9zaXRpb24pLFxuICAgICAgICAgIHNvdXJjZVggPSBfZ2V0RWRnZVBvc2l0aW9ucy5zb3VyY2VYLFxuICAgICAgICAgIHNvdXJjZVkgPSBfZ2V0RWRnZVBvc2l0aW9ucy5zb3VyY2VZLFxuICAgICAgICAgIHRhcmdldFggPSBfZ2V0RWRnZVBvc2l0aW9ucy50YXJnZXRYLFxuICAgICAgICAgIHRhcmdldFkgPSBfZ2V0RWRnZVBvc2l0aW9ucy50YXJnZXRZO1xuXG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRWRnZUNvbXBvbmVudCwge1xuICAgICAgICBrZXk6IGVkZ2UuaWQsXG4gICAgICAgIGlkOiBlZGdlLmlkLFxuICAgICAgICBjbGFzc05hbWU6IGNjKFtlZGdlLmNsYXNzTmFtZSwgcHJvcHMubm9QYW5DbGFzc05hbWVdKSxcbiAgICAgICAgdHlwZTogZWRnZVR5cGUsXG4gICAgICAgIGRhdGE6IGVkZ2UuZGF0YSxcbiAgICAgICAgc2VsZWN0ZWQ6ICEhZWRnZS5zZWxlY3RlZCxcbiAgICAgICAgYW5pbWF0ZWQ6ICEhZWRnZS5hbmltYXRlZCxcbiAgICAgICAgaGlkZGVuOiAhIWVkZ2UuaGlkZGVuLFxuICAgICAgICBsYWJlbDogZWRnZS5sYWJlbCxcbiAgICAgICAgbGFiZWxTdHlsZTogZWRnZS5sYWJlbFN0eWxlLFxuICAgICAgICBsYWJlbFNob3dCZzogZWRnZS5sYWJlbFNob3dCZyxcbiAgICAgICAgbGFiZWxCZ1N0eWxlOiBlZGdlLmxhYmVsQmdTdHlsZSxcbiAgICAgICAgbGFiZWxCZ1BhZGRpbmc6IGVkZ2UubGFiZWxCZ1BhZGRpbmcsXG4gICAgICAgIGxhYmVsQmdCb3JkZXJSYWRpdXM6IGVkZ2UubGFiZWxCZ0JvcmRlclJhZGl1cyxcbiAgICAgICAgc3R5bGU6IGVkZ2Uuc3R5bGUsXG4gICAgICAgIHNvdXJjZTogZWRnZS5zb3VyY2UsXG4gICAgICAgIHRhcmdldDogZWRnZS50YXJnZXQsXG4gICAgICAgIHNvdXJjZUhhbmRsZUlkOiBlZGdlLnNvdXJjZUhhbmRsZSxcbiAgICAgICAgdGFyZ2V0SGFuZGxlSWQ6IGVkZ2UudGFyZ2V0SGFuZGxlLFxuICAgICAgICBtYXJrZXJFbmQ6IGVkZ2UubWFya2VyRW5kLFxuICAgICAgICBtYXJrZXJTdGFydDogZWRnZS5tYXJrZXJTdGFydCxcbiAgICAgICAgc291cmNlWDogc291cmNlWCxcbiAgICAgICAgc291cmNlWTogc291cmNlWSxcbiAgICAgICAgdGFyZ2V0WDogdGFyZ2V0WCxcbiAgICAgICAgdGFyZ2V0WTogdGFyZ2V0WSxcbiAgICAgICAgc291cmNlUG9zaXRpb246IHNvdXJjZVBvc2l0aW9uLFxuICAgICAgICB0YXJnZXRQb3NpdGlvbjogdGFyZ2V0UG9zaXRpb24sXG4gICAgICAgIGVsZW1lbnRzU2VsZWN0YWJsZTogZWxlbWVudHNTZWxlY3RhYmxlLFxuICAgICAgICBvbkVkZ2VVcGRhdGU6IHByb3BzLm9uRWRnZVVwZGF0ZSxcbiAgICAgICAgb25Db250ZXh0TWVudTogcHJvcHMub25FZGdlQ29udGV4dE1lbnUsXG4gICAgICAgIG9uTW91c2VFbnRlcjogcHJvcHMub25FZGdlTW91c2VFbnRlcixcbiAgICAgICAgb25Nb3VzZU1vdmU6IHByb3BzLm9uRWRnZU1vdXNlTW92ZSxcbiAgICAgICAgb25Nb3VzZUxlYXZlOiBwcm9wcy5vbkVkZ2VNb3VzZUxlYXZlLFxuICAgICAgICBvbkNsaWNrOiBwcm9wcy5vbkVkZ2VDbGljayxcbiAgICAgICAgZWRnZVVwZGF0ZXJSYWRpdXM6IHByb3BzLmVkZ2VVcGRhdGVyUmFkaXVzLFxuICAgICAgICBvbkVkZ2VEb3VibGVDbGljazogcHJvcHMub25FZGdlRG91YmxlQ2xpY2ssXG4gICAgICAgIG9uRWRnZVVwZGF0ZVN0YXJ0OiBwcm9wcy5vbkVkZ2VVcGRhdGVTdGFydCxcbiAgICAgICAgb25FZGdlVXBkYXRlRW5kOiBwcm9wcy5vbkVkZ2VVcGRhdGVFbmQsXG4gICAgICAgIHJmSWQ6IHByb3BzLnJmSWRcbiAgICAgIH0pO1xuICAgIH0pKSk7XG4gIH0pLCByZW5kZXJDb25uZWN0aW9uTGluZSAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInN2Z1wiLCB7XG4gICAgc3R5bGU6IGNvbm5lY3Rpb25MaW5lQ29udGFpbmVyU3R5bGUsXG4gICAgd2lkdGg6IHdpZHRoLFxuICAgIGhlaWdodDogaGVpZ2h0LFxuICAgIGNsYXNzTmFtZTogXCJyZWFjdC1mbG93X19lZGdlcyByZWFjdC1mbG93X19jb25uZWN0aW9ubGluZSByZWFjdC1mbG93X19jb250YWluZXJcIlxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDb25uZWN0aW9uTGluZSwge1xuICAgIGNvbm5lY3Rpb25Ob2RlSWQ6IGNvbm5lY3Rpb25Ob2RlSWQsXG4gICAgY29ubmVjdGlvbkhhbmRsZVR5cGU6IGNvbm5lY3Rpb25IYW5kbGVUeXBlLFxuICAgIGNvbm5lY3Rpb25MaW5lU3R5bGU6IGNvbm5lY3Rpb25MaW5lU3R5bGUsXG4gICAgY29ubmVjdGlvbkxpbmVUeXBlOiBjb25uZWN0aW9uTGluZVR5cGUsXG4gICAgaXNDb25uZWN0YWJsZTogbm9kZXNDb25uZWN0YWJsZSxcbiAgICBDdXN0b21Db25uZWN0aW9uTGluZUNvbXBvbmVudDogY29ubmVjdGlvbkxpbmVDb21wb25lbnRcbiAgfSkpKTtcbn07XG5cbkVkZ2VSZW5kZXJlci5kaXNwbGF5TmFtZSA9ICdFZGdlUmVuZGVyZXInO1xudmFyIEVkZ2VSZW5kZXJlciQxID0gLyojX19QVVJFX18qL21lbW8oRWRnZVJlbmRlcmVyKTtcblxudmFyIHNlbGVjdG9yID0gZnVuY3Rpb24gc2VsZWN0b3Iocykge1xuICByZXR1cm4gXCJ0cmFuc2xhdGUoXCIuY29uY2F0KHMudHJhbnNmb3JtWzBdLCBcInB4LFwiKS5jb25jYXQocy50cmFuc2Zvcm1bMV0sIFwicHgpIHNjYWxlKFwiKS5jb25jYXQocy50cmFuc2Zvcm1bMl0sIFwiKVwiKTtcbn07XG5cbmZ1bmN0aW9uIFZpZXdwb3J0KF9yZWYpIHtcbiAgdmFyIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbjtcbiAgdmFyIHRyYW5zZm9ybSA9IHVzZVN0b3JlKHNlbGVjdG9yKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwicmVhY3QtZmxvd19fdmlld3BvcnQgcmVhY3QtZmxvd19fY29udGFpbmVyXCIsXG4gICAgc3R5bGU6IHtcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNmb3JtXG4gICAgfVxuICB9LCBjaGlsZHJlbik7XG59XG5cbmZ1bmN0aW9uIHVzZU9uSW5pdEhhbmRsZXIob25Jbml0KSB7XG4gIHZhciBSZWFjdEZsb3dJbnN0YW5jZSA9IHVzZVJlYWN0RmxvdygpO1xuICB2YXIgaXNJbml0aWFsaXplZCA9IHVzZVJlZihmYWxzZSk7XG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFpc0luaXRpYWxpemVkLmN1cnJlbnQgJiYgUmVhY3RGbG93SW5zdGFuY2Uudmlld3BvcnRJbml0aWFsaXplZCAmJiBvbkluaXQpIHtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gb25Jbml0KFJlYWN0Rmxvd0luc3RhbmNlKTtcbiAgICAgIH0sIDEpO1xuICAgICAgaXNJbml0aWFsaXplZC5jdXJyZW50ID0gdHJ1ZTtcbiAgICB9XG4gIH0sIFtvbkluaXQsIFJlYWN0Rmxvd0luc3RhbmNlLnZpZXdwb3J0SW5pdGlhbGl6ZWRdKTtcbn1cblxudmFyIEdyYXBoVmlldyA9IGZ1bmN0aW9uIEdyYXBoVmlldyhfcmVmKSB7XG4gIHZhciBub2RlVHlwZXMgPSBfcmVmLm5vZGVUeXBlcyxcbiAgICAgIGVkZ2VUeXBlcyA9IF9yZWYuZWRnZVR5cGVzLFxuICAgICAgb25Nb3ZlID0gX3JlZi5vbk1vdmUsXG4gICAgICBvbk1vdmVTdGFydCA9IF9yZWYub25Nb3ZlU3RhcnQsXG4gICAgICBvbk1vdmVFbmQgPSBfcmVmLm9uTW92ZUVuZCxcbiAgICAgIG9uSW5pdCA9IF9yZWYub25Jbml0LFxuICAgICAgb25Ob2RlQ2xpY2sgPSBfcmVmLm9uTm9kZUNsaWNrLFxuICAgICAgb25FZGdlQ2xpY2sgPSBfcmVmLm9uRWRnZUNsaWNrLFxuICAgICAgb25Ob2RlRG91YmxlQ2xpY2sgPSBfcmVmLm9uTm9kZURvdWJsZUNsaWNrLFxuICAgICAgb25FZGdlRG91YmxlQ2xpY2sgPSBfcmVmLm9uRWRnZURvdWJsZUNsaWNrLFxuICAgICAgb25Ob2RlTW91c2VFbnRlciA9IF9yZWYub25Ob2RlTW91c2VFbnRlcixcbiAgICAgIG9uTm9kZU1vdXNlTW92ZSA9IF9yZWYub25Ob2RlTW91c2VNb3ZlLFxuICAgICAgb25Ob2RlTW91c2VMZWF2ZSA9IF9yZWYub25Ob2RlTW91c2VMZWF2ZSxcbiAgICAgIG9uTm9kZUNvbnRleHRNZW51ID0gX3JlZi5vbk5vZGVDb250ZXh0TWVudSxcbiAgICAgIG9uU2VsZWN0aW9uQ29udGV4dE1lbnUgPSBfcmVmLm9uU2VsZWN0aW9uQ29udGV4dE1lbnUsXG4gICAgICBjb25uZWN0aW9uTGluZVR5cGUgPSBfcmVmLmNvbm5lY3Rpb25MaW5lVHlwZSxcbiAgICAgIGNvbm5lY3Rpb25MaW5lU3R5bGUgPSBfcmVmLmNvbm5lY3Rpb25MaW5lU3R5bGUsXG4gICAgICBjb25uZWN0aW9uTGluZUNvbXBvbmVudCA9IF9yZWYuY29ubmVjdGlvbkxpbmVDb21wb25lbnQsXG4gICAgICBjb25uZWN0aW9uTGluZUNvbnRhaW5lclN0eWxlID0gX3JlZi5jb25uZWN0aW9uTGluZUNvbnRhaW5lclN0eWxlLFxuICAgICAgc2VsZWN0aW9uS2V5Q29kZSA9IF9yZWYuc2VsZWN0aW9uS2V5Q29kZSxcbiAgICAgIG11bHRpU2VsZWN0aW9uS2V5Q29kZSA9IF9yZWYubXVsdGlTZWxlY3Rpb25LZXlDb2RlLFxuICAgICAgem9vbUFjdGl2YXRpb25LZXlDb2RlID0gX3JlZi56b29tQWN0aXZhdGlvbktleUNvZGUsXG4gICAgICBkZWxldGVLZXlDb2RlID0gX3JlZi5kZWxldGVLZXlDb2RlLFxuICAgICAgb25seVJlbmRlclZpc2libGVFbGVtZW50cyA9IF9yZWYub25seVJlbmRlclZpc2libGVFbGVtZW50cyxcbiAgICAgIGVsZW1lbnRzU2VsZWN0YWJsZSA9IF9yZWYuZWxlbWVudHNTZWxlY3RhYmxlLFxuICAgICAgc2VsZWN0Tm9kZXNPbkRyYWcgPSBfcmVmLnNlbGVjdE5vZGVzT25EcmFnLFxuICAgICAgdHJhbnNsYXRlRXh0ZW50ID0gX3JlZi50cmFuc2xhdGVFeHRlbnQsXG4gICAgICBtaW5ab29tID0gX3JlZi5taW5ab29tLFxuICAgICAgbWF4Wm9vbSA9IF9yZWYubWF4Wm9vbSxcbiAgICAgIGRlZmF1bHRab29tID0gX3JlZi5kZWZhdWx0Wm9vbSxcbiAgICAgIGRlZmF1bHRQb3NpdGlvbiA9IF9yZWYuZGVmYXVsdFBvc2l0aW9uLFxuICAgICAgcHJldmVudFNjcm9sbGluZyA9IF9yZWYucHJldmVudFNjcm9sbGluZyxcbiAgICAgIGRlZmF1bHRNYXJrZXJDb2xvciA9IF9yZWYuZGVmYXVsdE1hcmtlckNvbG9yLFxuICAgICAgem9vbU9uU2Nyb2xsID0gX3JlZi56b29tT25TY3JvbGwsXG4gICAgICB6b29tT25QaW5jaCA9IF9yZWYuem9vbU9uUGluY2gsXG4gICAgICBwYW5PblNjcm9sbCA9IF9yZWYucGFuT25TY3JvbGwsXG4gICAgICBwYW5PblNjcm9sbFNwZWVkID0gX3JlZi5wYW5PblNjcm9sbFNwZWVkLFxuICAgICAgcGFuT25TY3JvbGxNb2RlID0gX3JlZi5wYW5PblNjcm9sbE1vZGUsXG4gICAgICB6b29tT25Eb3VibGVDbGljayA9IF9yZWYuem9vbU9uRG91YmxlQ2xpY2ssXG4gICAgICBwYW5PbkRyYWcgPSBfcmVmLnBhbk9uRHJhZyxcbiAgICAgIG9uUGFuZUNsaWNrID0gX3JlZi5vblBhbmVDbGljayxcbiAgICAgIG9uUGFuZVNjcm9sbCA9IF9yZWYub25QYW5lU2Nyb2xsLFxuICAgICAgb25QYW5lQ29udGV4dE1lbnUgPSBfcmVmLm9uUGFuZUNvbnRleHRNZW51LFxuICAgICAgb25FZGdlVXBkYXRlID0gX3JlZi5vbkVkZ2VVcGRhdGUsXG4gICAgICBvbkVkZ2VDb250ZXh0TWVudSA9IF9yZWYub25FZGdlQ29udGV4dE1lbnUsXG4gICAgICBvbkVkZ2VNb3VzZUVudGVyID0gX3JlZi5vbkVkZ2VNb3VzZUVudGVyLFxuICAgICAgb25FZGdlTW91c2VNb3ZlID0gX3JlZi5vbkVkZ2VNb3VzZU1vdmUsXG4gICAgICBvbkVkZ2VNb3VzZUxlYXZlID0gX3JlZi5vbkVkZ2VNb3VzZUxlYXZlLFxuICAgICAgZWRnZVVwZGF0ZXJSYWRpdXMgPSBfcmVmLmVkZ2VVcGRhdGVyUmFkaXVzLFxuICAgICAgb25FZGdlVXBkYXRlU3RhcnQgPSBfcmVmLm9uRWRnZVVwZGF0ZVN0YXJ0LFxuICAgICAgb25FZGdlVXBkYXRlRW5kID0gX3JlZi5vbkVkZ2VVcGRhdGVFbmQsXG4gICAgICBub0RyYWdDbGFzc05hbWUgPSBfcmVmLm5vRHJhZ0NsYXNzTmFtZSxcbiAgICAgIG5vV2hlZWxDbGFzc05hbWUgPSBfcmVmLm5vV2hlZWxDbGFzc05hbWUsXG4gICAgICBub1BhbkNsYXNzTmFtZSA9IF9yZWYubm9QYW5DbGFzc05hbWUsXG4gICAgICBlbGV2YXRlRWRnZXNPblNlbGVjdCA9IF9yZWYuZWxldmF0ZUVkZ2VzT25TZWxlY3QsXG4gICAgICBpZCA9IF9yZWYuaWQ7XG4gIHVzZU9uSW5pdEhhbmRsZXIob25Jbml0KTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEZsb3dSZW5kZXJlciQxLCB7XG4gICAgb25QYW5lQ2xpY2s6IG9uUGFuZUNsaWNrLFxuICAgIG9uUGFuZUNvbnRleHRNZW51OiBvblBhbmVDb250ZXh0TWVudSxcbiAgICBvblBhbmVTY3JvbGw6IG9uUGFuZVNjcm9sbCxcbiAgICBkZWxldGVLZXlDb2RlOiBkZWxldGVLZXlDb2RlLFxuICAgIHNlbGVjdGlvbktleUNvZGU6IHNlbGVjdGlvbktleUNvZGUsXG4gICAgbXVsdGlTZWxlY3Rpb25LZXlDb2RlOiBtdWx0aVNlbGVjdGlvbktleUNvZGUsXG4gICAgem9vbUFjdGl2YXRpb25LZXlDb2RlOiB6b29tQWN0aXZhdGlvbktleUNvZGUsXG4gICAgZWxlbWVudHNTZWxlY3RhYmxlOiBlbGVtZW50c1NlbGVjdGFibGUsXG4gICAgb25Nb3ZlOiBvbk1vdmUsXG4gICAgb25Nb3ZlU3RhcnQ6IG9uTW92ZVN0YXJ0LFxuICAgIG9uTW92ZUVuZDogb25Nb3ZlRW5kLFxuICAgIHpvb21PblNjcm9sbDogem9vbU9uU2Nyb2xsLFxuICAgIHpvb21PblBpbmNoOiB6b29tT25QaW5jaCxcbiAgICB6b29tT25Eb3VibGVDbGljazogem9vbU9uRG91YmxlQ2xpY2ssXG4gICAgcGFuT25TY3JvbGw6IHBhbk9uU2Nyb2xsLFxuICAgIHBhbk9uU2Nyb2xsU3BlZWQ6IHBhbk9uU2Nyb2xsU3BlZWQsXG4gICAgcGFuT25TY3JvbGxNb2RlOiBwYW5PblNjcm9sbE1vZGUsXG4gICAgcGFuT25EcmFnOiBwYW5PbkRyYWcsXG4gICAgdHJhbnNsYXRlRXh0ZW50OiB0cmFuc2xhdGVFeHRlbnQsXG4gICAgbWluWm9vbTogbWluWm9vbSxcbiAgICBtYXhab29tOiBtYXhab29tLFxuICAgIGRlZmF1bHRab29tOiBkZWZhdWx0Wm9vbSxcbiAgICBkZWZhdWx0UG9zaXRpb246IGRlZmF1bHRQb3NpdGlvbixcbiAgICBvblNlbGVjdGlvbkNvbnRleHRNZW51OiBvblNlbGVjdGlvbkNvbnRleHRNZW51LFxuICAgIHByZXZlbnRTY3JvbGxpbmc6IHByZXZlbnRTY3JvbGxpbmcsXG4gICAgbm9EcmFnQ2xhc3NOYW1lOiBub0RyYWdDbGFzc05hbWUsXG4gICAgbm9XaGVlbENsYXNzTmFtZTogbm9XaGVlbENsYXNzTmFtZSxcbiAgICBub1BhbkNsYXNzTmFtZTogbm9QYW5DbGFzc05hbWVcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVmlld3BvcnQsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEVkZ2VSZW5kZXJlciQxLCB7XG4gICAgZWRnZVR5cGVzOiBlZGdlVHlwZXMsXG4gICAgb25FZGdlQ2xpY2s6IG9uRWRnZUNsaWNrLFxuICAgIG9uRWRnZURvdWJsZUNsaWNrOiBvbkVkZ2VEb3VibGVDbGljayxcbiAgICBjb25uZWN0aW9uTGluZVR5cGU6IGNvbm5lY3Rpb25MaW5lVHlwZSxcbiAgICBjb25uZWN0aW9uTGluZVN0eWxlOiBjb25uZWN0aW9uTGluZVN0eWxlLFxuICAgIGNvbm5lY3Rpb25MaW5lQ29tcG9uZW50OiBjb25uZWN0aW9uTGluZUNvbXBvbmVudCxcbiAgICBjb25uZWN0aW9uTGluZUNvbnRhaW5lclN0eWxlOiBjb25uZWN0aW9uTGluZUNvbnRhaW5lclN0eWxlLFxuICAgIG9uRWRnZVVwZGF0ZTogb25FZGdlVXBkYXRlLFxuICAgIG9ubHlSZW5kZXJWaXNpYmxlRWxlbWVudHM6IG9ubHlSZW5kZXJWaXNpYmxlRWxlbWVudHMsXG4gICAgb25FZGdlQ29udGV4dE1lbnU6IG9uRWRnZUNvbnRleHRNZW51LFxuICAgIG9uRWRnZU1vdXNlRW50ZXI6IG9uRWRnZU1vdXNlRW50ZXIsXG4gICAgb25FZGdlTW91c2VNb3ZlOiBvbkVkZ2VNb3VzZU1vdmUsXG4gICAgb25FZGdlTW91c2VMZWF2ZTogb25FZGdlTW91c2VMZWF2ZSxcbiAgICBvbkVkZ2VVcGRhdGVTdGFydDogb25FZGdlVXBkYXRlU3RhcnQsXG4gICAgb25FZGdlVXBkYXRlRW5kOiBvbkVkZ2VVcGRhdGVFbmQsXG4gICAgZWRnZVVwZGF0ZXJSYWRpdXM6IGVkZ2VVcGRhdGVyUmFkaXVzLFxuICAgIGRlZmF1bHRNYXJrZXJDb2xvcjogZGVmYXVsdE1hcmtlckNvbG9yLFxuICAgIG5vUGFuQ2xhc3NOYW1lOiBub1BhbkNsYXNzTmFtZSxcbiAgICBlbGV2YXRlRWRnZXNPblNlbGVjdDogISFlbGV2YXRlRWRnZXNPblNlbGVjdCxcbiAgICByZklkOiBpZFxuICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTm9kZVJlbmRlcmVyJDEsIHtcbiAgICBub2RlVHlwZXM6IG5vZGVUeXBlcyxcbiAgICBvbk5vZGVDbGljazogb25Ob2RlQ2xpY2ssXG4gICAgb25Ob2RlRG91YmxlQ2xpY2s6IG9uTm9kZURvdWJsZUNsaWNrLFxuICAgIG9uTm9kZU1vdXNlRW50ZXI6IG9uTm9kZU1vdXNlRW50ZXIsXG4gICAgb25Ob2RlTW91c2VNb3ZlOiBvbk5vZGVNb3VzZU1vdmUsXG4gICAgb25Ob2RlTW91c2VMZWF2ZTogb25Ob2RlTW91c2VMZWF2ZSxcbiAgICBvbk5vZGVDb250ZXh0TWVudTogb25Ob2RlQ29udGV4dE1lbnUsXG4gICAgc2VsZWN0Tm9kZXNPbkRyYWc6IHNlbGVjdE5vZGVzT25EcmFnLFxuICAgIG9ubHlSZW5kZXJWaXNpYmxlRWxlbWVudHM6IG9ubHlSZW5kZXJWaXNpYmxlRWxlbWVudHMsXG4gICAgbm9QYW5DbGFzc05hbWU6IG5vUGFuQ2xhc3NOYW1lLFxuICAgIG5vRHJhZ0NsYXNzTmFtZTogbm9EcmFnQ2xhc3NOYW1lXG4gIH0pKSk7XG59O1xuXG5HcmFwaFZpZXcuZGlzcGxheU5hbWUgPSAnR3JhcGhWaWV3JztcbnZhciBHcmFwaFZpZXckMSA9IC8qI19fUFVSRV9fKi9tZW1vKEdyYXBoVmlldyk7XG5cbnZhciBHcm91cE5vZGUgPSBmdW5jdGlvbiBHcm91cE5vZGUoKSB7XG4gIHJldHVybiBudWxsO1xufTtcblxuR3JvdXBOb2RlLmRpc3BsYXlOYW1lID0gJ0dyb3VwTm9kZSc7XG5cbmZ1bmN0aW9uIG93bktleXMkMihvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGVudW1lcmFibGVPbmx5ICYmIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSkpLCBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCQyKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gbnVsbCAhPSBhcmd1bWVudHNbaV0gPyBhcmd1bWVudHNbaV0gOiB7fTsgaSAlIDIgPyBvd25LZXlzJDIoT2JqZWN0KHNvdXJjZSksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpIDogb3duS2V5cyQyKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cbnZhciB3cmFwTm9kZSA9IChmdW5jdGlvbiAoTm9kZUNvbXBvbmVudCkge1xuICB2YXIgTm9kZVdyYXBwZXIgPSBmdW5jdGlvbiBOb2RlV3JhcHBlcihfcmVmKSB7XG4gICAgdmFyIGlkID0gX3JlZi5pZCxcbiAgICAgICAgdHlwZSA9IF9yZWYudHlwZSxcbiAgICAgICAgZGF0YSA9IF9yZWYuZGF0YSxcbiAgICAgICAgeFBvcyA9IF9yZWYueFBvcyxcbiAgICAgICAgeVBvcyA9IF9yZWYueVBvcyxcbiAgICAgICAgc2VsZWN0ZWQgPSBfcmVmLnNlbGVjdGVkLFxuICAgICAgICBvbkNsaWNrID0gX3JlZi5vbkNsaWNrLFxuICAgICAgICBvbk1vdXNlRW50ZXIgPSBfcmVmLm9uTW91c2VFbnRlcixcbiAgICAgICAgb25Nb3VzZU1vdmUgPSBfcmVmLm9uTW91c2VNb3ZlLFxuICAgICAgICBvbk1vdXNlTGVhdmUgPSBfcmVmLm9uTW91c2VMZWF2ZSxcbiAgICAgICAgb25Db250ZXh0TWVudSA9IF9yZWYub25Db250ZXh0TWVudSxcbiAgICAgICAgb25Eb3VibGVDbGljayA9IF9yZWYub25Eb3VibGVDbGljayxcbiAgICAgICAgc3R5bGUgPSBfcmVmLnN0eWxlLFxuICAgICAgICBjbGFzc05hbWUgPSBfcmVmLmNsYXNzTmFtZSxcbiAgICAgICAgaXNEcmFnZ2FibGUgPSBfcmVmLmlzRHJhZ2dhYmxlLFxuICAgICAgICBpc1NlbGVjdGFibGUgPSBfcmVmLmlzU2VsZWN0YWJsZSxcbiAgICAgICAgaXNDb25uZWN0YWJsZSA9IF9yZWYuaXNDb25uZWN0YWJsZSxcbiAgICAgICAgc2VsZWN0Tm9kZXNPbkRyYWcgPSBfcmVmLnNlbGVjdE5vZGVzT25EcmFnLFxuICAgICAgICBzb3VyY2VQb3NpdGlvbiA9IF9yZWYuc291cmNlUG9zaXRpb24sXG4gICAgICAgIHRhcmdldFBvc2l0aW9uID0gX3JlZi50YXJnZXRQb3NpdGlvbixcbiAgICAgICAgaGlkZGVuID0gX3JlZi5oaWRkZW4sXG4gICAgICAgIHJlc2l6ZU9ic2VydmVyID0gX3JlZi5yZXNpemVPYnNlcnZlcixcbiAgICAgICAgZHJhZ0hhbmRsZSA9IF9yZWYuZHJhZ0hhbmRsZSxcbiAgICAgICAgekluZGV4ID0gX3JlZi56SW5kZXgsXG4gICAgICAgIGlzUGFyZW50ID0gX3JlZi5pc1BhcmVudCxcbiAgICAgICAgbm9QYW5DbGFzc05hbWUgPSBfcmVmLm5vUGFuQ2xhc3NOYW1lLFxuICAgICAgICBub0RyYWdDbGFzc05hbWUgPSBfcmVmLm5vRHJhZ0NsYXNzTmFtZSxcbiAgICAgICAgaW5pdGlhbGl6ZWQgPSBfcmVmLmluaXRpYWxpemVkO1xuICAgIHZhciBzdG9yZSA9IHVzZVN0b3JlQXBpKCk7XG4gICAgdmFyIG5vZGVSZWYgPSB1c2VSZWYobnVsbCk7XG4gICAgdmFyIHByZXZTb3VyY2VQb3NpdGlvbiA9IHVzZVJlZihzb3VyY2VQb3NpdGlvbik7XG4gICAgdmFyIHByZXZUYXJnZXRQb3NpdGlvbiA9IHVzZVJlZih0YXJnZXRQb3NpdGlvbik7XG4gICAgdmFyIHByZXZUeXBlID0gdXNlUmVmKHR5cGUpO1xuICAgIHZhciBoYXNQb2ludGVyRXZlbnRzID0gaXNTZWxlY3RhYmxlIHx8IGlzRHJhZ2dhYmxlIHx8IG9uQ2xpY2sgfHwgb25Nb3VzZUVudGVyIHx8IG9uTW91c2VNb3ZlIHx8IG9uTW91c2VMZWF2ZTtcbiAgICB2YXIgb25Nb3VzZUVudGVySGFuZGxlciA9IGdldE1vdXNlSGFuZGxlciQxKGlkLCBzdG9yZS5nZXRTdGF0ZSwgb25Nb3VzZUVudGVyKTtcbiAgICB2YXIgb25Nb3VzZU1vdmVIYW5kbGVyID0gZ2V0TW91c2VIYW5kbGVyJDEoaWQsIHN0b3JlLmdldFN0YXRlLCBvbk1vdXNlTW92ZSk7XG4gICAgdmFyIG9uTW91c2VMZWF2ZUhhbmRsZXIgPSBnZXRNb3VzZUhhbmRsZXIkMShpZCwgc3RvcmUuZ2V0U3RhdGUsIG9uTW91c2VMZWF2ZSk7XG4gICAgdmFyIG9uQ29udGV4dE1lbnVIYW5kbGVyID0gZ2V0TW91c2VIYW5kbGVyJDEoaWQsIHN0b3JlLmdldFN0YXRlLCBvbkNvbnRleHRNZW51KTtcbiAgICB2YXIgb25Eb3VibGVDbGlja0hhbmRsZXIgPSBnZXRNb3VzZUhhbmRsZXIkMShpZCwgc3RvcmUuZ2V0U3RhdGUsIG9uRG91YmxlQ2xpY2spO1xuXG4gICAgdmFyIG9uU2VsZWN0Tm9kZUhhbmRsZXIgPSBmdW5jdGlvbiBvblNlbGVjdE5vZGVIYW5kbGVyKGV2ZW50KSB7XG4gICAgICBpZiAoaXNTZWxlY3RhYmxlICYmICghc2VsZWN0Tm9kZXNPbkRyYWcgfHwgIWlzRHJhZ2dhYmxlKSkge1xuICAgICAgICAvLyB0aGlzIGhhbmRsZXIgZ2V0cyBjYWxsZWQgd2l0aGluIHRoZSBkcmFnIHN0YXJ0IGV2ZW50IHdoZW4gc2VsZWN0Tm9kZXNPbkRyYWc9dHJ1ZVxuICAgICAgICBoYW5kbGVOb2RlQ2xpY2soe1xuICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICBzdG9yZTogc3RvcmVcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChvbkNsaWNrKSB7XG4gICAgICAgIHZhciBub2RlID0gc3RvcmUuZ2V0U3RhdGUoKS5ub2RlSW50ZXJuYWxzLmdldChpZCk7XG4gICAgICAgIG9uQ2xpY2soZXZlbnQsIF9vYmplY3RTcHJlYWQkMih7fSwgbm9kZSkpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKG5vZGVSZWYuY3VycmVudCAmJiAhaGlkZGVuKSB7XG4gICAgICAgIHZhciBjdXJyTm9kZSA9IG5vZGVSZWYuY3VycmVudDtcbiAgICAgICAgcmVzaXplT2JzZXJ2ZXIgPT09IG51bGwgfHwgcmVzaXplT2JzZXJ2ZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc2l6ZU9ic2VydmVyLm9ic2VydmUoY3Vyck5vZGUpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiByZXNpemVPYnNlcnZlciA9PT0gbnVsbCB8fCByZXNpemVPYnNlcnZlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzaXplT2JzZXJ2ZXIudW5vYnNlcnZlKGN1cnJOb2RlKTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9LCBbaGlkZGVuXSk7XG4gICAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIHdoZW4gdGhlIHVzZXIgcHJvZ3JhbW1hdGljYWxseSBjaGFuZ2VzIHRoZSBzb3VyY2Ugb3IgaGFuZGxlIHBvc2l0aW9uLCB3ZSByZS1pbml0aWFsaXplIHRoZSBub2RlXG4gICAgICB2YXIgdHlwZUNoYW5nZWQgPSBwcmV2VHlwZS5jdXJyZW50ICE9PSB0eXBlO1xuICAgICAgdmFyIHNvdXJjZVBvc0NoYW5nZWQgPSBwcmV2U291cmNlUG9zaXRpb24uY3VycmVudCAhPT0gc291cmNlUG9zaXRpb247XG4gICAgICB2YXIgdGFyZ2V0UG9zQ2hhbmdlZCA9IHByZXZUYXJnZXRQb3NpdGlvbi5jdXJyZW50ICE9PSB0YXJnZXRQb3NpdGlvbjtcblxuICAgICAgaWYgKG5vZGVSZWYuY3VycmVudCAmJiAodHlwZUNoYW5nZWQgfHwgc291cmNlUG9zQ2hhbmdlZCB8fCB0YXJnZXRQb3NDaGFuZ2VkKSkge1xuICAgICAgICBpZiAodHlwZUNoYW5nZWQpIHtcbiAgICAgICAgICBwcmV2VHlwZS5jdXJyZW50ID0gdHlwZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzb3VyY2VQb3NDaGFuZ2VkKSB7XG4gICAgICAgICAgcHJldlNvdXJjZVBvc2l0aW9uLmN1cnJlbnQgPSBzb3VyY2VQb3NpdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0YXJnZXRQb3NDaGFuZ2VkKSB7XG4gICAgICAgICAgcHJldlRhcmdldFBvc2l0aW9uLmN1cnJlbnQgPSB0YXJnZXRQb3NpdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0b3JlLmdldFN0YXRlKCkudXBkYXRlTm9kZURpbWVuc2lvbnMoW3tcbiAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgbm9kZUVsZW1lbnQ6IG5vZGVSZWYuY3VycmVudCxcbiAgICAgICAgICBmb3JjZVVwZGF0ZTogdHJ1ZVxuICAgICAgICB9XSk7XG4gICAgICB9XG4gICAgfSwgW2lkLCB0eXBlLCBzb3VyY2VQb3NpdGlvbiwgdGFyZ2V0UG9zaXRpb25dKTtcbiAgICB2YXIgZHJhZ2dpbmcgPSB1c2VEcmFnKHtcbiAgICAgIG5vZGVSZWY6IG5vZGVSZWYsXG4gICAgICBkaXNhYmxlZDogaGlkZGVuIHx8ICFpc0RyYWdnYWJsZSxcbiAgICAgIG5vRHJhZ0NsYXNzTmFtZTogbm9EcmFnQ2xhc3NOYW1lLFxuICAgICAgaGFuZGxlU2VsZWN0b3I6IGRyYWdIYW5kbGUsXG4gICAgICBub2RlSWQ6IGlkLFxuICAgICAgaXNTZWxlY3RhYmxlOiBpc1NlbGVjdGFibGUsXG4gICAgICBzZWxlY3ROb2Rlc09uRHJhZzogc2VsZWN0Tm9kZXNPbkRyYWdcbiAgICB9KTtcblxuICAgIGlmIChoaWRkZW4pIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IGNjKFsncmVhY3QtZmxvd19fbm9kZScsIFwicmVhY3QtZmxvd19fbm9kZS1cIi5jb25jYXQodHlwZSksIG5vUGFuQ2xhc3NOYW1lLCBjbGFzc05hbWUsIHtcbiAgICAgICAgc2VsZWN0ZWQ6IHNlbGVjdGVkLFxuICAgICAgICBzZWxlY3RhYmxlOiBpc1NlbGVjdGFibGUsXG4gICAgICAgIHBhcmVudDogaXNQYXJlbnRcbiAgICAgIH1dKSxcbiAgICAgIHJlZjogbm9kZVJlZixcbiAgICAgIHN0eWxlOiBfb2JqZWN0U3ByZWFkJDIoe1xuICAgICAgICB6SW5kZXg6IHpJbmRleCxcbiAgICAgICAgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZShcIi5jb25jYXQoeFBvcywgXCJweCxcIikuY29uY2F0KHlQb3MsIFwicHgpXCIpLFxuICAgICAgICBwb2ludGVyRXZlbnRzOiBoYXNQb2ludGVyRXZlbnRzID8gJ2FsbCcgOiAnbm9uZScsXG4gICAgICAgIHZpc2liaWxpdHk6IGluaXRpYWxpemVkID8gJ3Zpc2libGUnIDogJ2hpZGRlbidcbiAgICAgIH0sIHN0eWxlKSxcbiAgICAgIG9uTW91c2VFbnRlcjogb25Nb3VzZUVudGVySGFuZGxlcixcbiAgICAgIG9uTW91c2VNb3ZlOiBvbk1vdXNlTW92ZUhhbmRsZXIsXG4gICAgICBvbk1vdXNlTGVhdmU6IG9uTW91c2VMZWF2ZUhhbmRsZXIsXG4gICAgICBvbkNvbnRleHRNZW51OiBvbkNvbnRleHRNZW51SGFuZGxlcixcbiAgICAgIG9uQ2xpY2s6IG9uU2VsZWN0Tm9kZUhhbmRsZXIsXG4gICAgICBvbkRvdWJsZUNsaWNrOiBvbkRvdWJsZUNsaWNrSGFuZGxlcixcbiAgICAgIFwiZGF0YS10ZXN0aWRcIjogXCJyZl9fbm9kZS1cIi5jb25jYXQoaWQpLFxuICAgICAgXCJkYXRhLWlkXCI6IGlkXG4gICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUHJvdmlkZXIsIHtcbiAgICAgIHZhbHVlOiBpZFxuICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KE5vZGVDb21wb25lbnQsIHtcbiAgICAgIGlkOiBpZCxcbiAgICAgIGRhdGE6IGRhdGEsXG4gICAgICB0eXBlOiB0eXBlLFxuICAgICAgeFBvczogeFBvcyxcbiAgICAgIHlQb3M6IHlQb3MsXG4gICAgICBzZWxlY3RlZDogc2VsZWN0ZWQsXG4gICAgICBpc0Nvbm5lY3RhYmxlOiBpc0Nvbm5lY3RhYmxlLFxuICAgICAgc291cmNlUG9zaXRpb246IHNvdXJjZVBvc2l0aW9uLFxuICAgICAgdGFyZ2V0UG9zaXRpb246IHRhcmdldFBvc2l0aW9uLFxuICAgICAgZHJhZ2dpbmc6IGRyYWdnaW5nLFxuICAgICAgZHJhZ0hhbmRsZTogZHJhZ0hhbmRsZSxcbiAgICAgIHpJbmRleDogekluZGV4XG4gICAgfSkpKTtcbiAgfTtcblxuICBOb2RlV3JhcHBlci5kaXNwbGF5TmFtZSA9ICdOb2RlV3JhcHBlcic7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovbWVtbyhOb2RlV3JhcHBlcik7XG59KTtcblxuZnVuY3Rpb24gb3duS2V5cyQxKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgZW51bWVyYWJsZU9ubHkgJiYgKHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KSksIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkJDEodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBudWxsICE9IGFyZ3VtZW50c1tpXSA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpICUgMiA/IG93bktleXMkMShPYmplY3Qoc291cmNlKSwgITApLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSkgOiBvd25LZXlzJDEoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfVxuZnVuY3Rpb24gY3JlYXRlTm9kZVR5cGVzKG5vZGVUeXBlcykge1xuICB2YXIgc3RhbmRhcmRUeXBlcyA9IHtcbiAgICBpbnB1dDogd3JhcE5vZGUobm9kZVR5cGVzLmlucHV0IHx8IElucHV0Tm9kZSQxKSxcbiAgICBcImRlZmF1bHRcIjogd3JhcE5vZGUobm9kZVR5cGVzW1wiZGVmYXVsdFwiXSB8fCBEZWZhdWx0Tm9kZSQxKSxcbiAgICBvdXRwdXQ6IHdyYXBOb2RlKG5vZGVUeXBlcy5vdXRwdXQgfHwgT3V0cHV0Tm9kZSQxKSxcbiAgICBncm91cDogd3JhcE5vZGUobm9kZVR5cGVzLmdyb3VwIHx8IEdyb3VwTm9kZSlcbiAgfTtcbiAgdmFyIHdyYXBwZWRUeXBlcyA9IHt9O1xuICB2YXIgc3BlY2lhbFR5cGVzID0gT2JqZWN0LmtleXMobm9kZVR5cGVzKS5maWx0ZXIoZnVuY3Rpb24gKGspIHtcbiAgICByZXR1cm4gIVsnaW5wdXQnLCAnZGVmYXVsdCcsICdvdXRwdXQnLCAnZ3JvdXAnXS5pbmNsdWRlcyhrKTtcbiAgfSkucmVkdWNlKGZ1bmN0aW9uIChyZXMsIGtleSkge1xuICAgIHJlc1trZXldID0gd3JhcE5vZGUobm9kZVR5cGVzW2tleV0gfHwgRGVmYXVsdE5vZGUkMSk7XG4gICAgcmV0dXJuIHJlcztcbiAgfSwgd3JhcHBlZFR5cGVzKTtcbiAgcmV0dXJuIF9vYmplY3RTcHJlYWQkMShfb2JqZWN0U3ByZWFkJDEoe30sIHN0YW5kYXJkVHlwZXMpLCBzcGVjaWFsVHlwZXMpO1xufVxuXG5mdW5jdGlvbiB1c2VOb2RlT3JFZGdlVHlwZXMobm9kZU9yRWRnZVR5cGVzLCBjcmVhdGVUeXBlcykge1xuICB2YXIgdHlwZXNLZXlzUmVmID0gdXNlUmVmKG51bGwpO1xuICB2YXIgdHlwZXNQYXJzZWQgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgICB2YXIgdHlwZUtleXMgPSBPYmplY3Qua2V5cyhub2RlT3JFZGdlVHlwZXMpO1xuXG4gICAgICBpZiAoc2hhbGxvdyh0eXBlc0tleXNSZWYuY3VycmVudCwgdHlwZUtleXMpKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIltSZWFjdCBGbG93XTogSXQgbG9va3MgbGlrZSB5b3UgaGF2ZSBjcmVhdGVkIGEgbmV3IG5vZGVUeXBlcyBvciBlZGdlVHlwZXMgb2JqZWN0LiBJZiB0aGlzIHdhc24ndCBvbiBwdXJwb3NlIHBsZWFzZSBkZWZpbmUgdGhlIG5vZGVUeXBlcy9lZGdlVHlwZXMgb3V0c2lkZSBvZiB0aGUgY29tcG9uZW50IG9yIG1lbW9pemUgdGhlbS4gSGVscDogaHR0cHM6Ly9yZWFjdGZsb3cuZGV2L2Vycm9yIzIwMFwiKTtcbiAgICAgIH1cblxuICAgICAgdHlwZXNLZXlzUmVmLmN1cnJlbnQgPSB0eXBlS2V5cztcbiAgICB9XG5cbiAgICByZXR1cm4gY3JlYXRlVHlwZXMobm9kZU9yRWRnZVR5cGVzKTtcbiAgfSwgW25vZGVPckVkZ2VUeXBlc10pO1xuICByZXR1cm4gdHlwZXNQYXJzZWQ7XG59XG5mdW5jdGlvbiBpbmplY3RTdHlsZShjc3MpIHtcbiAgaWYgKCFjc3MgfHwgdHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJykgcmV0dXJuO1xuICB2YXIgaGVhZCA9IGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXTtcbiAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xufVxuXG52YXIgV3JhcHBlciA9IGZ1bmN0aW9uIFdyYXBwZXIoX3JlZikge1xuICB2YXIgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuO1xuICB2YXIgaXNXcmFwcGVkID0gdHJ1ZTtcblxuICB0cnkge1xuICAgIHVzZVN0b3JlQXBpKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpc1dyYXBwZWQgPSBmYWxzZTtcbiAgfVxuXG4gIGlmIChpc1dyYXBwZWQpIHtcbiAgICAvLyB3ZSBuZWVkIHRvIHdyYXAgaXQgd2l0aCBhIGZyYWdtZW50IGJlY2F1c2UgaXQncyBub3QgYWxsb3dlZCBmb3IgY2hpbGRyZW4gdG8gYmUgYSBSZWFjdE5vZGVcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vRGVmaW5pdGVseVR5cGVkL0RlZmluaXRlbHlUeXBlZC9pc3N1ZXMvMTgwNTFcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIGNoaWxkcmVuKTtcbiAgfVxuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChQcm92aWRlciQxLCB7XG4gICAgY3JlYXRlU3RvcmU6IGNyZWF0ZVN0b3JlXG4gIH0sIGNoaWxkcmVuKTtcbn07XG5cbldyYXBwZXIuZGlzcGxheU5hbWUgPSAnUmVhY3RGbG93V3JhcHBlcic7XG5cbnZhciBfZXhjbHVkZWQgPSBbXCJub2Rlc1wiLCBcImVkZ2VzXCIsIFwiZGVmYXVsdE5vZGVzXCIsIFwiZGVmYXVsdEVkZ2VzXCIsIFwiY2xhc3NOYW1lXCIsIFwibm9kZVR5cGVzXCIsIFwiZWRnZVR5cGVzXCIsIFwib25Ob2RlQ2xpY2tcIiwgXCJvbkVkZ2VDbGlja1wiLCBcIm9uSW5pdFwiLCBcIm9uTW92ZVwiLCBcIm9uTW92ZVN0YXJ0XCIsIFwib25Nb3ZlRW5kXCIsIFwib25Db25uZWN0XCIsIFwib25Db25uZWN0U3RhcnRcIiwgXCJvbkNvbm5lY3RTdG9wXCIsIFwib25Db25uZWN0RW5kXCIsIFwib25DbGlja0Nvbm5lY3RTdGFydFwiLCBcIm9uQ2xpY2tDb25uZWN0U3RvcFwiLCBcIm9uQ2xpY2tDb25uZWN0RW5kXCIsIFwib25Ob2RlTW91c2VFbnRlclwiLCBcIm9uTm9kZU1vdXNlTW92ZVwiLCBcIm9uTm9kZU1vdXNlTGVhdmVcIiwgXCJvbk5vZGVDb250ZXh0TWVudVwiLCBcIm9uTm9kZURvdWJsZUNsaWNrXCIsIFwib25Ob2RlRHJhZ1N0YXJ0XCIsIFwib25Ob2RlRHJhZ1wiLCBcIm9uTm9kZURyYWdTdG9wXCIsIFwib25Ob2Rlc0RlbGV0ZVwiLCBcIm9uRWRnZXNEZWxldGVcIiwgXCJvblNlbGVjdGlvbkNoYW5nZVwiLCBcIm9uU2VsZWN0aW9uRHJhZ1N0YXJ0XCIsIFwib25TZWxlY3Rpb25EcmFnXCIsIFwib25TZWxlY3Rpb25EcmFnU3RvcFwiLCBcIm9uU2VsZWN0aW9uQ29udGV4dE1lbnVcIiwgXCJjb25uZWN0aW9uTW9kZVwiLCBcImNvbm5lY3Rpb25MaW5lVHlwZVwiLCBcImNvbm5lY3Rpb25MaW5lU3R5bGVcIiwgXCJjb25uZWN0aW9uTGluZUNvbXBvbmVudFwiLCBcImNvbm5lY3Rpb25MaW5lQ29udGFpbmVyU3R5bGVcIiwgXCJkZWxldGVLZXlDb2RlXCIsIFwic2VsZWN0aW9uS2V5Q29kZVwiLCBcIm11bHRpU2VsZWN0aW9uS2V5Q29kZVwiLCBcInpvb21BY3RpdmF0aW9uS2V5Q29kZVwiLCBcInNuYXBUb0dyaWRcIiwgXCJzbmFwR3JpZFwiLCBcIm9ubHlSZW5kZXJWaXNpYmxlRWxlbWVudHNcIiwgXCJzZWxlY3ROb2Rlc09uRHJhZ1wiLCBcIm5vZGVzRHJhZ2dhYmxlXCIsIFwibm9kZXNDb25uZWN0YWJsZVwiLCBcImVsZW1lbnRzU2VsZWN0YWJsZVwiLCBcIm1pblpvb21cIiwgXCJtYXhab29tXCIsIFwiZGVmYXVsdFpvb21cIiwgXCJkZWZhdWx0UG9zaXRpb25cIiwgXCJ0cmFuc2xhdGVFeHRlbnRcIiwgXCJwcmV2ZW50U2Nyb2xsaW5nXCIsIFwibm9kZUV4dGVudFwiLCBcImRlZmF1bHRNYXJrZXJDb2xvclwiLCBcInpvb21PblNjcm9sbFwiLCBcInpvb21PblBpbmNoXCIsIFwicGFuT25TY3JvbGxcIiwgXCJwYW5PblNjcm9sbFNwZWVkXCIsIFwicGFuT25TY3JvbGxNb2RlXCIsIFwiem9vbU9uRG91YmxlQ2xpY2tcIiwgXCJwYW5PbkRyYWdcIiwgXCJvblBhbmVDbGlja1wiLCBcIm9uUGFuZVNjcm9sbFwiLCBcIm9uUGFuZUNvbnRleHRNZW51XCIsIFwiY2hpbGRyZW5cIiwgXCJvbkVkZ2VVcGRhdGVcIiwgXCJvbkVkZ2VDb250ZXh0TWVudVwiLCBcIm9uRWRnZURvdWJsZUNsaWNrXCIsIFwib25FZGdlTW91c2VFbnRlclwiLCBcIm9uRWRnZU1vdXNlTW92ZVwiLCBcIm9uRWRnZU1vdXNlTGVhdmVcIiwgXCJvbkVkZ2VVcGRhdGVTdGFydFwiLCBcIm9uRWRnZVVwZGF0ZUVuZFwiLCBcImVkZ2VVcGRhdGVyUmFkaXVzXCIsIFwib25Ob2Rlc0NoYW5nZVwiLCBcIm9uRWRnZXNDaGFuZ2VcIiwgXCJub0RyYWdDbGFzc05hbWVcIiwgXCJub1doZWVsQ2xhc3NOYW1lXCIsIFwibm9QYW5DbGFzc05hbWVcIiwgXCJmaXRWaWV3XCIsIFwiZml0Vmlld09wdGlvbnNcIiwgXCJjb25uZWN0T25DbGlja1wiLCBcImF0dHJpYnV0aW9uUG9zaXRpb25cIiwgXCJwcm9PcHRpb25zXCIsIFwiZGVmYXVsdEVkZ2VPcHRpb25zXCIsIFwiZWxldmF0ZUVkZ2VzT25TZWxlY3RcIl07XG5cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBlbnVtZXJhYmxlT25seSAmJiAoc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pKSwga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBudWxsICE9IGFyZ3VtZW50c1tpXSA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpICUgMiA/IG93bktleXMoT2JqZWN0KHNvdXJjZSksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpIDogb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbntcbiAgaW5qZWN0U3R5bGUoY3NzKTtcbiAgaW5qZWN0U3R5bGUodGhlbWUpO1xufVxuXG52YXIgZGVmYXVsdE5vZGVUeXBlcyA9IHtcbiAgaW5wdXQ6IElucHV0Tm9kZSQxLFxuICBcImRlZmF1bHRcIjogRGVmYXVsdE5vZGUkMSxcbiAgb3V0cHV0OiBPdXRwdXROb2RlJDFcbn07XG52YXIgZGVmYXVsdEVkZ2VUeXBlcyA9IHtcbiAgXCJkZWZhdWx0XCI6IEJlemllckVkZ2UsXG4gIHN0cmFpZ2h0OiBTdHJhaWdodEVkZ2UsXG4gIHN0ZXA6IFN0ZXBFZGdlLFxuICBzbW9vdGhzdGVwOiBTbW9vdGhTdGVwRWRnZSxcbiAgc2ltcGxlYmV6aWVyOiBTaW1wbGVCZXppZXJFZGdlXG59O1xudmFyIGluaXRTbmFwR3JpZCA9IFsxNSwgMTVdO1xudmFyIGluaXREZWZhdWx0UG9zaXRpb24gPSBbMCwgMF07XG52YXIgUmVhY3RGbG93ID0gLyojX19QVVJFX18qL2ZvcndhcmRSZWYoZnVuY3Rpb24gKF9yZWYsIHJlZikge1xuICB2YXIgbm9kZXMgPSBfcmVmLm5vZGVzLFxuICAgICAgZWRnZXMgPSBfcmVmLmVkZ2VzLFxuICAgICAgZGVmYXVsdE5vZGVzID0gX3JlZi5kZWZhdWx0Tm9kZXMsXG4gICAgICBkZWZhdWx0RWRnZXMgPSBfcmVmLmRlZmF1bHRFZGdlcyxcbiAgICAgIGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lLFxuICAgICAgX3JlZiRub2RlVHlwZXMgPSBfcmVmLm5vZGVUeXBlcyxcbiAgICAgIG5vZGVUeXBlcyA9IF9yZWYkbm9kZVR5cGVzID09PSB2b2lkIDAgPyBkZWZhdWx0Tm9kZVR5cGVzIDogX3JlZiRub2RlVHlwZXMsXG4gICAgICBfcmVmJGVkZ2VUeXBlcyA9IF9yZWYuZWRnZVR5cGVzLFxuICAgICAgZWRnZVR5cGVzID0gX3JlZiRlZGdlVHlwZXMgPT09IHZvaWQgMCA/IGRlZmF1bHRFZGdlVHlwZXMgOiBfcmVmJGVkZ2VUeXBlcyxcbiAgICAgIG9uTm9kZUNsaWNrID0gX3JlZi5vbk5vZGVDbGljayxcbiAgICAgIG9uRWRnZUNsaWNrID0gX3JlZi5vbkVkZ2VDbGljayxcbiAgICAgIG9uSW5pdCA9IF9yZWYub25Jbml0LFxuICAgICAgb25Nb3ZlID0gX3JlZi5vbk1vdmUsXG4gICAgICBvbk1vdmVTdGFydCA9IF9yZWYub25Nb3ZlU3RhcnQsXG4gICAgICBvbk1vdmVFbmQgPSBfcmVmLm9uTW92ZUVuZCxcbiAgICAgIG9uQ29ubmVjdCA9IF9yZWYub25Db25uZWN0LFxuICAgICAgb25Db25uZWN0U3RhcnQgPSBfcmVmLm9uQ29ubmVjdFN0YXJ0LFxuICAgICAgb25Db25uZWN0U3RvcCA9IF9yZWYub25Db25uZWN0U3RvcCxcbiAgICAgIG9uQ29ubmVjdEVuZCA9IF9yZWYub25Db25uZWN0RW5kLFxuICAgICAgb25DbGlja0Nvbm5lY3RTdGFydCA9IF9yZWYub25DbGlja0Nvbm5lY3RTdGFydCxcbiAgICAgIG9uQ2xpY2tDb25uZWN0U3RvcCA9IF9yZWYub25DbGlja0Nvbm5lY3RTdG9wLFxuICAgICAgb25DbGlja0Nvbm5lY3RFbmQgPSBfcmVmLm9uQ2xpY2tDb25uZWN0RW5kLFxuICAgICAgb25Ob2RlTW91c2VFbnRlciA9IF9yZWYub25Ob2RlTW91c2VFbnRlcixcbiAgICAgIG9uTm9kZU1vdXNlTW92ZSA9IF9yZWYub25Ob2RlTW91c2VNb3ZlLFxuICAgICAgb25Ob2RlTW91c2VMZWF2ZSA9IF9yZWYub25Ob2RlTW91c2VMZWF2ZSxcbiAgICAgIG9uTm9kZUNvbnRleHRNZW51ID0gX3JlZi5vbk5vZGVDb250ZXh0TWVudSxcbiAgICAgIG9uTm9kZURvdWJsZUNsaWNrID0gX3JlZi5vbk5vZGVEb3VibGVDbGljayxcbiAgICAgIG9uTm9kZURyYWdTdGFydCA9IF9yZWYub25Ob2RlRHJhZ1N0YXJ0LFxuICAgICAgb25Ob2RlRHJhZyA9IF9yZWYub25Ob2RlRHJhZyxcbiAgICAgIG9uTm9kZURyYWdTdG9wID0gX3JlZi5vbk5vZGVEcmFnU3RvcCxcbiAgICAgIG9uTm9kZXNEZWxldGUgPSBfcmVmLm9uTm9kZXNEZWxldGUsXG4gICAgICBvbkVkZ2VzRGVsZXRlID0gX3JlZi5vbkVkZ2VzRGVsZXRlLFxuICAgICAgb25TZWxlY3Rpb25DaGFuZ2UgPSBfcmVmLm9uU2VsZWN0aW9uQ2hhbmdlLFxuICAgICAgb25TZWxlY3Rpb25EcmFnU3RhcnQgPSBfcmVmLm9uU2VsZWN0aW9uRHJhZ1N0YXJ0LFxuICAgICAgb25TZWxlY3Rpb25EcmFnID0gX3JlZi5vblNlbGVjdGlvbkRyYWcsXG4gICAgICBvblNlbGVjdGlvbkRyYWdTdG9wID0gX3JlZi5vblNlbGVjdGlvbkRyYWdTdG9wLFxuICAgICAgb25TZWxlY3Rpb25Db250ZXh0TWVudSA9IF9yZWYub25TZWxlY3Rpb25Db250ZXh0TWVudSxcbiAgICAgIF9yZWYkY29ubmVjdGlvbk1vZGUgPSBfcmVmLmNvbm5lY3Rpb25Nb2RlLFxuICAgICAgY29ubmVjdGlvbk1vZGUgPSBfcmVmJGNvbm5lY3Rpb25Nb2RlID09PSB2b2lkIDAgPyBDb25uZWN0aW9uTW9kZS5TdHJpY3QgOiBfcmVmJGNvbm5lY3Rpb25Nb2RlLFxuICAgICAgX3JlZiRjb25uZWN0aW9uTGluZVR5ID0gX3JlZi5jb25uZWN0aW9uTGluZVR5cGUsXG4gICAgICBjb25uZWN0aW9uTGluZVR5cGUgPSBfcmVmJGNvbm5lY3Rpb25MaW5lVHkgPT09IHZvaWQgMCA/IENvbm5lY3Rpb25MaW5lVHlwZS5CZXppZXIgOiBfcmVmJGNvbm5lY3Rpb25MaW5lVHksXG4gICAgICBjb25uZWN0aW9uTGluZVN0eWxlID0gX3JlZi5jb25uZWN0aW9uTGluZVN0eWxlLFxuICAgICAgY29ubmVjdGlvbkxpbmVDb21wb25lbnQgPSBfcmVmLmNvbm5lY3Rpb25MaW5lQ29tcG9uZW50LFxuICAgICAgY29ubmVjdGlvbkxpbmVDb250YWluZXJTdHlsZSA9IF9yZWYuY29ubmVjdGlvbkxpbmVDb250YWluZXJTdHlsZSxcbiAgICAgIF9yZWYkZGVsZXRlS2V5Q29kZSA9IF9yZWYuZGVsZXRlS2V5Q29kZSxcbiAgICAgIGRlbGV0ZUtleUNvZGUgPSBfcmVmJGRlbGV0ZUtleUNvZGUgPT09IHZvaWQgMCA/ICdCYWNrc3BhY2UnIDogX3JlZiRkZWxldGVLZXlDb2RlLFxuICAgICAgX3JlZiRzZWxlY3Rpb25LZXlDb2RlID0gX3JlZi5zZWxlY3Rpb25LZXlDb2RlLFxuICAgICAgc2VsZWN0aW9uS2V5Q29kZSA9IF9yZWYkc2VsZWN0aW9uS2V5Q29kZSA9PT0gdm9pZCAwID8gJ1NoaWZ0JyA6IF9yZWYkc2VsZWN0aW9uS2V5Q29kZSxcbiAgICAgIF9yZWYkbXVsdGlTZWxlY3Rpb25LZSA9IF9yZWYubXVsdGlTZWxlY3Rpb25LZXlDb2RlLFxuICAgICAgbXVsdGlTZWxlY3Rpb25LZXlDb2RlID0gX3JlZiRtdWx0aVNlbGVjdGlvbktlID09PSB2b2lkIDAgPyAnTWV0YScgOiBfcmVmJG11bHRpU2VsZWN0aW9uS2UsXG4gICAgICBfcmVmJHpvb21BY3RpdmF0aW9uS2UgPSBfcmVmLnpvb21BY3RpdmF0aW9uS2V5Q29kZSxcbiAgICAgIHpvb21BY3RpdmF0aW9uS2V5Q29kZSA9IF9yZWYkem9vbUFjdGl2YXRpb25LZSA9PT0gdm9pZCAwID8gJ01ldGEnIDogX3JlZiR6b29tQWN0aXZhdGlvbktlLFxuICAgICAgX3JlZiRzbmFwVG9HcmlkID0gX3JlZi5zbmFwVG9HcmlkLFxuICAgICAgc25hcFRvR3JpZCA9IF9yZWYkc25hcFRvR3JpZCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmJHNuYXBUb0dyaWQsXG4gICAgICBfcmVmJHNuYXBHcmlkID0gX3JlZi5zbmFwR3JpZCxcbiAgICAgIHNuYXBHcmlkID0gX3JlZiRzbmFwR3JpZCA9PT0gdm9pZCAwID8gaW5pdFNuYXBHcmlkIDogX3JlZiRzbmFwR3JpZCxcbiAgICAgIF9yZWYkb25seVJlbmRlclZpc2libCA9IF9yZWYub25seVJlbmRlclZpc2libGVFbGVtZW50cyxcbiAgICAgIG9ubHlSZW5kZXJWaXNpYmxlRWxlbWVudHMgPSBfcmVmJG9ubHlSZW5kZXJWaXNpYmwgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRvbmx5UmVuZGVyVmlzaWJsLFxuICAgICAgX3JlZiRzZWxlY3ROb2Rlc09uRHJhID0gX3JlZi5zZWxlY3ROb2Rlc09uRHJhZyxcbiAgICAgIHNlbGVjdE5vZGVzT25EcmFnID0gX3JlZiRzZWxlY3ROb2Rlc09uRHJhID09PSB2b2lkIDAgPyB0cnVlIDogX3JlZiRzZWxlY3ROb2Rlc09uRHJhLFxuICAgICAgbm9kZXNEcmFnZ2FibGUgPSBfcmVmLm5vZGVzRHJhZ2dhYmxlLFxuICAgICAgbm9kZXNDb25uZWN0YWJsZSA9IF9yZWYubm9kZXNDb25uZWN0YWJsZSxcbiAgICAgIGVsZW1lbnRzU2VsZWN0YWJsZSA9IF9yZWYuZWxlbWVudHNTZWxlY3RhYmxlLFxuICAgICAgX3JlZiRtaW5ab29tID0gX3JlZi5taW5ab29tLFxuICAgICAgbWluWm9vbSA9IF9yZWYkbWluWm9vbSA9PT0gdm9pZCAwID8gMC41IDogX3JlZiRtaW5ab29tLFxuICAgICAgX3JlZiRtYXhab29tID0gX3JlZi5tYXhab29tLFxuICAgICAgbWF4Wm9vbSA9IF9yZWYkbWF4Wm9vbSA9PT0gdm9pZCAwID8gMiA6IF9yZWYkbWF4Wm9vbSxcbiAgICAgIF9yZWYkZGVmYXVsdFpvb20gPSBfcmVmLmRlZmF1bHRab29tLFxuICAgICAgZGVmYXVsdFpvb20gPSBfcmVmJGRlZmF1bHRab29tID09PSB2b2lkIDAgPyAxIDogX3JlZiRkZWZhdWx0Wm9vbSxcbiAgICAgIF9yZWYkZGVmYXVsdFBvc2l0aW9uID0gX3JlZi5kZWZhdWx0UG9zaXRpb24sXG4gICAgICBkZWZhdWx0UG9zaXRpb24gPSBfcmVmJGRlZmF1bHRQb3NpdGlvbiA9PT0gdm9pZCAwID8gaW5pdERlZmF1bHRQb3NpdGlvbiA6IF9yZWYkZGVmYXVsdFBvc2l0aW9uLFxuICAgICAgX3JlZiR0cmFuc2xhdGVFeHRlbnQgPSBfcmVmLnRyYW5zbGF0ZUV4dGVudCxcbiAgICAgIHRyYW5zbGF0ZUV4dGVudCA9IF9yZWYkdHJhbnNsYXRlRXh0ZW50ID09PSB2b2lkIDAgPyBpbmZpbml0ZUV4dGVudCA6IF9yZWYkdHJhbnNsYXRlRXh0ZW50LFxuICAgICAgX3JlZiRwcmV2ZW50U2Nyb2xsaW5nID0gX3JlZi5wcmV2ZW50U2Nyb2xsaW5nLFxuICAgICAgcHJldmVudFNjcm9sbGluZyA9IF9yZWYkcHJldmVudFNjcm9sbGluZyA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9yZWYkcHJldmVudFNjcm9sbGluZyxcbiAgICAgIG5vZGVFeHRlbnQgPSBfcmVmLm5vZGVFeHRlbnQsXG4gICAgICBfcmVmJGRlZmF1bHRNYXJrZXJDb2wgPSBfcmVmLmRlZmF1bHRNYXJrZXJDb2xvcixcbiAgICAgIGRlZmF1bHRNYXJrZXJDb2xvciA9IF9yZWYkZGVmYXVsdE1hcmtlckNvbCA9PT0gdm9pZCAwID8gJyNiMWIxYjcnIDogX3JlZiRkZWZhdWx0TWFya2VyQ29sLFxuICAgICAgX3JlZiR6b29tT25TY3JvbGwgPSBfcmVmLnpvb21PblNjcm9sbCxcbiAgICAgIHpvb21PblNjcm9sbCA9IF9yZWYkem9vbU9uU2Nyb2xsID09PSB2b2lkIDAgPyB0cnVlIDogX3JlZiR6b29tT25TY3JvbGwsXG4gICAgICBfcmVmJHpvb21PblBpbmNoID0gX3JlZi56b29tT25QaW5jaCxcbiAgICAgIHpvb21PblBpbmNoID0gX3JlZiR6b29tT25QaW5jaCA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9yZWYkem9vbU9uUGluY2gsXG4gICAgICBfcmVmJHBhbk9uU2Nyb2xsID0gX3JlZi5wYW5PblNjcm9sbCxcbiAgICAgIHBhbk9uU2Nyb2xsID0gX3JlZiRwYW5PblNjcm9sbCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmJHBhbk9uU2Nyb2xsLFxuICAgICAgX3JlZiRwYW5PblNjcm9sbFNwZWVkID0gX3JlZi5wYW5PblNjcm9sbFNwZWVkLFxuICAgICAgcGFuT25TY3JvbGxTcGVlZCA9IF9yZWYkcGFuT25TY3JvbGxTcGVlZCA9PT0gdm9pZCAwID8gMC41IDogX3JlZiRwYW5PblNjcm9sbFNwZWVkLFxuICAgICAgX3JlZiRwYW5PblNjcm9sbE1vZGUgPSBfcmVmLnBhbk9uU2Nyb2xsTW9kZSxcbiAgICAgIHBhbk9uU2Nyb2xsTW9kZSA9IF9yZWYkcGFuT25TY3JvbGxNb2RlID09PSB2b2lkIDAgPyBQYW5PblNjcm9sbE1vZGUuRnJlZSA6IF9yZWYkcGFuT25TY3JvbGxNb2RlLFxuICAgICAgX3JlZiR6b29tT25Eb3VibGVDbGljID0gX3JlZi56b29tT25Eb3VibGVDbGljayxcbiAgICAgIHpvb21PbkRvdWJsZUNsaWNrID0gX3JlZiR6b29tT25Eb3VibGVDbGljID09PSB2b2lkIDAgPyB0cnVlIDogX3JlZiR6b29tT25Eb3VibGVDbGljLFxuICAgICAgX3JlZiRwYW5PbkRyYWcgPSBfcmVmLnBhbk9uRHJhZyxcbiAgICAgIHBhbk9uRHJhZyA9IF9yZWYkcGFuT25EcmFnID09PSB2b2lkIDAgPyB0cnVlIDogX3JlZiRwYW5PbkRyYWcsXG4gICAgICBvblBhbmVDbGljayA9IF9yZWYub25QYW5lQ2xpY2ssXG4gICAgICBvblBhbmVTY3JvbGwgPSBfcmVmLm9uUGFuZVNjcm9sbCxcbiAgICAgIG9uUGFuZUNvbnRleHRNZW51ID0gX3JlZi5vblBhbmVDb250ZXh0TWVudSxcbiAgICAgIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbixcbiAgICAgIG9uRWRnZVVwZGF0ZSA9IF9yZWYub25FZGdlVXBkYXRlLFxuICAgICAgb25FZGdlQ29udGV4dE1lbnUgPSBfcmVmLm9uRWRnZUNvbnRleHRNZW51LFxuICAgICAgb25FZGdlRG91YmxlQ2xpY2sgPSBfcmVmLm9uRWRnZURvdWJsZUNsaWNrLFxuICAgICAgb25FZGdlTW91c2VFbnRlciA9IF9yZWYub25FZGdlTW91c2VFbnRlcixcbiAgICAgIG9uRWRnZU1vdXNlTW92ZSA9IF9yZWYub25FZGdlTW91c2VNb3ZlLFxuICAgICAgb25FZGdlTW91c2VMZWF2ZSA9IF9yZWYub25FZGdlTW91c2VMZWF2ZSxcbiAgICAgIG9uRWRnZVVwZGF0ZVN0YXJ0ID0gX3JlZi5vbkVkZ2VVcGRhdGVTdGFydCxcbiAgICAgIG9uRWRnZVVwZGF0ZUVuZCA9IF9yZWYub25FZGdlVXBkYXRlRW5kLFxuICAgICAgX3JlZiRlZGdlVXBkYXRlclJhZGl1ID0gX3JlZi5lZGdlVXBkYXRlclJhZGl1cyxcbiAgICAgIGVkZ2VVcGRhdGVyUmFkaXVzID0gX3JlZiRlZGdlVXBkYXRlclJhZGl1ID09PSB2b2lkIDAgPyAxMCA6IF9yZWYkZWRnZVVwZGF0ZXJSYWRpdSxcbiAgICAgIG9uTm9kZXNDaGFuZ2UgPSBfcmVmLm9uTm9kZXNDaGFuZ2UsXG4gICAgICBvbkVkZ2VzQ2hhbmdlID0gX3JlZi5vbkVkZ2VzQ2hhbmdlLFxuICAgICAgX3JlZiRub0RyYWdDbGFzc05hbWUgPSBfcmVmLm5vRHJhZ0NsYXNzTmFtZSxcbiAgICAgIG5vRHJhZ0NsYXNzTmFtZSA9IF9yZWYkbm9EcmFnQ2xhc3NOYW1lID09PSB2b2lkIDAgPyAnbm9kcmFnJyA6IF9yZWYkbm9EcmFnQ2xhc3NOYW1lLFxuICAgICAgX3JlZiRub1doZWVsQ2xhc3NOYW1lID0gX3JlZi5ub1doZWVsQ2xhc3NOYW1lLFxuICAgICAgbm9XaGVlbENsYXNzTmFtZSA9IF9yZWYkbm9XaGVlbENsYXNzTmFtZSA9PT0gdm9pZCAwID8gJ25vd2hlZWwnIDogX3JlZiRub1doZWVsQ2xhc3NOYW1lLFxuICAgICAgX3JlZiRub1BhbkNsYXNzTmFtZSA9IF9yZWYubm9QYW5DbGFzc05hbWUsXG4gICAgICBub1BhbkNsYXNzTmFtZSA9IF9yZWYkbm9QYW5DbGFzc05hbWUgPT09IHZvaWQgMCA/ICdub3BhbicgOiBfcmVmJG5vUGFuQ2xhc3NOYW1lLFxuICAgICAgX3JlZiRmaXRWaWV3ID0gX3JlZi5maXRWaWV3LFxuICAgICAgZml0VmlldyA9IF9yZWYkZml0VmlldyA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmJGZpdFZpZXcsXG4gICAgICBmaXRWaWV3T3B0aW9ucyA9IF9yZWYuZml0Vmlld09wdGlvbnMsXG4gICAgICBfcmVmJGNvbm5lY3RPbkNsaWNrID0gX3JlZi5jb25uZWN0T25DbGljayxcbiAgICAgIGNvbm5lY3RPbkNsaWNrID0gX3JlZiRjb25uZWN0T25DbGljayA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9yZWYkY29ubmVjdE9uQ2xpY2ssXG4gICAgICBhdHRyaWJ1dGlvblBvc2l0aW9uID0gX3JlZi5hdHRyaWJ1dGlvblBvc2l0aW9uLFxuICAgICAgcHJvT3B0aW9ucyA9IF9yZWYucHJvT3B0aW9ucyxcbiAgICAgIGRlZmF1bHRFZGdlT3B0aW9ucyA9IF9yZWYuZGVmYXVsdEVkZ2VPcHRpb25zLFxuICAgICAgX3JlZiRlbGV2YXRlRWRnZXNPblNlID0gX3JlZi5lbGV2YXRlRWRnZXNPblNlbGVjdCxcbiAgICAgIGVsZXZhdGVFZGdlc09uU2VsZWN0ID0gX3JlZiRlbGV2YXRlRWRnZXNPblNlID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYkZWxldmF0ZUVkZ2VzT25TZSxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZiwgX2V4Y2x1ZGVkKTtcblxuICB2YXIgbm9kZVR5cGVzV3JhcHBlZCA9IHVzZU5vZGVPckVkZ2VUeXBlcyhub2RlVHlwZXMsIGNyZWF0ZU5vZGVUeXBlcyk7XG4gIHZhciBlZGdlVHlwZXNXcmFwcGVkID0gdXNlTm9kZU9yRWRnZVR5cGVzKGVkZ2VUeXBlcywgY3JlYXRlRWRnZVR5cGVzKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcmVzdCksIHt9LCB7XG4gICAgcmVmOiByZWYsXG4gICAgY2xhc3NOYW1lOiBjYyhbJ3JlYWN0LWZsb3cnLCBjbGFzc05hbWVdKVxuICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoV3JhcHBlciwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoR3JhcGhWaWV3JDEsIHtcbiAgICBvbkluaXQ6IG9uSW5pdCxcbiAgICBvbk1vdmU6IG9uTW92ZSxcbiAgICBvbk1vdmVTdGFydDogb25Nb3ZlU3RhcnQsXG4gICAgb25Nb3ZlRW5kOiBvbk1vdmVFbmQsXG4gICAgb25Ob2RlQ2xpY2s6IG9uTm9kZUNsaWNrLFxuICAgIG9uRWRnZUNsaWNrOiBvbkVkZ2VDbGljayxcbiAgICBvbk5vZGVNb3VzZUVudGVyOiBvbk5vZGVNb3VzZUVudGVyLFxuICAgIG9uTm9kZU1vdXNlTW92ZTogb25Ob2RlTW91c2VNb3ZlLFxuICAgIG9uTm9kZU1vdXNlTGVhdmU6IG9uTm9kZU1vdXNlTGVhdmUsXG4gICAgb25Ob2RlQ29udGV4dE1lbnU6IG9uTm9kZUNvbnRleHRNZW51LFxuICAgIG9uTm9kZURvdWJsZUNsaWNrOiBvbk5vZGVEb3VibGVDbGljayxcbiAgICBub2RlVHlwZXM6IG5vZGVUeXBlc1dyYXBwZWQsXG4gICAgZWRnZVR5cGVzOiBlZGdlVHlwZXNXcmFwcGVkLFxuICAgIGNvbm5lY3Rpb25MaW5lVHlwZTogY29ubmVjdGlvbkxpbmVUeXBlLFxuICAgIGNvbm5lY3Rpb25MaW5lU3R5bGU6IGNvbm5lY3Rpb25MaW5lU3R5bGUsXG4gICAgY29ubmVjdGlvbkxpbmVDb21wb25lbnQ6IGNvbm5lY3Rpb25MaW5lQ29tcG9uZW50LFxuICAgIGNvbm5lY3Rpb25MaW5lQ29udGFpbmVyU3R5bGU6IGNvbm5lY3Rpb25MaW5lQ29udGFpbmVyU3R5bGUsXG4gICAgc2VsZWN0aW9uS2V5Q29kZTogc2VsZWN0aW9uS2V5Q29kZSxcbiAgICBkZWxldGVLZXlDb2RlOiBkZWxldGVLZXlDb2RlLFxuICAgIG11bHRpU2VsZWN0aW9uS2V5Q29kZTogbXVsdGlTZWxlY3Rpb25LZXlDb2RlLFxuICAgIHpvb21BY3RpdmF0aW9uS2V5Q29kZTogem9vbUFjdGl2YXRpb25LZXlDb2RlLFxuICAgIG9ubHlSZW5kZXJWaXNpYmxlRWxlbWVudHM6IG9ubHlSZW5kZXJWaXNpYmxlRWxlbWVudHMsXG4gICAgc2VsZWN0Tm9kZXNPbkRyYWc6IHNlbGVjdE5vZGVzT25EcmFnLFxuICAgIHRyYW5zbGF0ZUV4dGVudDogdHJhbnNsYXRlRXh0ZW50LFxuICAgIG1pblpvb206IG1pblpvb20sXG4gICAgbWF4Wm9vbTogbWF4Wm9vbSxcbiAgICBkZWZhdWx0Wm9vbTogZGVmYXVsdFpvb20sXG4gICAgZGVmYXVsdFBvc2l0aW9uOiBkZWZhdWx0UG9zaXRpb24sXG4gICAgcHJldmVudFNjcm9sbGluZzogcHJldmVudFNjcm9sbGluZyxcbiAgICB6b29tT25TY3JvbGw6IHpvb21PblNjcm9sbCxcbiAgICB6b29tT25QaW5jaDogem9vbU9uUGluY2gsXG4gICAgem9vbU9uRG91YmxlQ2xpY2s6IHpvb21PbkRvdWJsZUNsaWNrLFxuICAgIHBhbk9uU2Nyb2xsOiBwYW5PblNjcm9sbCxcbiAgICBwYW5PblNjcm9sbFNwZWVkOiBwYW5PblNjcm9sbFNwZWVkLFxuICAgIHBhbk9uU2Nyb2xsTW9kZTogcGFuT25TY3JvbGxNb2RlLFxuICAgIHBhbk9uRHJhZzogcGFuT25EcmFnLFxuICAgIG9uUGFuZUNsaWNrOiBvblBhbmVDbGljayxcbiAgICBvblBhbmVTY3JvbGw6IG9uUGFuZVNjcm9sbCxcbiAgICBvblBhbmVDb250ZXh0TWVudTogb25QYW5lQ29udGV4dE1lbnUsXG4gICAgb25TZWxlY3Rpb25Db250ZXh0TWVudTogb25TZWxlY3Rpb25Db250ZXh0TWVudSxcbiAgICBvbkVkZ2VVcGRhdGU6IG9uRWRnZVVwZGF0ZSxcbiAgICBvbkVkZ2VDb250ZXh0TWVudTogb25FZGdlQ29udGV4dE1lbnUsXG4gICAgb25FZGdlRG91YmxlQ2xpY2s6IG9uRWRnZURvdWJsZUNsaWNrLFxuICAgIG9uRWRnZU1vdXNlRW50ZXI6IG9uRWRnZU1vdXNlRW50ZXIsXG4gICAgb25FZGdlTW91c2VNb3ZlOiBvbkVkZ2VNb3VzZU1vdmUsXG4gICAgb25FZGdlTW91c2VMZWF2ZTogb25FZGdlTW91c2VMZWF2ZSxcbiAgICBvbkVkZ2VVcGRhdGVTdGFydDogb25FZGdlVXBkYXRlU3RhcnQsXG4gICAgb25FZGdlVXBkYXRlRW5kOiBvbkVkZ2VVcGRhdGVFbmQsXG4gICAgZWRnZVVwZGF0ZXJSYWRpdXM6IGVkZ2VVcGRhdGVyUmFkaXVzLFxuICAgIGRlZmF1bHRNYXJrZXJDb2xvcjogZGVmYXVsdE1hcmtlckNvbG9yLFxuICAgIG5vRHJhZ0NsYXNzTmFtZTogbm9EcmFnQ2xhc3NOYW1lLFxuICAgIG5vV2hlZWxDbGFzc05hbWU6IG5vV2hlZWxDbGFzc05hbWUsXG4gICAgbm9QYW5DbGFzc05hbWU6IG5vUGFuQ2xhc3NOYW1lLFxuICAgIGVsZXZhdGVFZGdlc09uU2VsZWN0OiBlbGV2YXRlRWRnZXNPblNlbGVjdCxcbiAgICBpZDogcmVzdCA9PT0gbnVsbCB8fCByZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXN0LmlkXG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTdG9yZVVwZGF0ZXIsIHtcbiAgICBub2Rlczogbm9kZXMsXG4gICAgZWRnZXM6IGVkZ2VzLFxuICAgIGRlZmF1bHROb2RlczogZGVmYXVsdE5vZGVzLFxuICAgIGRlZmF1bHRFZGdlczogZGVmYXVsdEVkZ2VzLFxuICAgIG9uQ29ubmVjdDogb25Db25uZWN0LFxuICAgIG9uQ29ubmVjdFN0YXJ0OiBvbkNvbm5lY3RTdGFydCxcbiAgICBvbkNvbm5lY3RTdG9wOiBvbkNvbm5lY3RTdG9wLFxuICAgIG9uQ29ubmVjdEVuZDogb25Db25uZWN0RW5kLFxuICAgIG9uQ2xpY2tDb25uZWN0U3RhcnQ6IG9uQ2xpY2tDb25uZWN0U3RhcnQsXG4gICAgb25DbGlja0Nvbm5lY3RTdG9wOiBvbkNsaWNrQ29ubmVjdFN0b3AsXG4gICAgb25DbGlja0Nvbm5lY3RFbmQ6IG9uQ2xpY2tDb25uZWN0RW5kLFxuICAgIG5vZGVzRHJhZ2dhYmxlOiBub2Rlc0RyYWdnYWJsZSxcbiAgICBub2Rlc0Nvbm5lY3RhYmxlOiBub2Rlc0Nvbm5lY3RhYmxlLFxuICAgIGVsZW1lbnRzU2VsZWN0YWJsZTogZWxlbWVudHNTZWxlY3RhYmxlLFxuICAgIG1pblpvb206IG1pblpvb20sXG4gICAgbWF4Wm9vbTogbWF4Wm9vbSxcbiAgICBub2RlRXh0ZW50OiBub2RlRXh0ZW50LFxuICAgIG9uTm9kZXNDaGFuZ2U6IG9uTm9kZXNDaGFuZ2UsXG4gICAgb25FZGdlc0NoYW5nZTogb25FZGdlc0NoYW5nZSxcbiAgICBzbmFwVG9HcmlkOiBzbmFwVG9HcmlkLFxuICAgIHNuYXBHcmlkOiBzbmFwR3JpZCxcbiAgICBjb25uZWN0aW9uTW9kZTogY29ubmVjdGlvbk1vZGUsXG4gICAgdHJhbnNsYXRlRXh0ZW50OiB0cmFuc2xhdGVFeHRlbnQsXG4gICAgY29ubmVjdE9uQ2xpY2s6IGNvbm5lY3RPbkNsaWNrLFxuICAgIGRlZmF1bHRFZGdlT3B0aW9uczogZGVmYXVsdEVkZ2VPcHRpb25zLFxuICAgIGZpdFZpZXc6IGZpdFZpZXcsXG4gICAgZml0Vmlld09wdGlvbnM6IGZpdFZpZXdPcHRpb25zLFxuICAgIG9uTm9kZXNEZWxldGU6IG9uTm9kZXNEZWxldGUsXG4gICAgb25FZGdlc0RlbGV0ZTogb25FZGdlc0RlbGV0ZSxcbiAgICBvbk5vZGVEcmFnU3RhcnQ6IG9uTm9kZURyYWdTdGFydCxcbiAgICBvbk5vZGVEcmFnOiBvbk5vZGVEcmFnLFxuICAgIG9uTm9kZURyYWdTdG9wOiBvbk5vZGVEcmFnU3RvcCxcbiAgICBvblNlbGVjdGlvbkRyYWc6IG9uU2VsZWN0aW9uRHJhZyxcbiAgICBvblNlbGVjdGlvbkRyYWdTdGFydDogb25TZWxlY3Rpb25EcmFnU3RhcnQsXG4gICAgb25TZWxlY3Rpb25EcmFnU3RvcDogb25TZWxlY3Rpb25EcmFnU3RvcFxuICB9KSwgb25TZWxlY3Rpb25DaGFuZ2UgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoU2VsZWN0aW9uTGlzdGVuZXIkMSwge1xuICAgIG9uU2VsZWN0aW9uQ2hhbmdlOiBvblNlbGVjdGlvbkNoYW5nZVxuICB9KSwgY2hpbGRyZW4sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEF0dHJpYnV0aW9uLCB7XG4gICAgcHJvT3B0aW9uczogcHJvT3B0aW9ucyxcbiAgICBwb3NpdGlvbjogYXR0cmlidXRpb25Qb3NpdGlvblxuICB9KSkpO1xufSk7XG5SZWFjdEZsb3cuZGlzcGxheU5hbWUgPSAnUmVhY3RGbG93JztcblxudmFyIFJlYWN0Rmxvd1Byb3ZpZGVyID0gZnVuY3Rpb24gUmVhY3RGbG93UHJvdmlkZXIoX3JlZikge1xuICB2YXIgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUHJvdmlkZXIkMSwge1xuICAgIGNyZWF0ZVN0b3JlOiBjcmVhdGVTdG9yZVxuICB9LCBjaGlsZHJlbik7XG59O1xuXG5SZWFjdEZsb3dQcm92aWRlci5kaXNwbGF5TmFtZSA9ICdSZWFjdEZsb3dQcm92aWRlcic7XG5cbmZ1bmN0aW9uIGNyZWF0ZVVzZUl0ZW1zU3RhdGUoYXBwbHlDaGFuZ2VzKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoaW5pdGlhbEl0ZW1zKSB7XG4gICAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKGluaXRpYWxJdGVtcyksXG4gICAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLFxuICAgICAgICBpdGVtcyA9IF91c2VTdGF0ZTJbMF0sXG4gICAgICAgIHNldEl0ZW1zID0gX3VzZVN0YXRlMlsxXTtcblxuICAgIHZhciBvbkl0ZW1zQ2hhbmdlID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGNoYW5nZXMpIHtcbiAgICAgIHJldHVybiBzZXRJdGVtcyhmdW5jdGlvbiAoaXRlbXMpIHtcbiAgICAgICAgcmV0dXJuIGFwcGx5Q2hhbmdlcyhjaGFuZ2VzLCBpdGVtcyk7XG4gICAgICB9KTtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIFtpdGVtcywgc2V0SXRlbXMsIG9uSXRlbXNDaGFuZ2VdO1xuICB9O1xufVxuXG52YXIgdXNlTm9kZXNTdGF0ZSA9IGNyZWF0ZVVzZUl0ZW1zU3RhdGUoYXBwbHlOb2RlQ2hhbmdlcyk7XG52YXIgdXNlRWRnZXNTdGF0ZSA9IGNyZWF0ZVVzZUl0ZW1zU3RhdGUoYXBwbHlFZGdlQ2hhbmdlcyk7XG5cbmV4cG9ydCB7IEJlemllckVkZ2UsIEVkZ2VUZXh0JDEgYXMgRWRnZVRleHQsIEhhbmRsZSQxIGFzIEhhbmRsZSwgUmVhY3RGbG93UHJvdmlkZXIsIFNpbXBsZUJlemllckVkZ2UsIFNtb290aFN0ZXBFZGdlLCBTdGVwRWRnZSwgU3RyYWlnaHRFZGdlLCBSZWFjdEZsb3cgYXMgZGVmYXVsdCwgZ2V0QmV6aWVyQ2VudGVyIGFzIGdldEJlemllckVkZ2VDZW50ZXIsIGdldEJlemllclBhdGgsIGdldENlbnRlciBhcyBnZXRFZGdlQ2VudGVyLCBnZXRNYXJrZXJFbmQsIGdldFNpbXBsZUJlemllckNlbnRlciBhcyBnZXRTaW1wbGVCZXppZXJFZGdlQ2VudGVyLCBnZXRTaW1wbGVCZXppZXJQYXRoLCBnZXRTbW9vdGhTdGVwUGF0aCwgdXNlRWRnZXNTdGF0ZSwgdXNlS2V5UHJlc3MsIHVzZU5vZGVzU3RhdGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/react-flow-renderer/dist/esm/index.js\n"));

/***/ }),

/***/ "./node_modules/react-flow-renderer/dist/esm/index2.js":
/*!*************************************************************!*\
  !*** ./node_modules/react-flow-renderer/dist/esm/index2.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ index; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var classcat__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classcat */ \"./node_modules/classcat/index.js\");\n/* harmony import */ var zustand_shallow__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! zustand/shallow */ \"./node_modules/react-flow-renderer/node_modules/zustand/esm/shallow.js\");\n/* harmony import */ var _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./index-a12c80bd.js */ \"./node_modules/react-flow-renderer/dist/esm/index-a12c80bd.js\");\n/* harmony import */ var d3_zoom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! d3-zoom */ \"./node_modules/d3-zoom/src/index.js\");\n\n\n\n\n\n\n\n\nvar MiniMapNode = function MiniMapNode(_ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      width = _ref.width,\n      height = _ref.height,\n      style = _ref.style,\n      color = _ref.color,\n      strokeColor = _ref.strokeColor,\n      strokeWidth = _ref.strokeWidth,\n      className = _ref.className,\n      borderRadius = _ref.borderRadius,\n      shapeRendering = _ref.shapeRendering;\n\n  var _ref2 = style || {},\n      background = _ref2.background,\n      backgroundColor = _ref2.backgroundColor;\n\n  var fill = color || background || backgroundColor;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"rect\", {\n    className: (0,classcat__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(['react-flow__minimap-node', className]),\n    x: x,\n    y: y,\n    rx: borderRadius,\n    ry: borderRadius,\n    width: width,\n    height: height,\n    fill: fill,\n    stroke: strokeColor,\n    strokeWidth: strokeWidth,\n    shapeRendering: shapeRendering\n  });\n};\n\nMiniMapNode.displayName = 'MiniMapNode';\nvar MiniMapNode$1 = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(MiniMapNode);\n\nvar defaultWidth = 200;\nvar defaultHeight = 150;\n\nvar selector = function selector(s) {\n  return {\n    viewBBox: {\n      x: -s.transform[0] / s.transform[2],\n      y: -s.transform[1] / s.transform[2],\n      width: s.width / s.transform[2],\n      height: s.height / s.transform[2]\n    },\n    nodes: Array.from(s.nodeInternals.values())\n  };\n};\n\nvar getAttrFunction = function getAttrFunction(func) {\n  return func instanceof Function ? func : function () {\n    return func;\n  };\n};\n\nvar MiniMap = function MiniMap(_ref) {\n  var _style$width, _style$height;\n\n  var style = _ref.style,\n      className = _ref.className,\n      _ref$nodeStrokeColor = _ref.nodeStrokeColor,\n      nodeStrokeColor = _ref$nodeStrokeColor === void 0 ? '#555' : _ref$nodeStrokeColor,\n      _ref$nodeColor = _ref.nodeColor,\n      nodeColor = _ref$nodeColor === void 0 ? '#fff' : _ref$nodeColor,\n      _ref$nodeClassName = _ref.nodeClassName,\n      nodeClassName = _ref$nodeClassName === void 0 ? '' : _ref$nodeClassName,\n      _ref$nodeBorderRadius = _ref.nodeBorderRadius,\n      nodeBorderRadius = _ref$nodeBorderRadius === void 0 ? 5 : _ref$nodeBorderRadius,\n      _ref$nodeStrokeWidth = _ref.nodeStrokeWidth,\n      nodeStrokeWidth = _ref$nodeStrokeWidth === void 0 ? 2 : _ref$nodeStrokeWidth,\n      _ref$maskColor = _ref.maskColor,\n      maskColor = _ref$maskColor === void 0 ? 'rgb(240, 242, 243, 0.7)' : _ref$maskColor;\n\n  var _useStore = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_3__.b)(selector, zustand_shallow__WEBPACK_IMPORTED_MODULE_4__[\"default\"]),\n      viewBBox = _useStore.viewBBox,\n      nodes = _useStore.nodes;\n\n  var elementWidth = (_style$width = style === null || style === void 0 ? void 0 : style.width) !== null && _style$width !== void 0 ? _style$width : defaultWidth;\n  var elementHeight = (_style$height = style === null || style === void 0 ? void 0 : style.height) !== null && _style$height !== void 0 ? _style$height : defaultHeight;\n  var nodeColorFunc = getAttrFunction(nodeColor);\n  var nodeStrokeColorFunc = getAttrFunction(nodeStrokeColor);\n  var nodeClassNameFunc = getAttrFunction(nodeClassName);\n  var boundingRect = nodes.length > 0 ? (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_3__.I)((0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_3__.o)(nodes), viewBBox) : viewBBox;\n  var scaledWidth = boundingRect.width / elementWidth;\n  var scaledHeight = boundingRect.height / elementHeight;\n  var viewScale = Math.max(scaledWidth, scaledHeight);\n  var viewWidth = viewScale * elementWidth;\n  var viewHeight = viewScale * elementHeight;\n  var offset = 5 * viewScale;\n  var x = boundingRect.x - (viewWidth - boundingRect.width) / 2 - offset;\n  var y = boundingRect.y - (viewHeight - boundingRect.height) / 2 - offset;\n  var width = viewWidth + offset * 2;\n  var height = viewHeight + offset * 2;\n  var shapeRendering = typeof window === 'undefined' || !!window.chrome ? 'crispEdges' : 'geometricPrecision';\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"svg\", {\n    width: elementWidth,\n    height: elementHeight,\n    viewBox: \"\".concat(x, \" \").concat(y, \" \").concat(width, \" \").concat(height),\n    style: style,\n    className: (0,classcat__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(['react-flow__minimap', className])\n  }, nodes.filter(function (node) {\n    return !node.hidden && node.width && node.height;\n  }).map(function (node) {\n    var _node$positionAbsolut, _node$positionAbsolut2, _node$positionAbsolut3, _node$positionAbsolut4;\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(MiniMapNode$1, {\n      key: node.id,\n      x: (_node$positionAbsolut = (_node$positionAbsolut2 = node.positionAbsolute) === null || _node$positionAbsolut2 === void 0 ? void 0 : _node$positionAbsolut2.x) !== null && _node$positionAbsolut !== void 0 ? _node$positionAbsolut : 0,\n      y: (_node$positionAbsolut3 = (_node$positionAbsolut4 = node.positionAbsolute) === null || _node$positionAbsolut4 === void 0 ? void 0 : _node$positionAbsolut4.y) !== null && _node$positionAbsolut3 !== void 0 ? _node$positionAbsolut3 : 0,\n      width: node.width,\n      height: node.height,\n      style: node.style,\n      className: nodeClassNameFunc(node),\n      color: nodeColorFunc(node),\n      borderRadius: nodeBorderRadius,\n      strokeColor: nodeStrokeColorFunc(node),\n      strokeWidth: nodeStrokeWidth,\n      shapeRendering: shapeRendering\n    });\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"path\", {\n    className: \"react-flow__minimap-mask\",\n    d: \"M\".concat(x - offset, \",\").concat(y - offset, \"h\").concat(width + offset * 2, \"v\").concat(height + offset * 2, \"h\").concat(-width - offset * 2, \"z\\n        M\").concat(viewBBox.x, \",\").concat(viewBBox.y, \"h\").concat(viewBBox.width, \"v\").concat(viewBBox.height, \"h\").concat(-viewBBox.width, \"z\"),\n    fill: maskColor,\n    fillRule: \"evenodd\"\n  }));\n};\n\nMiniMap.displayName = 'MiniMap';\nvar index = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(MiniMap);\n\n\n//# sourceMappingURL=index2.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtZmxvdy1yZW5kZXJlci9kaXN0L2VzbS9pbmRleDIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFvQztBQUNWO0FBQ1k7QUFDMEQ7QUFDL0U7QUFDUTtBQUNSOztBQUVqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEseUJBQXlCO0FBQ3pCO0FBQ0E7O0FBRUE7QUFDQSxzQkFBc0IsMERBQW1CO0FBQ3pDLGVBQWUsb0RBQUU7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQSxpQ0FBaUMsMkNBQUk7O0FBRXJDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGtCQUFrQixxREFBUSxXQUFXLHVEQUFPO0FBQzVDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxxREFBZ0IsQ0FBQyxxREFBYztBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDBEQUFtQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsb0RBQUU7QUFDakIsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIOztBQUVBLHdCQUF3QiwwREFBbUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUcsZ0JBQWdCLDBEQUFtQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBLHlCQUF5QiwyQ0FBSTs7QUFFRDtBQUM1QiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcmVhY3QtZmxvdy1yZW5kZXJlci9kaXN0L2VzbS9pbmRleDIuanM/MjJkYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgbWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjYyBmcm9tICdjbGFzc2NhdCc7XG5pbXBvcnQgc2hhbGxvdyBmcm9tICd6dXN0YW5kL3NoYWxsb3cnO1xuaW1wb3J0IHsgYiBhcyB1c2VTdG9yZSwgSSBhcyBnZXRCb3VuZHNvZlJlY3RzLCBvIGFzIGdldFJlY3RPZk5vZGVzIH0gZnJvbSAnLi9pbmRleC1hMTJjODBiZC5qcyc7XG5pbXBvcnQgJ3p1c3RhbmQnO1xuaW1wb3J0ICd6dXN0YW5kL2NvbnRleHQnO1xuaW1wb3J0ICdkMy16b29tJztcblxudmFyIE1pbmlNYXBOb2RlID0gZnVuY3Rpb24gTWluaU1hcE5vZGUoX3JlZikge1xuICB2YXIgeCA9IF9yZWYueCxcbiAgICAgIHkgPSBfcmVmLnksXG4gICAgICB3aWR0aCA9IF9yZWYud2lkdGgsXG4gICAgICBoZWlnaHQgPSBfcmVmLmhlaWdodCxcbiAgICAgIHN0eWxlID0gX3JlZi5zdHlsZSxcbiAgICAgIGNvbG9yID0gX3JlZi5jb2xvcixcbiAgICAgIHN0cm9rZUNvbG9yID0gX3JlZi5zdHJva2VDb2xvcixcbiAgICAgIHN0cm9rZVdpZHRoID0gX3JlZi5zdHJva2VXaWR0aCxcbiAgICAgIGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lLFxuICAgICAgYm9yZGVyUmFkaXVzID0gX3JlZi5ib3JkZXJSYWRpdXMsXG4gICAgICBzaGFwZVJlbmRlcmluZyA9IF9yZWYuc2hhcGVSZW5kZXJpbmc7XG5cbiAgdmFyIF9yZWYyID0gc3R5bGUgfHwge30sXG4gICAgICBiYWNrZ3JvdW5kID0gX3JlZjIuYmFja2dyb3VuZCxcbiAgICAgIGJhY2tncm91bmRDb2xvciA9IF9yZWYyLmJhY2tncm91bmRDb2xvcjtcblxuICB2YXIgZmlsbCA9IGNvbG9yIHx8IGJhY2tncm91bmQgfHwgYmFja2dyb3VuZENvbG9yO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJyZWN0XCIsIHtcbiAgICBjbGFzc05hbWU6IGNjKFsncmVhY3QtZmxvd19fbWluaW1hcC1ub2RlJywgY2xhc3NOYW1lXSksXG4gICAgeDogeCxcbiAgICB5OiB5LFxuICAgIHJ4OiBib3JkZXJSYWRpdXMsXG4gICAgcnk6IGJvcmRlclJhZGl1cyxcbiAgICB3aWR0aDogd2lkdGgsXG4gICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgZmlsbDogZmlsbCxcbiAgICBzdHJva2U6IHN0cm9rZUNvbG9yLFxuICAgIHN0cm9rZVdpZHRoOiBzdHJva2VXaWR0aCxcbiAgICBzaGFwZVJlbmRlcmluZzogc2hhcGVSZW5kZXJpbmdcbiAgfSk7XG59O1xuXG5NaW5pTWFwTm9kZS5kaXNwbGF5TmFtZSA9ICdNaW5pTWFwTm9kZSc7XG52YXIgTWluaU1hcE5vZGUkMSA9IC8qI19fUFVSRV9fKi9tZW1vKE1pbmlNYXBOb2RlKTtcblxudmFyIGRlZmF1bHRXaWR0aCA9IDIwMDtcbnZhciBkZWZhdWx0SGVpZ2h0ID0gMTUwO1xuXG52YXIgc2VsZWN0b3IgPSBmdW5jdGlvbiBzZWxlY3RvcihzKSB7XG4gIHJldHVybiB7XG4gICAgdmlld0JCb3g6IHtcbiAgICAgIHg6IC1zLnRyYW5zZm9ybVswXSAvIHMudHJhbnNmb3JtWzJdLFxuICAgICAgeTogLXMudHJhbnNmb3JtWzFdIC8gcy50cmFuc2Zvcm1bMl0sXG4gICAgICB3aWR0aDogcy53aWR0aCAvIHMudHJhbnNmb3JtWzJdLFxuICAgICAgaGVpZ2h0OiBzLmhlaWdodCAvIHMudHJhbnNmb3JtWzJdXG4gICAgfSxcbiAgICBub2RlczogQXJyYXkuZnJvbShzLm5vZGVJbnRlcm5hbHMudmFsdWVzKCkpXG4gIH07XG59O1xuXG52YXIgZ2V0QXR0ckZ1bmN0aW9uID0gZnVuY3Rpb24gZ2V0QXR0ckZ1bmN0aW9uKGZ1bmMpIHtcbiAgcmV0dXJuIGZ1bmMgaW5zdGFuY2VvZiBGdW5jdGlvbiA/IGZ1bmMgOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZ1bmM7XG4gIH07XG59O1xuXG52YXIgTWluaU1hcCA9IGZ1bmN0aW9uIE1pbmlNYXAoX3JlZikge1xuICB2YXIgX3N0eWxlJHdpZHRoLCBfc3R5bGUkaGVpZ2h0O1xuXG4gIHZhciBzdHlsZSA9IF9yZWYuc3R5bGUsXG4gICAgICBjbGFzc05hbWUgPSBfcmVmLmNsYXNzTmFtZSxcbiAgICAgIF9yZWYkbm9kZVN0cm9rZUNvbG9yID0gX3JlZi5ub2RlU3Ryb2tlQ29sb3IsXG4gICAgICBub2RlU3Ryb2tlQ29sb3IgPSBfcmVmJG5vZGVTdHJva2VDb2xvciA9PT0gdm9pZCAwID8gJyM1NTUnIDogX3JlZiRub2RlU3Ryb2tlQ29sb3IsXG4gICAgICBfcmVmJG5vZGVDb2xvciA9IF9yZWYubm9kZUNvbG9yLFxuICAgICAgbm9kZUNvbG9yID0gX3JlZiRub2RlQ29sb3IgPT09IHZvaWQgMCA/ICcjZmZmJyA6IF9yZWYkbm9kZUNvbG9yLFxuICAgICAgX3JlZiRub2RlQ2xhc3NOYW1lID0gX3JlZi5ub2RlQ2xhc3NOYW1lLFxuICAgICAgbm9kZUNsYXNzTmFtZSA9IF9yZWYkbm9kZUNsYXNzTmFtZSA9PT0gdm9pZCAwID8gJycgOiBfcmVmJG5vZGVDbGFzc05hbWUsXG4gICAgICBfcmVmJG5vZGVCb3JkZXJSYWRpdXMgPSBfcmVmLm5vZGVCb3JkZXJSYWRpdXMsXG4gICAgICBub2RlQm9yZGVyUmFkaXVzID0gX3JlZiRub2RlQm9yZGVyUmFkaXVzID09PSB2b2lkIDAgPyA1IDogX3JlZiRub2RlQm9yZGVyUmFkaXVzLFxuICAgICAgX3JlZiRub2RlU3Ryb2tlV2lkdGggPSBfcmVmLm5vZGVTdHJva2VXaWR0aCxcbiAgICAgIG5vZGVTdHJva2VXaWR0aCA9IF9yZWYkbm9kZVN0cm9rZVdpZHRoID09PSB2b2lkIDAgPyAyIDogX3JlZiRub2RlU3Ryb2tlV2lkdGgsXG4gICAgICBfcmVmJG1hc2tDb2xvciA9IF9yZWYubWFza0NvbG9yLFxuICAgICAgbWFza0NvbG9yID0gX3JlZiRtYXNrQ29sb3IgPT09IHZvaWQgMCA/ICdyZ2IoMjQwLCAyNDIsIDI0MywgMC43KScgOiBfcmVmJG1hc2tDb2xvcjtcblxuICB2YXIgX3VzZVN0b3JlID0gdXNlU3RvcmUoc2VsZWN0b3IsIHNoYWxsb3cpLFxuICAgICAgdmlld0JCb3ggPSBfdXNlU3RvcmUudmlld0JCb3gsXG4gICAgICBub2RlcyA9IF91c2VTdG9yZS5ub2RlcztcblxuICB2YXIgZWxlbWVudFdpZHRoID0gKF9zdHlsZSR3aWR0aCA9IHN0eWxlID09PSBudWxsIHx8IHN0eWxlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzdHlsZS53aWR0aCkgIT09IG51bGwgJiYgX3N0eWxlJHdpZHRoICE9PSB2b2lkIDAgPyBfc3R5bGUkd2lkdGggOiBkZWZhdWx0V2lkdGg7XG4gIHZhciBlbGVtZW50SGVpZ2h0ID0gKF9zdHlsZSRoZWlnaHQgPSBzdHlsZSA9PT0gbnVsbCB8fCBzdHlsZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3R5bGUuaGVpZ2h0KSAhPT0gbnVsbCAmJiBfc3R5bGUkaGVpZ2h0ICE9PSB2b2lkIDAgPyBfc3R5bGUkaGVpZ2h0IDogZGVmYXVsdEhlaWdodDtcbiAgdmFyIG5vZGVDb2xvckZ1bmMgPSBnZXRBdHRyRnVuY3Rpb24obm9kZUNvbG9yKTtcbiAgdmFyIG5vZGVTdHJva2VDb2xvckZ1bmMgPSBnZXRBdHRyRnVuY3Rpb24obm9kZVN0cm9rZUNvbG9yKTtcbiAgdmFyIG5vZGVDbGFzc05hbWVGdW5jID0gZ2V0QXR0ckZ1bmN0aW9uKG5vZGVDbGFzc05hbWUpO1xuICB2YXIgYm91bmRpbmdSZWN0ID0gbm9kZXMubGVuZ3RoID4gMCA/IGdldEJvdW5kc29mUmVjdHMoZ2V0UmVjdE9mTm9kZXMobm9kZXMpLCB2aWV3QkJveCkgOiB2aWV3QkJveDtcbiAgdmFyIHNjYWxlZFdpZHRoID0gYm91bmRpbmdSZWN0LndpZHRoIC8gZWxlbWVudFdpZHRoO1xuICB2YXIgc2NhbGVkSGVpZ2h0ID0gYm91bmRpbmdSZWN0LmhlaWdodCAvIGVsZW1lbnRIZWlnaHQ7XG4gIHZhciB2aWV3U2NhbGUgPSBNYXRoLm1heChzY2FsZWRXaWR0aCwgc2NhbGVkSGVpZ2h0KTtcbiAgdmFyIHZpZXdXaWR0aCA9IHZpZXdTY2FsZSAqIGVsZW1lbnRXaWR0aDtcbiAgdmFyIHZpZXdIZWlnaHQgPSB2aWV3U2NhbGUgKiBlbGVtZW50SGVpZ2h0O1xuICB2YXIgb2Zmc2V0ID0gNSAqIHZpZXdTY2FsZTtcbiAgdmFyIHggPSBib3VuZGluZ1JlY3QueCAtICh2aWV3V2lkdGggLSBib3VuZGluZ1JlY3Qud2lkdGgpIC8gMiAtIG9mZnNldDtcbiAgdmFyIHkgPSBib3VuZGluZ1JlY3QueSAtICh2aWV3SGVpZ2h0IC0gYm91bmRpbmdSZWN0LmhlaWdodCkgLyAyIC0gb2Zmc2V0O1xuICB2YXIgd2lkdGggPSB2aWV3V2lkdGggKyBvZmZzZXQgKiAyO1xuICB2YXIgaGVpZ2h0ID0gdmlld0hlaWdodCArIG9mZnNldCAqIDI7XG4gIHZhciBzaGFwZVJlbmRlcmluZyA9IHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnIHx8ICEhd2luZG93LmNocm9tZSA/ICdjcmlzcEVkZ2VzJyA6ICdnZW9tZXRyaWNQcmVjaXNpb24nO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwge1xuICAgIHdpZHRoOiBlbGVtZW50V2lkdGgsXG4gICAgaGVpZ2h0OiBlbGVtZW50SGVpZ2h0LFxuICAgIHZpZXdCb3g6IFwiXCIuY29uY2F0KHgsIFwiIFwiKS5jb25jYXQoeSwgXCIgXCIpLmNvbmNhdCh3aWR0aCwgXCIgXCIpLmNvbmNhdChoZWlnaHQpLFxuICAgIHN0eWxlOiBzdHlsZSxcbiAgICBjbGFzc05hbWU6IGNjKFsncmVhY3QtZmxvd19fbWluaW1hcCcsIGNsYXNzTmFtZV0pXG4gIH0sIG5vZGVzLmZpbHRlcihmdW5jdGlvbiAobm9kZSkge1xuICAgIHJldHVybiAhbm9kZS5oaWRkZW4gJiYgbm9kZS53aWR0aCAmJiBub2RlLmhlaWdodDtcbiAgfSkubWFwKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgdmFyIF9ub2RlJHBvc2l0aW9uQWJzb2x1dCwgX25vZGUkcG9zaXRpb25BYnNvbHV0MiwgX25vZGUkcG9zaXRpb25BYnNvbHV0MywgX25vZGUkcG9zaXRpb25BYnNvbHV0NDtcblxuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChNaW5pTWFwTm9kZSQxLCB7XG4gICAgICBrZXk6IG5vZGUuaWQsXG4gICAgICB4OiAoX25vZGUkcG9zaXRpb25BYnNvbHV0ID0gKF9ub2RlJHBvc2l0aW9uQWJzb2x1dDIgPSBub2RlLnBvc2l0aW9uQWJzb2x1dGUpID09PSBudWxsIHx8IF9ub2RlJHBvc2l0aW9uQWJzb2x1dDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9ub2RlJHBvc2l0aW9uQWJzb2x1dDIueCkgIT09IG51bGwgJiYgX25vZGUkcG9zaXRpb25BYnNvbHV0ICE9PSB2b2lkIDAgPyBfbm9kZSRwb3NpdGlvbkFic29sdXQgOiAwLFxuICAgICAgeTogKF9ub2RlJHBvc2l0aW9uQWJzb2x1dDMgPSAoX25vZGUkcG9zaXRpb25BYnNvbHV0NCA9IG5vZGUucG9zaXRpb25BYnNvbHV0ZSkgPT09IG51bGwgfHwgX25vZGUkcG9zaXRpb25BYnNvbHV0NCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX25vZGUkcG9zaXRpb25BYnNvbHV0NC55KSAhPT0gbnVsbCAmJiBfbm9kZSRwb3NpdGlvbkFic29sdXQzICE9PSB2b2lkIDAgPyBfbm9kZSRwb3NpdGlvbkFic29sdXQzIDogMCxcbiAgICAgIHdpZHRoOiBub2RlLndpZHRoLFxuICAgICAgaGVpZ2h0OiBub2RlLmhlaWdodCxcbiAgICAgIHN0eWxlOiBub2RlLnN0eWxlLFxuICAgICAgY2xhc3NOYW1lOiBub2RlQ2xhc3NOYW1lRnVuYyhub2RlKSxcbiAgICAgIGNvbG9yOiBub2RlQ29sb3JGdW5jKG5vZGUpLFxuICAgICAgYm9yZGVyUmFkaXVzOiBub2RlQm9yZGVyUmFkaXVzLFxuICAgICAgc3Ryb2tlQ29sb3I6IG5vZGVTdHJva2VDb2xvckZ1bmMobm9kZSksXG4gICAgICBzdHJva2VXaWR0aDogbm9kZVN0cm9rZVdpZHRoLFxuICAgICAgc2hhcGVSZW5kZXJpbmc6IHNoYXBlUmVuZGVyaW5nXG4gICAgfSk7XG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGNsYXNzTmFtZTogXCJyZWFjdC1mbG93X19taW5pbWFwLW1hc2tcIixcbiAgICBkOiBcIk1cIi5jb25jYXQoeCAtIG9mZnNldCwgXCIsXCIpLmNvbmNhdCh5IC0gb2Zmc2V0LCBcImhcIikuY29uY2F0KHdpZHRoICsgb2Zmc2V0ICogMiwgXCJ2XCIpLmNvbmNhdChoZWlnaHQgKyBvZmZzZXQgKiAyLCBcImhcIikuY29uY2F0KC13aWR0aCAtIG9mZnNldCAqIDIsIFwielxcbiAgICAgICAgTVwiKS5jb25jYXQodmlld0JCb3gueCwgXCIsXCIpLmNvbmNhdCh2aWV3QkJveC55LCBcImhcIikuY29uY2F0KHZpZXdCQm94LndpZHRoLCBcInZcIikuY29uY2F0KHZpZXdCQm94LmhlaWdodCwgXCJoXCIpLmNvbmNhdCgtdmlld0JCb3gud2lkdGgsIFwielwiKSxcbiAgICBmaWxsOiBtYXNrQ29sb3IsXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiXG4gIH0pKTtcbn07XG5cbk1pbmlNYXAuZGlzcGxheU5hbWUgPSAnTWluaU1hcCc7XG52YXIgaW5kZXggPSAvKiNfX1BVUkVfXyovbWVtbyhNaW5pTWFwKTtcblxuZXhwb3J0IHsgaW5kZXggYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgyLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/react-flow-renderer/dist/esm/index2.js\n"));

/***/ }),

/***/ "./node_modules/react-flow-renderer/dist/esm/index3.js":
/*!*************************************************************!*\
  !*** ./node_modules/react-flow-renderer/dist/esm/index3.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ index; }\n/* harmony export */ });\n/* harmony import */ var _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./index-a12c80bd.js */ \"./node_modules/react-flow-renderer/dist/esm/index-a12c80bd.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var classcat__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classcat */ \"./node_modules/classcat/index.js\");\n/* harmony import */ var d3_zoom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! d3-zoom */ \"./node_modules/d3-zoom/src/index.js\");\n\n\n\n\n\n\n\nvar createGridLinesPath = function createGridLinesPath(size, strokeWidth, stroke) {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"path\", {\n    stroke: stroke,\n    strokeWidth: strokeWidth,\n    d: \"M\".concat(size / 2, \" 0 V\").concat(size, \" M0 \").concat(size / 2, \" H\").concat(size)\n  });\n};\nvar createGridDotsPath = function createGridDotsPath(size, fill) {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"circle\", {\n    cx: size,\n    cy: size,\n    r: size,\n    fill: fill\n  });\n};\n\nvar _defaultColors;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_3__.a)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar defaultColors = (_defaultColors = {}, (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_3__.a)(_defaultColors, _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_3__.H.Dots, '#81818a'), (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_3__.a)(_defaultColors, _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_3__.H.Lines, '#eee'), _defaultColors);\n\nvar transformSelector = function transformSelector(s) {\n  return s.transform;\n};\n\nvar Background = function Background(_ref) {\n  var _ref$variant = _ref.variant,\n      variant = _ref$variant === void 0 ? _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_3__.H.Dots : _ref$variant,\n      _ref$gap = _ref.gap,\n      gap = _ref$gap === void 0 ? 15 : _ref$gap,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 0.4 : _ref$size,\n      color = _ref.color,\n      style = _ref.style,\n      className = _ref.className;\n  var ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),\n      _useState2 = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_3__._)(_useState, 2),\n      patternId = _useState2[0],\n      setPatternId = _useState2[1];\n\n  var _useStore = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_3__.b)(transformSelector),\n      _useStore2 = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_3__._)(_useStore, 3),\n      tX = _useStore2[0],\n      tY = _useStore2[1],\n      tScale = _useStore2[2];\n\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    // when there are multiple flows on a page we need to make sure that every background gets its own pattern.\n    var bgs = document.querySelectorAll('.react-flow__background');\n    var index = Array.from(bgs).findIndex(function (bg) {\n      return bg === ref.current;\n    });\n    setPatternId(\"pattern-\".concat(index));\n  }, []);\n  var scaledGap = gap * tScale || 1;\n  var xOffset = tX % scaledGap;\n  var yOffset = tY % scaledGap;\n  var isLines = variant === _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_3__.H.Lines;\n  var bgColor = color ? color : defaultColors[variant];\n  var path = isLines ? createGridLinesPath(scaledGap, size, bgColor) : createGridDotsPath(size * tScale, bgColor);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"svg\", {\n    className: (0,classcat__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(['react-flow__background', 'react-flow__container', className]),\n    style: _objectSpread(_objectSpread({}, style), {}, {\n      width: '100%',\n      height: '100%'\n    }),\n    ref: ref\n  }, patternId && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"pattern\", {\n    id: patternId,\n    x: xOffset,\n    y: yOffset,\n    width: scaledGap,\n    height: scaledGap,\n    patternUnits: \"userSpaceOnUse\"\n  }, path), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"rect\", {\n    x: \"0\",\n    y: \"0\",\n    width: \"100%\",\n    height: \"100%\",\n    fill: \"url(#\".concat(patternId, \")\")\n  })));\n};\n\nBackground.displayName = 'Background';\nvar index = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(Background);\n\n\n//# sourceMappingURL=index3.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtZmxvdy1yZW5kZXJlci9kaXN0L2VzbS9pbmRleDMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXVIO0FBQ3REO0FBQ3ZDO0FBQ1Q7QUFDUTtBQUNSOztBQUVqQjtBQUNBLHNCQUFzQiwwREFBbUI7QUFDekM7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxzQkFBc0IsMERBQW1CO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBOztBQUVBLDJDQUEyQyxnQ0FBZ0Msb0NBQW9DLG9EQUFvRCw2REFBNkQsaUVBQWlFLHNDQUFzQzs7QUFFdlUsaUNBQWlDLGdCQUFnQixzQkFBc0IsT0FBTyx1REFBdUQsNkRBQTZELHFEQUFlLDZCQUE2QixvS0FBb0ssbUZBQW1GLEtBQUs7QUFDMWUsd0NBQXdDLEVBQUUscURBQWUsaUJBQWlCLGlEQUFpQixtQkFBbUIscURBQWUsaUJBQWlCLGlEQUFpQjs7QUFFL0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwwQ0FBMEMsaURBQWlCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw2Q0FBTTs7QUFFbEIsa0JBQWtCLCtDQUFRO0FBQzFCLG1CQUFtQixxREFBYztBQUNqQztBQUNBOztBQUVBLGtCQUFrQixxREFBUTtBQUMxQixtQkFBbUIscURBQWM7QUFDakM7QUFDQTtBQUNBOztBQUVBLEVBQUUsZ0RBQVM7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsaURBQWlCO0FBQzdDO0FBQ0E7QUFDQSxzQkFBc0IsMERBQW1CO0FBQ3pDLGVBQWUsb0RBQUU7QUFDakIseUNBQXlDLFlBQVk7QUFDckQ7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUcsNEJBQTRCLDBEQUFtQixDQUFDLHVEQUFjLHFCQUFxQiwwREFBbUI7QUFDekc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxzQkFBc0IsMERBQW1CO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQSx5QkFBeUIsMkNBQUk7O0FBRUQ7QUFDNUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWZsb3ctcmVuZGVyZXIvZGlzdC9lc20vaW5kZXgzLmpzPzM4NzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYSBhcyBfZGVmaW5lUHJvcGVydHksIEggYXMgQmFja2dyb3VuZFZhcmlhbnQsIF8gYXMgX3NsaWNlZFRvQXJyYXksIGIgYXMgdXNlU3RvcmUgfSBmcm9tICcuL2luZGV4LWExMmM4MGJkLmpzJztcbmltcG9ydCBSZWFjdCwgeyBtZW1vLCB1c2VSZWYsIHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY2MgZnJvbSAnY2xhc3NjYXQnO1xuaW1wb3J0ICd6dXN0YW5kJztcbmltcG9ydCAnenVzdGFuZC9jb250ZXh0JztcbmltcG9ydCAnZDMtem9vbSc7XG5cbnZhciBjcmVhdGVHcmlkTGluZXNQYXRoID0gZnVuY3Rpb24gY3JlYXRlR3JpZExpbmVzUGF0aChzaXplLCBzdHJva2VXaWR0aCwgc3Ryb2tlKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIHN0cm9rZTogc3Ryb2tlLFxuICAgIHN0cm9rZVdpZHRoOiBzdHJva2VXaWR0aCxcbiAgICBkOiBcIk1cIi5jb25jYXQoc2l6ZSAvIDIsIFwiIDAgVlwiKS5jb25jYXQoc2l6ZSwgXCIgTTAgXCIpLmNvbmNhdChzaXplIC8gMiwgXCIgSFwiKS5jb25jYXQoc2l6ZSlcbiAgfSk7XG59O1xudmFyIGNyZWF0ZUdyaWREb3RzUGF0aCA9IGZ1bmN0aW9uIGNyZWF0ZUdyaWREb3RzUGF0aChzaXplLCBmaWxsKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImNpcmNsZVwiLCB7XG4gICAgY3g6IHNpemUsXG4gICAgY3k6IHNpemUsXG4gICAgcjogc2l6ZSxcbiAgICBmaWxsOiBmaWxsXG4gIH0pO1xufTtcblxudmFyIF9kZWZhdWx0Q29sb3JzO1xuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgZW51bWVyYWJsZU9ubHkgJiYgKHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KSksIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gbnVsbCAhPSBhcmd1bWVudHNbaV0gPyBhcmd1bWVudHNbaV0gOiB7fTsgaSAlIDIgPyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKSA6IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfVxudmFyIGRlZmF1bHRDb2xvcnMgPSAoX2RlZmF1bHRDb2xvcnMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9kZWZhdWx0Q29sb3JzLCBCYWNrZ3JvdW5kVmFyaWFudC5Eb3RzLCAnIzgxODE4YScpLCBfZGVmaW5lUHJvcGVydHkoX2RlZmF1bHRDb2xvcnMsIEJhY2tncm91bmRWYXJpYW50LkxpbmVzLCAnI2VlZScpLCBfZGVmYXVsdENvbG9ycyk7XG5cbnZhciB0cmFuc2Zvcm1TZWxlY3RvciA9IGZ1bmN0aW9uIHRyYW5zZm9ybVNlbGVjdG9yKHMpIHtcbiAgcmV0dXJuIHMudHJhbnNmb3JtO1xufTtcblxudmFyIEJhY2tncm91bmQgPSBmdW5jdGlvbiBCYWNrZ3JvdW5kKF9yZWYpIHtcbiAgdmFyIF9yZWYkdmFyaWFudCA9IF9yZWYudmFyaWFudCxcbiAgICAgIHZhcmlhbnQgPSBfcmVmJHZhcmlhbnQgPT09IHZvaWQgMCA/IEJhY2tncm91bmRWYXJpYW50LkRvdHMgOiBfcmVmJHZhcmlhbnQsXG4gICAgICBfcmVmJGdhcCA9IF9yZWYuZ2FwLFxuICAgICAgZ2FwID0gX3JlZiRnYXAgPT09IHZvaWQgMCA/IDE1IDogX3JlZiRnYXAsXG4gICAgICBfcmVmJHNpemUgPSBfcmVmLnNpemUsXG4gICAgICBzaXplID0gX3JlZiRzaXplID09PSB2b2lkIDAgPyAwLjQgOiBfcmVmJHNpemUsXG4gICAgICBjb2xvciA9IF9yZWYuY29sb3IsXG4gICAgICBzdHlsZSA9IF9yZWYuc3R5bGUsXG4gICAgICBjbGFzc05hbWUgPSBfcmVmLmNsYXNzTmFtZTtcbiAgdmFyIHJlZiA9IHVzZVJlZihudWxsKTtcblxuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUobnVsbCksXG4gICAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSxcbiAgICAgIHBhdHRlcm5JZCA9IF91c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRQYXR0ZXJuSWQgPSBfdXNlU3RhdGUyWzFdO1xuXG4gIHZhciBfdXNlU3RvcmUgPSB1c2VTdG9yZSh0cmFuc2Zvcm1TZWxlY3RvciksXG4gICAgICBfdXNlU3RvcmUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0b3JlLCAzKSxcbiAgICAgIHRYID0gX3VzZVN0b3JlMlswXSxcbiAgICAgIHRZID0gX3VzZVN0b3JlMlsxXSxcbiAgICAgIHRTY2FsZSA9IF91c2VTdG9yZTJbMl07XG5cbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAvLyB3aGVuIHRoZXJlIGFyZSBtdWx0aXBsZSBmbG93cyBvbiBhIHBhZ2Ugd2UgbmVlZCB0byBtYWtlIHN1cmUgdGhhdCBldmVyeSBiYWNrZ3JvdW5kIGdldHMgaXRzIG93biBwYXR0ZXJuLlxuICAgIHZhciBiZ3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucmVhY3QtZmxvd19fYmFja2dyb3VuZCcpO1xuICAgIHZhciBpbmRleCA9IEFycmF5LmZyb20oYmdzKS5maW5kSW5kZXgoZnVuY3Rpb24gKGJnKSB7XG4gICAgICByZXR1cm4gYmcgPT09IHJlZi5jdXJyZW50O1xuICAgIH0pO1xuICAgIHNldFBhdHRlcm5JZChcInBhdHRlcm4tXCIuY29uY2F0KGluZGV4KSk7XG4gIH0sIFtdKTtcbiAgdmFyIHNjYWxlZEdhcCA9IGdhcCAqIHRTY2FsZSB8fCAxO1xuICB2YXIgeE9mZnNldCA9IHRYICUgc2NhbGVkR2FwO1xuICB2YXIgeU9mZnNldCA9IHRZICUgc2NhbGVkR2FwO1xuICB2YXIgaXNMaW5lcyA9IHZhcmlhbnQgPT09IEJhY2tncm91bmRWYXJpYW50LkxpbmVzO1xuICB2YXIgYmdDb2xvciA9IGNvbG9yID8gY29sb3IgOiBkZWZhdWx0Q29sb3JzW3ZhcmlhbnRdO1xuICB2YXIgcGF0aCA9IGlzTGluZXMgPyBjcmVhdGVHcmlkTGluZXNQYXRoKHNjYWxlZEdhcCwgc2l6ZSwgYmdDb2xvcikgOiBjcmVhdGVHcmlkRG90c1BhdGgoc2l6ZSAqIHRTY2FsZSwgYmdDb2xvcik7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInN2Z1wiLCB7XG4gICAgY2xhc3NOYW1lOiBjYyhbJ3JlYWN0LWZsb3dfX2JhY2tncm91bmQnLCAncmVhY3QtZmxvd19fY29udGFpbmVyJywgY2xhc3NOYW1lXSksXG4gICAgc3R5bGU6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgc3R5bGUpLCB7fSwge1xuICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgIGhlaWdodDogJzEwMCUnXG4gICAgfSksXG4gICAgcmVmOiByZWZcbiAgfSwgcGF0dGVybklkICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdHRlcm5cIiwge1xuICAgIGlkOiBwYXR0ZXJuSWQsXG4gICAgeDogeE9mZnNldCxcbiAgICB5OiB5T2Zmc2V0LFxuICAgIHdpZHRoOiBzY2FsZWRHYXAsXG4gICAgaGVpZ2h0OiBzY2FsZWRHYXAsXG4gICAgcGF0dGVyblVuaXRzOiBcInVzZXJTcGFjZU9uVXNlXCJcbiAgfSwgcGF0aCksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicmVjdFwiLCB7XG4gICAgeDogXCIwXCIsXG4gICAgeTogXCIwXCIsXG4gICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgZmlsbDogXCJ1cmwoI1wiLmNvbmNhdChwYXR0ZXJuSWQsIFwiKVwiKVxuICB9KSkpO1xufTtcblxuQmFja2dyb3VuZC5kaXNwbGF5TmFtZSA9ICdCYWNrZ3JvdW5kJztcbnZhciBpbmRleCA9IC8qI19fUFVSRV9fKi9tZW1vKEJhY2tncm91bmQpO1xuXG5leHBvcnQgeyBpbmRleCBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleDMuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/react-flow-renderer/dist/esm/index3.js\n"));

/***/ }),

/***/ "./node_modules/react-flow-renderer/dist/esm/useEdges.js":
/*!***************************************************************!*\
  !*** ./node_modules/react-flow-renderer/dist/esm/useEdges.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ useEdges; }\n/* harmony export */ });\n/* harmony import */ var _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index-a12c80bd.js */ \"./node_modules/react-flow-renderer/dist/esm/index-a12c80bd.js\");\n/* harmony import */ var d3_zoom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! d3-zoom */ \"./node_modules/d3-zoom/src/index.js\");\n\n\n\n\n\nvar edgesSelector = function edgesSelector(state) {\n  return state.edges;\n};\n\nfunction useEdges() {\n  var edges = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_1__.b)(edgesSelector);\n  return edges;\n}\n\n\n//# sourceMappingURL=useEdges.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtZmxvdy1yZW5kZXJlci9kaXN0L2VzbS91c2VFZGdlcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBb0Q7QUFDbkM7QUFDUTtBQUNSOztBQUVqQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxjQUFjLHFEQUFRO0FBQ3RCO0FBQ0E7O0FBRStCO0FBQy9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9yZWFjdC1mbG93LXJlbmRlcmVyL2Rpc3QvZXNtL3VzZUVkZ2VzLmpzPzhhZjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYiBhcyB1c2VTdG9yZSB9IGZyb20gJy4vaW5kZXgtYTEyYzgwYmQuanMnO1xuaW1wb3J0ICd6dXN0YW5kJztcbmltcG9ydCAnenVzdGFuZC9jb250ZXh0JztcbmltcG9ydCAnZDMtem9vbSc7XG5cbnZhciBlZGdlc1NlbGVjdG9yID0gZnVuY3Rpb24gZWRnZXNTZWxlY3RvcihzdGF0ZSkge1xuICByZXR1cm4gc3RhdGUuZWRnZXM7XG59O1xuXG5mdW5jdGlvbiB1c2VFZGdlcygpIHtcbiAgdmFyIGVkZ2VzID0gdXNlU3RvcmUoZWRnZXNTZWxlY3Rvcik7XG4gIHJldHVybiBlZGdlcztcbn1cblxuZXhwb3J0IHsgdXNlRWRnZXMgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXNlRWRnZXMuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/react-flow-renderer/dist/esm/useEdges.js\n"));

/***/ }),

/***/ "./node_modules/react-flow-renderer/dist/esm/useNodes.js":
/*!***************************************************************!*\
  !*** ./node_modules/react-flow-renderer/dist/esm/useNodes.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ useNodes; }\n/* harmony export */ });\n/* harmony import */ var _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index-a12c80bd.js */ \"./node_modules/react-flow-renderer/dist/esm/index-a12c80bd.js\");\n/* harmony import */ var d3_zoom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! d3-zoom */ \"./node_modules/d3-zoom/src/index.js\");\n\n\n\n\n\nvar nodesSelector = function nodesSelector(state) {\n  return Array.from(state.nodeInternals.values());\n};\n\nfunction useNodes() {\n  var nodes = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_1__.b)(nodesSelector);\n  return nodes;\n}\n\n\n//# sourceMappingURL=useNodes.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtZmxvdy1yZW5kZXJlci9kaXN0L2VzbS91c2VOb2Rlcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBb0Q7QUFDbkM7QUFDUTtBQUNSOztBQUVqQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxjQUFjLHFEQUFRO0FBQ3RCO0FBQ0E7O0FBRStCO0FBQy9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9yZWFjdC1mbG93LXJlbmRlcmVyL2Rpc3QvZXNtL3VzZU5vZGVzLmpzPzMzNTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYiBhcyB1c2VTdG9yZSB9IGZyb20gJy4vaW5kZXgtYTEyYzgwYmQuanMnO1xuaW1wb3J0ICd6dXN0YW5kJztcbmltcG9ydCAnenVzdGFuZC9jb250ZXh0JztcbmltcG9ydCAnZDMtem9vbSc7XG5cbnZhciBub2Rlc1NlbGVjdG9yID0gZnVuY3Rpb24gbm9kZXNTZWxlY3RvcihzdGF0ZSkge1xuICByZXR1cm4gQXJyYXkuZnJvbShzdGF0ZS5ub2RlSW50ZXJuYWxzLnZhbHVlcygpKTtcbn07XG5cbmZ1bmN0aW9uIHVzZU5vZGVzKCkge1xuICB2YXIgbm9kZXMgPSB1c2VTdG9yZShub2Rlc1NlbGVjdG9yKTtcbiAgcmV0dXJuIG5vZGVzO1xufVxuXG5leHBvcnQgeyB1c2VOb2RlcyBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11c2VOb2Rlcy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/react-flow-renderer/dist/esm/useNodes.js\n"));

/***/ }),

/***/ "./node_modules/react-flow-renderer/dist/esm/useReactFlow-993c30ca.js":
/*!****************************************************************************!*\
  !*** ./node_modules/react-flow-renderer/dist/esm/useReactFlow-993c30ca.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   _: function() { return /* binding */ _toConsumableArray; },\n/* harmony export */   u: function() { return /* binding */ useReactFlow; }\n/* harmony export */ });\n/* harmony import */ var _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index-a12c80bd.js */ \"./node_modules/react-flow-renderer/dist/esm/index-a12c80bd.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var d3_zoom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! d3-zoom */ \"./node_modules/d3-zoom/src/index.js\");\n/* harmony import */ var zustand_shallow__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! zustand/shallow */ \"./node_modules/react-flow-renderer/node_modules/zustand/esm/shallow.js\");\n\n\n\n\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_2__.J)(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_2__.K)(arr) || _nonIterableSpread();\n}\n\nvar initialViewportHelper = {\n  zoomIn: function zoomIn() {},\n  zoomOut: function zoomOut() {},\n  zoomTo: function zoomTo(_) {},\n  getZoom: function getZoom() {\n    return 1;\n  },\n  setViewport: function setViewport(_) {},\n  getViewport: function getViewport() {\n    return {\n      x: 0,\n      y: 0,\n      zoom: 1\n    };\n  },\n  fitView: function fitView() {\n  },\n  setCenter: function setCenter(_, __) {},\n  fitBounds: function fitBounds(_) {},\n  project: function project(position) {\n    return position;\n  },\n  viewportInitialized: false\n};\n\nvar selector = function selector(s) {\n  return {\n    d3Zoom: s.d3Zoom,\n    d3Selection: s.d3Selection\n  };\n};\n\nvar useViewportHelper = function useViewportHelper() {\n  var store = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_2__.u)();\n\n  var _useStore = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_2__.b)(selector, zustand_shallow__WEBPACK_IMPORTED_MODULE_3__[\"default\"]),\n      d3Zoom = _useStore.d3Zoom,\n      d3Selection = _useStore.d3Selection;\n\n  var viewportHelperFunctions = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {\n    if (d3Selection && d3Zoom) {\n      return {\n        zoomIn: function zoomIn(options) {\n          return d3Zoom.scaleBy((0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_2__.L)(d3Selection, options === null || options === void 0 ? void 0 : options.duration), 1.2);\n        },\n        zoomOut: function zoomOut(options) {\n          return d3Zoom.scaleBy((0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_2__.L)(d3Selection, options === null || options === void 0 ? void 0 : options.duration), 1 / 1.2);\n        },\n        zoomTo: function zoomTo(zoomLevel, options) {\n          return d3Zoom.scaleTo((0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_2__.L)(d3Selection, options === null || options === void 0 ? void 0 : options.duration), zoomLevel);\n        },\n        getZoom: function getZoom() {\n          return store.getState().transform[2];\n        },\n        setViewport: function setViewport(transform, options) {\n          var _transform$x, _transform$y, _transform$zoom;\n\n          var _store$getState$trans = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_2__._)(store.getState().transform, 3),\n              x = _store$getState$trans[0],\n              y = _store$getState$trans[1],\n              zoom = _store$getState$trans[2];\n\n          var nextTransform = d3_zoom__WEBPACK_IMPORTED_MODULE_1__.zoomIdentity.translate((_transform$x = transform.x) !== null && _transform$x !== void 0 ? _transform$x : x, (_transform$y = transform.y) !== null && _transform$y !== void 0 ? _transform$y : y).scale((_transform$zoom = transform.zoom) !== null && _transform$zoom !== void 0 ? _transform$zoom : zoom);\n          d3Zoom.transform((0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_2__.L)(d3Selection, options === null || options === void 0 ? void 0 : options.duration), nextTransform);\n        },\n        getViewport: function getViewport() {\n          var _store$getState$trans2 = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_2__._)(store.getState().transform, 3),\n              x = _store$getState$trans2[0],\n              y = _store$getState$trans2[1],\n              zoom = _store$getState$trans2[2];\n\n          return {\n            x: x,\n            y: y,\n            zoom: zoom\n          };\n        },\n        fitView: function fitView$1(options) {\n          return (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_2__.N)(store.getState, options);\n        },\n        setCenter: function setCenter(x, y, options) {\n          var _store$getState = store.getState(),\n              width = _store$getState.width,\n              height = _store$getState.height,\n              maxZoom = _store$getState.maxZoom;\n\n          var nextZoom = typeof (options === null || options === void 0 ? void 0 : options.zoom) !== 'undefined' ? options.zoom : maxZoom;\n          var centerX = width / 2 - x * nextZoom;\n          var centerY = height / 2 - y * nextZoom;\n          var transform = d3_zoom__WEBPACK_IMPORTED_MODULE_1__.zoomIdentity.translate(centerX, centerY).scale(nextZoom);\n          d3Zoom.transform((0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_2__.L)(d3Selection, options === null || options === void 0 ? void 0 : options.duration), transform);\n        },\n        fitBounds: function fitBounds(bounds, options) {\n          var _options$padding;\n\n          var _store$getState2 = store.getState(),\n              width = _store$getState2.width,\n              height = _store$getState2.height,\n              minZoom = _store$getState2.minZoom,\n              maxZoom = _store$getState2.maxZoom;\n\n          var _getTransformForBound = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_2__.G)(bounds, width, height, minZoom, maxZoom, (_options$padding = options === null || options === void 0 ? void 0 : options.padding) !== null && _options$padding !== void 0 ? _options$padding : 0.1),\n              _getTransformForBound2 = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_2__._)(_getTransformForBound, 3),\n              x = _getTransformForBound2[0],\n              y = _getTransformForBound2[1],\n              zoom = _getTransformForBound2[2];\n\n          var transform = d3_zoom__WEBPACK_IMPORTED_MODULE_1__.zoomIdentity.translate(x, y).scale(zoom);\n          d3Zoom.transform((0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_2__.L)(d3Selection, options === null || options === void 0 ? void 0 : options.duration), transform);\n        },\n        project: function project(position) {\n          var _store$getState3 = store.getState(),\n              transform = _store$getState3.transform,\n              snapToGrid = _store$getState3.snapToGrid,\n              snapGrid = _store$getState3.snapGrid;\n\n          return (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_2__.p)(position, transform, snapToGrid, snapGrid);\n        },\n        viewportInitialized: true\n      };\n    }\n\n    return initialViewportHelper;\n  }, [d3Zoom, d3Selection]);\n  return viewportHelperFunctions;\n};\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_2__.a)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction useReactFlow() {\n  var viewportHelper = useViewportHelper();\n  var store = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_2__.u)();\n  var getNodes = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    var _store$getState = store.getState(),\n        nodeInternals = _store$getState.nodeInternals;\n\n    var nodes = Array.from(nodeInternals.values());\n    return nodes.map(function (n) {\n      return _objectSpread({}, n);\n    });\n  }, []);\n  var getNode = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (id) {\n    var _store$getState2 = store.getState(),\n        nodeInternals = _store$getState2.nodeInternals;\n\n    return nodeInternals.get(id);\n  }, []);\n  var getEdges = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    var _store$getState3 = store.getState(),\n        _store$getState3$edge = _store$getState3.edges,\n        edges = _store$getState3$edge === void 0 ? [] : _store$getState3$edge;\n\n    return edges.map(function (e) {\n      return _objectSpread({}, e);\n    });\n  }, []);\n  var getEdge = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (id) {\n    var _store$getState4 = store.getState(),\n        _store$getState4$edge = _store$getState4.edges,\n        edges = _store$getState4$edge === void 0 ? [] : _store$getState4$edge;\n\n    return edges.find(function (e) {\n      return e.id === id;\n    });\n  }, []);\n  var setNodes = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (payload) {\n    var _store$getState5 = store.getState(),\n        nodeInternals = _store$getState5.nodeInternals,\n        setNodes = _store$getState5.setNodes,\n        hasDefaultNodes = _store$getState5.hasDefaultNodes,\n        onNodesChange = _store$getState5.onNodesChange;\n\n    var nodes = Array.from(nodeInternals.values());\n    var nextNodes = typeof payload === 'function' ? payload(nodes) : payload;\n\n    if (hasDefaultNodes) {\n      setNodes(nextNodes);\n    } else if (onNodesChange) {\n      var changes = nextNodes.length === 0 ? nodes.map(function (node) {\n        return {\n          type: 'remove',\n          id: node.id\n        };\n      }) : nextNodes.map(function (node) {\n        return {\n          item: node,\n          type: 'reset'\n        };\n      });\n      onNodesChange(changes);\n    }\n  }, []);\n  var setEdges = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (payload) {\n    var _store$getState6 = store.getState(),\n        _store$getState6$edge = _store$getState6.edges,\n        edges = _store$getState6$edge === void 0 ? [] : _store$getState6$edge,\n        setEdges = _store$getState6.setEdges,\n        hasDefaultEdges = _store$getState6.hasDefaultEdges,\n        onEdgesChange = _store$getState6.onEdgesChange;\n\n    var nextEdges = typeof payload === 'function' ? payload(edges) : payload;\n\n    if (hasDefaultEdges) {\n      setEdges(nextEdges);\n    } else if (onEdgesChange) {\n      var changes = nextEdges.length === 0 ? edges.map(function (edge) {\n        return {\n          type: 'remove',\n          id: edge.id\n        };\n      }) : nextEdges.map(function (edge) {\n        return {\n          item: edge,\n          type: 'reset'\n        };\n      });\n      onEdgesChange(changes);\n    }\n  }, []);\n  var addNodes = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (payload) {\n    var nodes = Array.isArray(payload) ? payload : [payload];\n\n    var _store$getState7 = store.getState(),\n        nodeInternals = _store$getState7.nodeInternals,\n        setNodes = _store$getState7.setNodes,\n        hasDefaultNodes = _store$getState7.hasDefaultNodes,\n        onNodesChange = _store$getState7.onNodesChange;\n\n    if (hasDefaultNodes) {\n      var currentNodes = Array.from(nodeInternals.values());\n      var nextNodes = [].concat(currentNodes, _toConsumableArray(nodes));\n      setNodes(nextNodes);\n    } else if (onNodesChange) {\n      var changes = nodes.map(function (node) {\n        return {\n          item: node,\n          type: 'add'\n        };\n      });\n      onNodesChange(changes);\n    }\n  }, []);\n  var addEdges = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (payload) {\n    var nextEdges = Array.isArray(payload) ? payload : [payload];\n\n    var _store$getState8 = store.getState(),\n        _store$getState8$edge = _store$getState8.edges,\n        edges = _store$getState8$edge === void 0 ? [] : _store$getState8$edge,\n        setEdges = _store$getState8.setEdges,\n        hasDefaultEdges = _store$getState8.hasDefaultEdges,\n        onEdgesChange = _store$getState8.onEdgesChange;\n\n    if (hasDefaultEdges) {\n      setEdges([].concat(_toConsumableArray(edges), _toConsumableArray(nextEdges)));\n    } else if (onEdgesChange) {\n      var changes = nextEdges.map(function (edge) {\n        return {\n          item: edge,\n          type: 'add'\n        };\n      });\n      onEdgesChange(changes);\n    }\n  }, []);\n  var toObject = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    var _store$getState9 = store.getState(),\n        nodeInternals = _store$getState9.nodeInternals,\n        _store$getState9$edge = _store$getState9.edges,\n        edges = _store$getState9$edge === void 0 ? [] : _store$getState9$edge,\n        transform = _store$getState9.transform;\n\n    var nodes = Array.from(nodeInternals.values());\n\n    var _transform = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_2__._)(transform, 3),\n        x = _transform[0],\n        y = _transform[1],\n        zoom = _transform[2];\n\n    return {\n      nodes: nodes.map(function (n) {\n        return _objectSpread({}, n);\n      }),\n      edges: edges.map(function (e) {\n        return _objectSpread({}, e);\n      }),\n      viewport: {\n        x: x,\n        y: y,\n        zoom: zoom\n      }\n    };\n  }, []);\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {\n    return _objectSpread(_objectSpread({}, viewportHelper), {}, {\n      getNodes: getNodes,\n      getNode: getNode,\n      getEdges: getEdges,\n      getEdge: getEdge,\n      setNodes: setNodes,\n      setEdges: setEdges,\n      addNodes: addNodes,\n      addEdges: addEdges,\n      toObject: toObject\n    });\n  }, [viewportHelper, getNodes, getNode, getEdges, getEdge, setNodes, setEdges, addNodes, addEdges, toObject]);\n}\n\n\n//# sourceMappingURL=useReactFlow-993c30ca.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtZmxvdy1yZW5kZXJlci9kaXN0L2VzbS91c2VSZWFjdEZsb3ctOTkzYzMwY2EuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFzUTtBQUN6TjtBQUNOO0FBQ0Q7O0FBRXRDO0FBQ0EsaUNBQWlDLHFEQUFpQjtBQUNsRDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNkRBQTZELHFEQUEyQjtBQUN4Rjs7QUFFQTtBQUNBLDhCQUE4QjtBQUM5QixnQ0FBZ0M7QUFDaEMsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQSxHQUFHO0FBQ0gseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSCx5Q0FBeUM7QUFDekMscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxjQUFjLHFEQUFXOztBQUV6QixrQkFBa0IscURBQVEsV0FBVyx1REFBTztBQUM1QztBQUNBOztBQUVBLGdDQUFnQyw4Q0FBTztBQUN2QztBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MscURBQWU7QUFDL0MsU0FBUztBQUNUO0FBQ0EsZ0NBQWdDLHFEQUFlO0FBQy9DLFNBQVM7QUFDVDtBQUNBLGdDQUFnQyxxREFBZTtBQUMvQyxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBLHNDQUFzQyxxREFBYztBQUNwRDtBQUNBO0FBQ0E7O0FBRUEsOEJBQThCLGlEQUFZO0FBQzFDLDJCQUEyQixxREFBZTtBQUMxQyxTQUFTO0FBQ1Q7QUFDQSx1Q0FBdUMscURBQWM7QUFDckQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxpQkFBaUIscURBQU87QUFDeEIsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGlEQUFZO0FBQ3RDLDJCQUEyQixxREFBZTtBQUMxQyxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHNDQUFzQyxxREFBcUI7QUFDM0QsdUNBQXVDLHFEQUFjO0FBQ3JEO0FBQ0E7QUFDQTs7QUFFQSwwQkFBMEIsaURBQVk7QUFDdEMsMkJBQTJCLHFEQUFlO0FBQzFDLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGlCQUFpQixxREFBb0I7QUFDckMsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBLDJDQUEyQyxnQ0FBZ0Msb0NBQW9DLG9EQUFvRCw2REFBNkQsaUVBQWlFLHNDQUFzQzs7QUFFdlUsaUNBQWlDLGdCQUFnQixzQkFBc0IsT0FBTyx1REFBdUQsNkRBQTZELHFEQUFlLDZCQUE2QixvS0FBb0ssbUZBQW1GLEtBQUs7QUFDMWU7QUFDQTtBQUNBLGNBQWMscURBQVc7QUFDekIsaUJBQWlCLGtEQUFXO0FBQzVCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QixLQUFLO0FBQ0wsR0FBRztBQUNILGdCQUFnQixrREFBVztBQUMzQjtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNILGlCQUFpQixrREFBVztBQUM1QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw2QkFBNkI7QUFDN0IsS0FBSztBQUNMLEdBQUc7QUFDSCxnQkFBZ0Isa0RBQVc7QUFDM0I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNILGlCQUFpQixrREFBVztBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsaUJBQWlCLGtEQUFXO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEdBQUc7QUFDSCxpQkFBaUIsa0RBQVc7QUFDNUI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsaUJBQWlCLGtEQUFXO0FBQzVCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEdBQUc7QUFDSCxpQkFBaUIsa0RBQVc7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxxQkFBcUIscURBQWM7QUFDbkM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0IsT0FBTztBQUNQO0FBQ0EsK0JBQStCO0FBQy9CLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsU0FBUyw4Q0FBTztBQUNoQix5Q0FBeUMscUJBQXFCO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7O0FBRXNEO0FBQ3REIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9yZWFjdC1mbG93LXJlbmRlcmVyL2Rpc3QvZXNtL3VzZVJlYWN0Rmxvdy05OTNjMzBjYS5qcz82ODNlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEogYXMgX2FycmF5TGlrZVRvQXJyYXksIEsgYXMgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5LCB1IGFzIHVzZVN0b3JlQXBpLCBiIGFzIHVzZVN0b3JlLCBMIGFzIGdldEQzVHJhbnNpdGlvbiwgXyBhcyBfc2xpY2VkVG9BcnJheSwgTiBhcyBmaXRWaWV3LCBHIGFzIGdldFRyYW5zZm9ybUZvckJvdW5kcywgcCBhcyBwb2ludFRvUmVuZGVyZXJQb2ludCwgYSBhcyBfZGVmaW5lUHJvcGVydHkgfSBmcm9tICcuL2luZGV4LWExMmM4MGJkLmpzJztcbmltcG9ydCB7IHVzZU1lbW8sIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgem9vbUlkZW50aXR5IH0gZnJvbSAnZDMtem9vbSc7XG5pbXBvcnQgc2hhbGxvdyBmcm9tICd6dXN0YW5kL3NoYWxsb3cnO1xuXG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpO1xufVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHtcbiAgaWYgKHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgaXRlcltTeW1ib2wuaXRlcmF0b3JdICE9IG51bGwgfHwgaXRlcltcIkBAaXRlcmF0b3JcIl0gIT0gbnVsbCkgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7XG59XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHtcbiAgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTtcbn1cblxudmFyIGluaXRpYWxWaWV3cG9ydEhlbHBlciA9IHtcbiAgem9vbUluOiBmdW5jdGlvbiB6b29tSW4oKSB7fSxcbiAgem9vbU91dDogZnVuY3Rpb24gem9vbU91dCgpIHt9LFxuICB6b29tVG86IGZ1bmN0aW9uIHpvb21UbyhfKSB7fSxcbiAgZ2V0Wm9vbTogZnVuY3Rpb24gZ2V0Wm9vbSgpIHtcbiAgICByZXR1cm4gMTtcbiAgfSxcbiAgc2V0Vmlld3BvcnQ6IGZ1bmN0aW9uIHNldFZpZXdwb3J0KF8pIHt9LFxuICBnZXRWaWV3cG9ydDogZnVuY3Rpb24gZ2V0Vmlld3BvcnQoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwLFxuICAgICAgem9vbTogMVxuICAgIH07XG4gIH0sXG4gIGZpdFZpZXc6IGZ1bmN0aW9uIGZpdFZpZXcoKSB7XG4gIH0sXG4gIHNldENlbnRlcjogZnVuY3Rpb24gc2V0Q2VudGVyKF8sIF9fKSB7fSxcbiAgZml0Qm91bmRzOiBmdW5jdGlvbiBmaXRCb3VuZHMoXykge30sXG4gIHByb2plY3Q6IGZ1bmN0aW9uIHByb2plY3QocG9zaXRpb24pIHtcbiAgICByZXR1cm4gcG9zaXRpb247XG4gIH0sXG4gIHZpZXdwb3J0SW5pdGlhbGl6ZWQ6IGZhbHNlXG59O1xuXG52YXIgc2VsZWN0b3IgPSBmdW5jdGlvbiBzZWxlY3RvcihzKSB7XG4gIHJldHVybiB7XG4gICAgZDNab29tOiBzLmQzWm9vbSxcbiAgICBkM1NlbGVjdGlvbjogcy5kM1NlbGVjdGlvblxuICB9O1xufTtcblxudmFyIHVzZVZpZXdwb3J0SGVscGVyID0gZnVuY3Rpb24gdXNlVmlld3BvcnRIZWxwZXIoKSB7XG4gIHZhciBzdG9yZSA9IHVzZVN0b3JlQXBpKCk7XG5cbiAgdmFyIF91c2VTdG9yZSA9IHVzZVN0b3JlKHNlbGVjdG9yLCBzaGFsbG93KSxcbiAgICAgIGQzWm9vbSA9IF91c2VTdG9yZS5kM1pvb20sXG4gICAgICBkM1NlbGVjdGlvbiA9IF91c2VTdG9yZS5kM1NlbGVjdGlvbjtcblxuICB2YXIgdmlld3BvcnRIZWxwZXJGdW5jdGlvbnMgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoZDNTZWxlY3Rpb24gJiYgZDNab29tKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB6b29tSW46IGZ1bmN0aW9uIHpvb21JbihvcHRpb25zKSB7XG4gICAgICAgICAgcmV0dXJuIGQzWm9vbS5zY2FsZUJ5KGdldEQzVHJhbnNpdGlvbihkM1NlbGVjdGlvbiwgb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmR1cmF0aW9uKSwgMS4yKTtcbiAgICAgICAgfSxcbiAgICAgICAgem9vbU91dDogZnVuY3Rpb24gem9vbU91dChvcHRpb25zKSB7XG4gICAgICAgICAgcmV0dXJuIGQzWm9vbS5zY2FsZUJ5KGdldEQzVHJhbnNpdGlvbihkM1NlbGVjdGlvbiwgb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmR1cmF0aW9uKSwgMSAvIDEuMik7XG4gICAgICAgIH0sXG4gICAgICAgIHpvb21UbzogZnVuY3Rpb24gem9vbVRvKHpvb21MZXZlbCwgb3B0aW9ucykge1xuICAgICAgICAgIHJldHVybiBkM1pvb20uc2NhbGVUbyhnZXREM1RyYW5zaXRpb24oZDNTZWxlY3Rpb24sIG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5kdXJhdGlvbiksIHpvb21MZXZlbCk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldFpvb206IGZ1bmN0aW9uIGdldFpvb20oKSB7XG4gICAgICAgICAgcmV0dXJuIHN0b3JlLmdldFN0YXRlKCkudHJhbnNmb3JtWzJdO1xuICAgICAgICB9LFxuICAgICAgICBzZXRWaWV3cG9ydDogZnVuY3Rpb24gc2V0Vmlld3BvcnQodHJhbnNmb3JtLCBvcHRpb25zKSB7XG4gICAgICAgICAgdmFyIF90cmFuc2Zvcm0keCwgX3RyYW5zZm9ybSR5LCBfdHJhbnNmb3JtJHpvb207XG5cbiAgICAgICAgICB2YXIgX3N0b3JlJGdldFN0YXRlJHRyYW5zID0gX3NsaWNlZFRvQXJyYXkoc3RvcmUuZ2V0U3RhdGUoKS50cmFuc2Zvcm0sIDMpLFxuICAgICAgICAgICAgICB4ID0gX3N0b3JlJGdldFN0YXRlJHRyYW5zWzBdLFxuICAgICAgICAgICAgICB5ID0gX3N0b3JlJGdldFN0YXRlJHRyYW5zWzFdLFxuICAgICAgICAgICAgICB6b29tID0gX3N0b3JlJGdldFN0YXRlJHRyYW5zWzJdO1xuXG4gICAgICAgICAgdmFyIG5leHRUcmFuc2Zvcm0gPSB6b29tSWRlbnRpdHkudHJhbnNsYXRlKChfdHJhbnNmb3JtJHggPSB0cmFuc2Zvcm0ueCkgIT09IG51bGwgJiYgX3RyYW5zZm9ybSR4ICE9PSB2b2lkIDAgPyBfdHJhbnNmb3JtJHggOiB4LCAoX3RyYW5zZm9ybSR5ID0gdHJhbnNmb3JtLnkpICE9PSBudWxsICYmIF90cmFuc2Zvcm0keSAhPT0gdm9pZCAwID8gX3RyYW5zZm9ybSR5IDogeSkuc2NhbGUoKF90cmFuc2Zvcm0kem9vbSA9IHRyYW5zZm9ybS56b29tKSAhPT0gbnVsbCAmJiBfdHJhbnNmb3JtJHpvb20gIT09IHZvaWQgMCA/IF90cmFuc2Zvcm0kem9vbSA6IHpvb20pO1xuICAgICAgICAgIGQzWm9vbS50cmFuc2Zvcm0oZ2V0RDNUcmFuc2l0aW9uKGQzU2VsZWN0aW9uLCBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuZHVyYXRpb24pLCBuZXh0VHJhbnNmb3JtKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0Vmlld3BvcnQ6IGZ1bmN0aW9uIGdldFZpZXdwb3J0KCkge1xuICAgICAgICAgIHZhciBfc3RvcmUkZ2V0U3RhdGUkdHJhbnMyID0gX3NsaWNlZFRvQXJyYXkoc3RvcmUuZ2V0U3RhdGUoKS50cmFuc2Zvcm0sIDMpLFxuICAgICAgICAgICAgICB4ID0gX3N0b3JlJGdldFN0YXRlJHRyYW5zMlswXSxcbiAgICAgICAgICAgICAgeSA9IF9zdG9yZSRnZXRTdGF0ZSR0cmFuczJbMV0sXG4gICAgICAgICAgICAgIHpvb20gPSBfc3RvcmUkZ2V0U3RhdGUkdHJhbnMyWzJdO1xuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICB5OiB5LFxuICAgICAgICAgICAgem9vbTogem9vbVxuICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIGZpdFZpZXc6IGZ1bmN0aW9uIGZpdFZpZXckMShvcHRpb25zKSB7XG4gICAgICAgICAgcmV0dXJuIGZpdFZpZXcoc3RvcmUuZ2V0U3RhdGUsIG9wdGlvbnMpO1xuICAgICAgICB9LFxuICAgICAgICBzZXRDZW50ZXI6IGZ1bmN0aW9uIHNldENlbnRlcih4LCB5LCBvcHRpb25zKSB7XG4gICAgICAgICAgdmFyIF9zdG9yZSRnZXRTdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCksXG4gICAgICAgICAgICAgIHdpZHRoID0gX3N0b3JlJGdldFN0YXRlLndpZHRoLFxuICAgICAgICAgICAgICBoZWlnaHQgPSBfc3RvcmUkZ2V0U3RhdGUuaGVpZ2h0LFxuICAgICAgICAgICAgICBtYXhab29tID0gX3N0b3JlJGdldFN0YXRlLm1heFpvb207XG5cbiAgICAgICAgICB2YXIgbmV4dFpvb20gPSB0eXBlb2YgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy56b29tKSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLnpvb20gOiBtYXhab29tO1xuICAgICAgICAgIHZhciBjZW50ZXJYID0gd2lkdGggLyAyIC0geCAqIG5leHRab29tO1xuICAgICAgICAgIHZhciBjZW50ZXJZID0gaGVpZ2h0IC8gMiAtIHkgKiBuZXh0Wm9vbTtcbiAgICAgICAgICB2YXIgdHJhbnNmb3JtID0gem9vbUlkZW50aXR5LnRyYW5zbGF0ZShjZW50ZXJYLCBjZW50ZXJZKS5zY2FsZShuZXh0Wm9vbSk7XG4gICAgICAgICAgZDNab29tLnRyYW5zZm9ybShnZXREM1RyYW5zaXRpb24oZDNTZWxlY3Rpb24sIG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5kdXJhdGlvbiksIHRyYW5zZm9ybSk7XG4gICAgICAgIH0sXG4gICAgICAgIGZpdEJvdW5kczogZnVuY3Rpb24gZml0Qm91bmRzKGJvdW5kcywgb3B0aW9ucykge1xuICAgICAgICAgIHZhciBfb3B0aW9ucyRwYWRkaW5nO1xuXG4gICAgICAgICAgdmFyIF9zdG9yZSRnZXRTdGF0ZTIgPSBzdG9yZS5nZXRTdGF0ZSgpLFxuICAgICAgICAgICAgICB3aWR0aCA9IF9zdG9yZSRnZXRTdGF0ZTIud2lkdGgsXG4gICAgICAgICAgICAgIGhlaWdodCA9IF9zdG9yZSRnZXRTdGF0ZTIuaGVpZ2h0LFxuICAgICAgICAgICAgICBtaW5ab29tID0gX3N0b3JlJGdldFN0YXRlMi5taW5ab29tLFxuICAgICAgICAgICAgICBtYXhab29tID0gX3N0b3JlJGdldFN0YXRlMi5tYXhab29tO1xuXG4gICAgICAgICAgdmFyIF9nZXRUcmFuc2Zvcm1Gb3JCb3VuZCA9IGdldFRyYW5zZm9ybUZvckJvdW5kcyhib3VuZHMsIHdpZHRoLCBoZWlnaHQsIG1pblpvb20sIG1heFpvb20sIChfb3B0aW9ucyRwYWRkaW5nID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnBhZGRpbmcpICE9PSBudWxsICYmIF9vcHRpb25zJHBhZGRpbmcgIT09IHZvaWQgMCA/IF9vcHRpb25zJHBhZGRpbmcgOiAwLjEpLFxuICAgICAgICAgICAgICBfZ2V0VHJhbnNmb3JtRm9yQm91bmQyID0gX3NsaWNlZFRvQXJyYXkoX2dldFRyYW5zZm9ybUZvckJvdW5kLCAzKSxcbiAgICAgICAgICAgICAgeCA9IF9nZXRUcmFuc2Zvcm1Gb3JCb3VuZDJbMF0sXG4gICAgICAgICAgICAgIHkgPSBfZ2V0VHJhbnNmb3JtRm9yQm91bmQyWzFdLFxuICAgICAgICAgICAgICB6b29tID0gX2dldFRyYW5zZm9ybUZvckJvdW5kMlsyXTtcblxuICAgICAgICAgIHZhciB0cmFuc2Zvcm0gPSB6b29tSWRlbnRpdHkudHJhbnNsYXRlKHgsIHkpLnNjYWxlKHpvb20pO1xuICAgICAgICAgIGQzWm9vbS50cmFuc2Zvcm0oZ2V0RDNUcmFuc2l0aW9uKGQzU2VsZWN0aW9uLCBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuZHVyYXRpb24pLCB0cmFuc2Zvcm0pO1xuICAgICAgICB9LFxuICAgICAgICBwcm9qZWN0OiBmdW5jdGlvbiBwcm9qZWN0KHBvc2l0aW9uKSB7XG4gICAgICAgICAgdmFyIF9zdG9yZSRnZXRTdGF0ZTMgPSBzdG9yZS5nZXRTdGF0ZSgpLFxuICAgICAgICAgICAgICB0cmFuc2Zvcm0gPSBfc3RvcmUkZ2V0U3RhdGUzLnRyYW5zZm9ybSxcbiAgICAgICAgICAgICAgc25hcFRvR3JpZCA9IF9zdG9yZSRnZXRTdGF0ZTMuc25hcFRvR3JpZCxcbiAgICAgICAgICAgICAgc25hcEdyaWQgPSBfc3RvcmUkZ2V0U3RhdGUzLnNuYXBHcmlkO1xuXG4gICAgICAgICAgcmV0dXJuIHBvaW50VG9SZW5kZXJlclBvaW50KHBvc2l0aW9uLCB0cmFuc2Zvcm0sIHNuYXBUb0dyaWQsIHNuYXBHcmlkKTtcbiAgICAgICAgfSxcbiAgICAgICAgdmlld3BvcnRJbml0aWFsaXplZDogdHJ1ZVxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gaW5pdGlhbFZpZXdwb3J0SGVscGVyO1xuICB9LCBbZDNab29tLCBkM1NlbGVjdGlvbl0pO1xuICByZXR1cm4gdmlld3BvcnRIZWxwZXJGdW5jdGlvbnM7XG59O1xuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgZW51bWVyYWJsZU9ubHkgJiYgKHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KSksIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gbnVsbCAhPSBhcmd1bWVudHNbaV0gPyBhcmd1bWVudHNbaV0gOiB7fTsgaSAlIDIgPyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKSA6IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfVxuZnVuY3Rpb24gdXNlUmVhY3RGbG93KCkge1xuICB2YXIgdmlld3BvcnRIZWxwZXIgPSB1c2VWaWV3cG9ydEhlbHBlcigpO1xuICB2YXIgc3RvcmUgPSB1c2VTdG9yZUFwaSgpO1xuICB2YXIgZ2V0Tm9kZXMgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9zdG9yZSRnZXRTdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCksXG4gICAgICAgIG5vZGVJbnRlcm5hbHMgPSBfc3RvcmUkZ2V0U3RhdGUubm9kZUludGVybmFscztcblxuICAgIHZhciBub2RlcyA9IEFycmF5LmZyb20obm9kZUludGVybmFscy52YWx1ZXMoKSk7XG4gICAgcmV0dXJuIG5vZGVzLm1hcChmdW5jdGlvbiAobikge1xuICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIG4pO1xuICAgIH0pO1xuICB9LCBbXSk7XG4gIHZhciBnZXROb2RlID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGlkKSB7XG4gICAgdmFyIF9zdG9yZSRnZXRTdGF0ZTIgPSBzdG9yZS5nZXRTdGF0ZSgpLFxuICAgICAgICBub2RlSW50ZXJuYWxzID0gX3N0b3JlJGdldFN0YXRlMi5ub2RlSW50ZXJuYWxzO1xuXG4gICAgcmV0dXJuIG5vZGVJbnRlcm5hbHMuZ2V0KGlkKTtcbiAgfSwgW10pO1xuICB2YXIgZ2V0RWRnZXMgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9zdG9yZSRnZXRTdGF0ZTMgPSBzdG9yZS5nZXRTdGF0ZSgpLFxuICAgICAgICBfc3RvcmUkZ2V0U3RhdGUzJGVkZ2UgPSBfc3RvcmUkZ2V0U3RhdGUzLmVkZ2VzLFxuICAgICAgICBlZGdlcyA9IF9zdG9yZSRnZXRTdGF0ZTMkZWRnZSA9PT0gdm9pZCAwID8gW10gOiBfc3RvcmUkZ2V0U3RhdGUzJGVkZ2U7XG5cbiAgICByZXR1cm4gZWRnZXMubWFwKGZ1bmN0aW9uIChlKSB7XG4gICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgZSk7XG4gICAgfSk7XG4gIH0sIFtdKTtcbiAgdmFyIGdldEVkZ2UgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoaWQpIHtcbiAgICB2YXIgX3N0b3JlJGdldFN0YXRlNCA9IHN0b3JlLmdldFN0YXRlKCksXG4gICAgICAgIF9zdG9yZSRnZXRTdGF0ZTQkZWRnZSA9IF9zdG9yZSRnZXRTdGF0ZTQuZWRnZXMsXG4gICAgICAgIGVkZ2VzID0gX3N0b3JlJGdldFN0YXRlNCRlZGdlID09PSB2b2lkIDAgPyBbXSA6IF9zdG9yZSRnZXRTdGF0ZTQkZWRnZTtcblxuICAgIHJldHVybiBlZGdlcy5maW5kKGZ1bmN0aW9uIChlKSB7XG4gICAgICByZXR1cm4gZS5pZCA9PT0gaWQ7XG4gICAgfSk7XG4gIH0sIFtdKTtcbiAgdmFyIHNldE5vZGVzID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHBheWxvYWQpIHtcbiAgICB2YXIgX3N0b3JlJGdldFN0YXRlNSA9IHN0b3JlLmdldFN0YXRlKCksXG4gICAgICAgIG5vZGVJbnRlcm5hbHMgPSBfc3RvcmUkZ2V0U3RhdGU1Lm5vZGVJbnRlcm5hbHMsXG4gICAgICAgIHNldE5vZGVzID0gX3N0b3JlJGdldFN0YXRlNS5zZXROb2RlcyxcbiAgICAgICAgaGFzRGVmYXVsdE5vZGVzID0gX3N0b3JlJGdldFN0YXRlNS5oYXNEZWZhdWx0Tm9kZXMsXG4gICAgICAgIG9uTm9kZXNDaGFuZ2UgPSBfc3RvcmUkZ2V0U3RhdGU1Lm9uTm9kZXNDaGFuZ2U7XG5cbiAgICB2YXIgbm9kZXMgPSBBcnJheS5mcm9tKG5vZGVJbnRlcm5hbHMudmFsdWVzKCkpO1xuICAgIHZhciBuZXh0Tm9kZXMgPSB0eXBlb2YgcGF5bG9hZCA9PT0gJ2Z1bmN0aW9uJyA/IHBheWxvYWQobm9kZXMpIDogcGF5bG9hZDtcblxuICAgIGlmIChoYXNEZWZhdWx0Tm9kZXMpIHtcbiAgICAgIHNldE5vZGVzKG5leHROb2Rlcyk7XG4gICAgfSBlbHNlIGlmIChvbk5vZGVzQ2hhbmdlKSB7XG4gICAgICB2YXIgY2hhbmdlcyA9IG5leHROb2Rlcy5sZW5ndGggPT09IDAgPyBub2Rlcy5tYXAoZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiAncmVtb3ZlJyxcbiAgICAgICAgICBpZDogbm9kZS5pZFxuICAgICAgICB9O1xuICAgICAgfSkgOiBuZXh0Tm9kZXMubWFwKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaXRlbTogbm9kZSxcbiAgICAgICAgICB0eXBlOiAncmVzZXQnXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICAgIG9uTm9kZXNDaGFuZ2UoY2hhbmdlcyk7XG4gICAgfVxuICB9LCBbXSk7XG4gIHZhciBzZXRFZGdlcyA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChwYXlsb2FkKSB7XG4gICAgdmFyIF9zdG9yZSRnZXRTdGF0ZTYgPSBzdG9yZS5nZXRTdGF0ZSgpLFxuICAgICAgICBfc3RvcmUkZ2V0U3RhdGU2JGVkZ2UgPSBfc3RvcmUkZ2V0U3RhdGU2LmVkZ2VzLFxuICAgICAgICBlZGdlcyA9IF9zdG9yZSRnZXRTdGF0ZTYkZWRnZSA9PT0gdm9pZCAwID8gW10gOiBfc3RvcmUkZ2V0U3RhdGU2JGVkZ2UsXG4gICAgICAgIHNldEVkZ2VzID0gX3N0b3JlJGdldFN0YXRlNi5zZXRFZGdlcyxcbiAgICAgICAgaGFzRGVmYXVsdEVkZ2VzID0gX3N0b3JlJGdldFN0YXRlNi5oYXNEZWZhdWx0RWRnZXMsXG4gICAgICAgIG9uRWRnZXNDaGFuZ2UgPSBfc3RvcmUkZ2V0U3RhdGU2Lm9uRWRnZXNDaGFuZ2U7XG5cbiAgICB2YXIgbmV4dEVkZ2VzID0gdHlwZW9mIHBheWxvYWQgPT09ICdmdW5jdGlvbicgPyBwYXlsb2FkKGVkZ2VzKSA6IHBheWxvYWQ7XG5cbiAgICBpZiAoaGFzRGVmYXVsdEVkZ2VzKSB7XG4gICAgICBzZXRFZGdlcyhuZXh0RWRnZXMpO1xuICAgIH0gZWxzZSBpZiAob25FZGdlc0NoYW5nZSkge1xuICAgICAgdmFyIGNoYW5nZXMgPSBuZXh0RWRnZXMubGVuZ3RoID09PSAwID8gZWRnZXMubWFwKGZ1bmN0aW9uIChlZGdlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogJ3JlbW92ZScsXG4gICAgICAgICAgaWQ6IGVkZ2UuaWRcbiAgICAgICAgfTtcbiAgICAgIH0pIDogbmV4dEVkZ2VzLm1hcChmdW5jdGlvbiAoZWRnZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGl0ZW06IGVkZ2UsXG4gICAgICAgICAgdHlwZTogJ3Jlc2V0J1xuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgICBvbkVkZ2VzQ2hhbmdlKGNoYW5nZXMpO1xuICAgIH1cbiAgfSwgW10pO1xuICB2YXIgYWRkTm9kZXMgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAocGF5bG9hZCkge1xuICAgIHZhciBub2RlcyA9IEFycmF5LmlzQXJyYXkocGF5bG9hZCkgPyBwYXlsb2FkIDogW3BheWxvYWRdO1xuXG4gICAgdmFyIF9zdG9yZSRnZXRTdGF0ZTcgPSBzdG9yZS5nZXRTdGF0ZSgpLFxuICAgICAgICBub2RlSW50ZXJuYWxzID0gX3N0b3JlJGdldFN0YXRlNy5ub2RlSW50ZXJuYWxzLFxuICAgICAgICBzZXROb2RlcyA9IF9zdG9yZSRnZXRTdGF0ZTcuc2V0Tm9kZXMsXG4gICAgICAgIGhhc0RlZmF1bHROb2RlcyA9IF9zdG9yZSRnZXRTdGF0ZTcuaGFzRGVmYXVsdE5vZGVzLFxuICAgICAgICBvbk5vZGVzQ2hhbmdlID0gX3N0b3JlJGdldFN0YXRlNy5vbk5vZGVzQ2hhbmdlO1xuXG4gICAgaWYgKGhhc0RlZmF1bHROb2Rlcykge1xuICAgICAgdmFyIGN1cnJlbnROb2RlcyA9IEFycmF5LmZyb20obm9kZUludGVybmFscy52YWx1ZXMoKSk7XG4gICAgICB2YXIgbmV4dE5vZGVzID0gW10uY29uY2F0KGN1cnJlbnROb2RlcywgX3RvQ29uc3VtYWJsZUFycmF5KG5vZGVzKSk7XG4gICAgICBzZXROb2RlcyhuZXh0Tm9kZXMpO1xuICAgIH0gZWxzZSBpZiAob25Ob2Rlc0NoYW5nZSkge1xuICAgICAgdmFyIGNoYW5nZXMgPSBub2Rlcy5tYXAoZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpdGVtOiBub2RlLFxuICAgICAgICAgIHR5cGU6ICdhZGQnXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICAgIG9uTm9kZXNDaGFuZ2UoY2hhbmdlcyk7XG4gICAgfVxuICB9LCBbXSk7XG4gIHZhciBhZGRFZGdlcyA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChwYXlsb2FkKSB7XG4gICAgdmFyIG5leHRFZGdlcyA9IEFycmF5LmlzQXJyYXkocGF5bG9hZCkgPyBwYXlsb2FkIDogW3BheWxvYWRdO1xuXG4gICAgdmFyIF9zdG9yZSRnZXRTdGF0ZTggPSBzdG9yZS5nZXRTdGF0ZSgpLFxuICAgICAgICBfc3RvcmUkZ2V0U3RhdGU4JGVkZ2UgPSBfc3RvcmUkZ2V0U3RhdGU4LmVkZ2VzLFxuICAgICAgICBlZGdlcyA9IF9zdG9yZSRnZXRTdGF0ZTgkZWRnZSA9PT0gdm9pZCAwID8gW10gOiBfc3RvcmUkZ2V0U3RhdGU4JGVkZ2UsXG4gICAgICAgIHNldEVkZ2VzID0gX3N0b3JlJGdldFN0YXRlOC5zZXRFZGdlcyxcbiAgICAgICAgaGFzRGVmYXVsdEVkZ2VzID0gX3N0b3JlJGdldFN0YXRlOC5oYXNEZWZhdWx0RWRnZXMsXG4gICAgICAgIG9uRWRnZXNDaGFuZ2UgPSBfc3RvcmUkZ2V0U3RhdGU4Lm9uRWRnZXNDaGFuZ2U7XG5cbiAgICBpZiAoaGFzRGVmYXVsdEVkZ2VzKSB7XG4gICAgICBzZXRFZGdlcyhbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGVkZ2VzKSwgX3RvQ29uc3VtYWJsZUFycmF5KG5leHRFZGdlcykpKTtcbiAgICB9IGVsc2UgaWYgKG9uRWRnZXNDaGFuZ2UpIHtcbiAgICAgIHZhciBjaGFuZ2VzID0gbmV4dEVkZ2VzLm1hcChmdW5jdGlvbiAoZWRnZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGl0ZW06IGVkZ2UsXG4gICAgICAgICAgdHlwZTogJ2FkZCdcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgICAgb25FZGdlc0NoYW5nZShjaGFuZ2VzKTtcbiAgICB9XG4gIH0sIFtdKTtcbiAgdmFyIHRvT2JqZWN0ID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIHZhciBfc3RvcmUkZ2V0U3RhdGU5ID0gc3RvcmUuZ2V0U3RhdGUoKSxcbiAgICAgICAgbm9kZUludGVybmFscyA9IF9zdG9yZSRnZXRTdGF0ZTkubm9kZUludGVybmFscyxcbiAgICAgICAgX3N0b3JlJGdldFN0YXRlOSRlZGdlID0gX3N0b3JlJGdldFN0YXRlOS5lZGdlcyxcbiAgICAgICAgZWRnZXMgPSBfc3RvcmUkZ2V0U3RhdGU5JGVkZ2UgPT09IHZvaWQgMCA/IFtdIDogX3N0b3JlJGdldFN0YXRlOSRlZGdlLFxuICAgICAgICB0cmFuc2Zvcm0gPSBfc3RvcmUkZ2V0U3RhdGU5LnRyYW5zZm9ybTtcblxuICAgIHZhciBub2RlcyA9IEFycmF5LmZyb20obm9kZUludGVybmFscy52YWx1ZXMoKSk7XG5cbiAgICB2YXIgX3RyYW5zZm9ybSA9IF9zbGljZWRUb0FycmF5KHRyYW5zZm9ybSwgMyksXG4gICAgICAgIHggPSBfdHJhbnNmb3JtWzBdLFxuICAgICAgICB5ID0gX3RyYW5zZm9ybVsxXSxcbiAgICAgICAgem9vbSA9IF90cmFuc2Zvcm1bMl07XG5cbiAgICByZXR1cm4ge1xuICAgICAgbm9kZXM6IG5vZGVzLm1hcChmdW5jdGlvbiAobikge1xuICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgbik7XG4gICAgICB9KSxcbiAgICAgIGVkZ2VzOiBlZGdlcy5tYXAoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIGUpO1xuICAgICAgfSksXG4gICAgICB2aWV3cG9ydDoge1xuICAgICAgICB4OiB4LFxuICAgICAgICB5OiB5LFxuICAgICAgICB6b29tOiB6b29tXG4gICAgICB9XG4gICAgfTtcbiAgfSwgW10pO1xuICByZXR1cm4gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdmlld3BvcnRIZWxwZXIpLCB7fSwge1xuICAgICAgZ2V0Tm9kZXM6IGdldE5vZGVzLFxuICAgICAgZ2V0Tm9kZTogZ2V0Tm9kZSxcbiAgICAgIGdldEVkZ2VzOiBnZXRFZGdlcyxcbiAgICAgIGdldEVkZ2U6IGdldEVkZ2UsXG4gICAgICBzZXROb2Rlczogc2V0Tm9kZXMsXG4gICAgICBzZXRFZGdlczogc2V0RWRnZXMsXG4gICAgICBhZGROb2RlczogYWRkTm9kZXMsXG4gICAgICBhZGRFZGdlczogYWRkRWRnZXMsXG4gICAgICB0b09iamVjdDogdG9PYmplY3RcbiAgICB9KTtcbiAgfSwgW3ZpZXdwb3J0SGVscGVyLCBnZXROb2RlcywgZ2V0Tm9kZSwgZ2V0RWRnZXMsIGdldEVkZ2UsIHNldE5vZGVzLCBzZXRFZGdlcywgYWRkTm9kZXMsIGFkZEVkZ2VzLCB0b09iamVjdF0pO1xufVxuXG5leHBvcnQgeyBfdG9Db25zdW1hYmxlQXJyYXkgYXMgXywgdXNlUmVhY3RGbG93IGFzIHUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVzZVJlYWN0Rmxvdy05OTNjMzBjYS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/react-flow-renderer/dist/esm/useReactFlow-993c30ca.js\n"));

/***/ }),

/***/ "./node_modules/react-flow-renderer/dist/esm/useUpdateNodeInternals.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/react-flow-renderer/dist/esm/useUpdateNodeInternals.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ useUpdateNodeInternals; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index-a12c80bd.js */ \"./node_modules/react-flow-renderer/dist/esm/index-a12c80bd.js\");\n/* harmony import */ var d3_zoom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! d3-zoom */ \"./node_modules/d3-zoom/src/index.js\");\n\n\n\n\n\n\nvar selector = function selector(state) {\n  return state.updateNodeDimensions;\n};\n\nfunction useUpdateNodeInternals() {\n  var store = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_2__.u)();\n  var updateNodeDimensions = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_2__.b)(selector);\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (id) {\n    var _store$getState$domNo;\n\n    var nodeElement = (_store$getState$domNo = store.getState().domNode) === null || _store$getState$domNo === void 0 ? void 0 : _store$getState$domNo.querySelector(\".react-flow__node[data-id=\\\"\".concat(id, \"\\\"]\"));\n\n    if (nodeElement) {\n      requestAnimationFrame(function () {\n        return updateNodeDimensions([{\n          id: id,\n          nodeElement: nodeElement,\n          forceUpdate: true\n        }]);\n      });\n    }\n  }, []);\n}\n\n\n//# sourceMappingURL=useUpdateNodeInternals.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtZmxvdy1yZW5kZXJlci9kaXN0L2VzbS91c2VVcGRhdGVOb2RlSW50ZXJuYWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQW9DO0FBQ2tDO0FBQ3JEO0FBQ1E7QUFDUjs7QUFFakI7QUFDQTtBQUNBOztBQUVBO0FBQ0EsY0FBYyxxREFBVztBQUN6Qiw2QkFBNkIscURBQVE7QUFDckMsU0FBUyxrREFBVztBQUNwQjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIOztBQUU2QztBQUM3QyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcmVhY3QtZmxvdy1yZW5kZXJlci9kaXN0L2VzbS91c2VVcGRhdGVOb2RlSW50ZXJuYWxzLmpzP2JjMjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1IGFzIHVzZVN0b3JlQXBpLCBiIGFzIHVzZVN0b3JlIH0gZnJvbSAnLi9pbmRleC1hMTJjODBiZC5qcyc7XG5pbXBvcnQgJ3p1c3RhbmQnO1xuaW1wb3J0ICd6dXN0YW5kL2NvbnRleHQnO1xuaW1wb3J0ICdkMy16b29tJztcblxudmFyIHNlbGVjdG9yID0gZnVuY3Rpb24gc2VsZWN0b3Ioc3RhdGUpIHtcbiAgcmV0dXJuIHN0YXRlLnVwZGF0ZU5vZGVEaW1lbnNpb25zO1xufTtcblxuZnVuY3Rpb24gdXNlVXBkYXRlTm9kZUludGVybmFscygpIHtcbiAgdmFyIHN0b3JlID0gdXNlU3RvcmVBcGkoKTtcbiAgdmFyIHVwZGF0ZU5vZGVEaW1lbnNpb25zID0gdXNlU3RvcmUoc2VsZWN0b3IpO1xuICByZXR1cm4gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGlkKSB7XG4gICAgdmFyIF9zdG9yZSRnZXRTdGF0ZSRkb21ObztcblxuICAgIHZhciBub2RlRWxlbWVudCA9IChfc3RvcmUkZ2V0U3RhdGUkZG9tTm8gPSBzdG9yZS5nZXRTdGF0ZSgpLmRvbU5vZGUpID09PSBudWxsIHx8IF9zdG9yZSRnZXRTdGF0ZSRkb21ObyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3N0b3JlJGdldFN0YXRlJGRvbU5vLnF1ZXJ5U2VsZWN0b3IoXCIucmVhY3QtZmxvd19fbm9kZVtkYXRhLWlkPVxcXCJcIi5jb25jYXQoaWQsIFwiXFxcIl1cIikpO1xuXG4gICAgaWYgKG5vZGVFbGVtZW50KSB7XG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdXBkYXRlTm9kZURpbWVuc2lvbnMoW3tcbiAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgbm9kZUVsZW1lbnQ6IG5vZGVFbGVtZW50LFxuICAgICAgICAgIGZvcmNlVXBkYXRlOiB0cnVlXG4gICAgICAgIH1dKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW10pO1xufVxuXG5leHBvcnQgeyB1c2VVcGRhdGVOb2RlSW50ZXJuYWxzIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVzZVVwZGF0ZU5vZGVJbnRlcm5hbHMuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/react-flow-renderer/dist/esm/useUpdateNodeInternals.js\n"));

/***/ }),

/***/ "./node_modules/react-flow-renderer/dist/esm/useViewport.js":
/*!******************************************************************!*\
  !*** ./node_modules/react-flow-renderer/dist/esm/useViewport.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ useViewport; }\n/* harmony export */ });\n/* harmony import */ var zustand_shallow__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! zustand/shallow */ \"./node_modules/react-flow-renderer/node_modules/zustand/esm/shallow.js\");\n/* harmony import */ var _index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index-a12c80bd.js */ \"./node_modules/react-flow-renderer/dist/esm/index-a12c80bd.js\");\n/* harmony import */ var d3_zoom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! d3-zoom */ \"./node_modules/d3-zoom/src/index.js\");\n\n\n\n\n\n\nvar viewportSelector = function viewportSelector(state) {\n  return {\n    x: state.transform[0],\n    y: state.transform[1],\n    zoom: state.transform[2]\n  };\n};\n\nfunction useViewport() {\n  var viewport = (0,_index_a12c80bd_js__WEBPACK_IMPORTED_MODULE_1__.b)(viewportSelector, zustand_shallow__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\n  return viewport;\n}\n\n\n//# sourceMappingURL=useViewport.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtZmxvdy1yZW5kZXJlci9kaXN0L2VzbS91c2VWaWV3cG9ydC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXNDO0FBQ2M7QUFDbkM7QUFDUTtBQUNSOztBQUVqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGlCQUFpQixxREFBUSxtQkFBbUIsdURBQU87QUFDbkQ7QUFDQTs7QUFFa0M7QUFDbEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWZsb3ctcmVuZGVyZXIvZGlzdC9lc20vdXNlVmlld3BvcnQuanM/M2ZhMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgc2hhbGxvdyBmcm9tICd6dXN0YW5kL3NoYWxsb3cnO1xuaW1wb3J0IHsgYiBhcyB1c2VTdG9yZSB9IGZyb20gJy4vaW5kZXgtYTEyYzgwYmQuanMnO1xuaW1wb3J0ICd6dXN0YW5kJztcbmltcG9ydCAnenVzdGFuZC9jb250ZXh0JztcbmltcG9ydCAnZDMtem9vbSc7XG5cbnZhciB2aWV3cG9ydFNlbGVjdG9yID0gZnVuY3Rpb24gdmlld3BvcnRTZWxlY3RvcihzdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIHg6IHN0YXRlLnRyYW5zZm9ybVswXSxcbiAgICB5OiBzdGF0ZS50cmFuc2Zvcm1bMV0sXG4gICAgem9vbTogc3RhdGUudHJhbnNmb3JtWzJdXG4gIH07XG59O1xuXG5mdW5jdGlvbiB1c2VWaWV3cG9ydCgpIHtcbiAgdmFyIHZpZXdwb3J0ID0gdXNlU3RvcmUodmlld3BvcnRTZWxlY3Rvciwgc2hhbGxvdyk7XG4gIHJldHVybiB2aWV3cG9ydDtcbn1cblxuZXhwb3J0IHsgdXNlVmlld3BvcnQgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXNlVmlld3BvcnQuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/react-flow-renderer/dist/esm/useViewport.js\n"));

/***/ }),

/***/ "./node_modules/react-flow-renderer/node_modules/zustand/esm/context.js":
/*!******************************************************************************!*\
  !*** ./node_modules/react-flow-renderer/node_modules/zustand/esm/context.js ***!
  \******************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ createContext; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n\nfunction createContext() {\n  const ZustandContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(void 0);\n  const Provider = ({\n    initialStore,\n    createStore,\n    children\n  }) => {\n    const storeRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n    if (!storeRef.current) {\n      if (initialStore) {\n        console.warn(\"Provider initialStore is deprecated and will be removed in the next version.\");\n        if (!createStore) {\n          createStore = () => initialStore;\n        }\n      }\n      storeRef.current = createStore();\n    }\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(ZustandContext.Provider, { value: storeRef.current }, children);\n  };\n  const useStore = (selector, equalityFn = Object.is) => {\n    const useProviderStore = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ZustandContext);\n    if (!useProviderStore) {\n      throw new Error(\"Seems like you have not used zustand provider as an ancestor.\");\n    }\n    return useProviderStore(selector, equalityFn);\n  };\n  const useStoreApi = () => {\n    const useProviderStore = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ZustandContext);\n    if (!useProviderStore) {\n      throw new Error(\"Seems like you have not used zustand provider as an ancestor.\");\n    }\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => ({\n      getState: useProviderStore.getState,\n      setState: useProviderStore.setState,\n      subscribe: useProviderStore.subscribe,\n      destroy: useProviderStore.destroy\n    }), [useProviderStore]);\n  };\n  return {\n    Provider,\n    useStore,\n    useStoreApi\n  };\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtZmxvdy1yZW5kZXJlci9ub2RlX21vZHVsZXMvenVzdGFuZC9lc20vY29udGV4dC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBcUc7O0FBRXJHO0FBQ0EseUJBQXlCLG9EQUFlO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILHFCQUFxQiw2Q0FBTTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG9EQUFhLDRCQUE0Qix5QkFBeUI7QUFDN0U7QUFDQTtBQUNBLDZCQUE2QixpREFBVTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsaURBQVU7QUFDdkM7QUFDQTtBQUNBO0FBQ0EsV0FBVyw4Q0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFb0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWZsb3ctcmVuZGVyZXIvbm9kZV9tb2R1bGVzL3p1c3RhbmQvZXNtL2NvbnRleHQuanM/NTc5NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb250ZXh0IGFzIGNyZWF0ZUNvbnRleHQkMSwgdXNlUmVmLCBjcmVhdGVFbGVtZW50LCB1c2VDb250ZXh0LCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuXG5mdW5jdGlvbiBjcmVhdGVDb250ZXh0KCkge1xuICBjb25zdCBadXN0YW5kQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQkMSh2b2lkIDApO1xuICBjb25zdCBQcm92aWRlciA9ICh7XG4gICAgaW5pdGlhbFN0b3JlLFxuICAgIGNyZWF0ZVN0b3JlLFxuICAgIGNoaWxkcmVuXG4gIH0pID0+IHtcbiAgICBjb25zdCBzdG9yZVJlZiA9IHVzZVJlZigpO1xuICAgIGlmICghc3RvcmVSZWYuY3VycmVudCkge1xuICAgICAgaWYgKGluaXRpYWxTdG9yZSkge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJQcm92aWRlciBpbml0aWFsU3RvcmUgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IHZlcnNpb24uXCIpO1xuICAgICAgICBpZiAoIWNyZWF0ZVN0b3JlKSB7XG4gICAgICAgICAgY3JlYXRlU3RvcmUgPSAoKSA9PiBpbml0aWFsU3RvcmU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHN0b3JlUmVmLmN1cnJlbnQgPSBjcmVhdGVTdG9yZSgpO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudChadXN0YW5kQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogc3RvcmVSZWYuY3VycmVudCB9LCBjaGlsZHJlbik7XG4gIH07XG4gIGNvbnN0IHVzZVN0b3JlID0gKHNlbGVjdG9yLCBlcXVhbGl0eUZuID0gT2JqZWN0LmlzKSA9PiB7XG4gICAgY29uc3QgdXNlUHJvdmlkZXJTdG9yZSA9IHVzZUNvbnRleHQoWnVzdGFuZENvbnRleHQpO1xuICAgIGlmICghdXNlUHJvdmlkZXJTdG9yZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2VlbXMgbGlrZSB5b3UgaGF2ZSBub3QgdXNlZCB6dXN0YW5kIHByb3ZpZGVyIGFzIGFuIGFuY2VzdG9yLlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHVzZVByb3ZpZGVyU3RvcmUoc2VsZWN0b3IsIGVxdWFsaXR5Rm4pO1xuICB9O1xuICBjb25zdCB1c2VTdG9yZUFwaSA9ICgpID0+IHtcbiAgICBjb25zdCB1c2VQcm92aWRlclN0b3JlID0gdXNlQ29udGV4dChadXN0YW5kQ29udGV4dCk7XG4gICAgaWYgKCF1c2VQcm92aWRlclN0b3JlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTZWVtcyBsaWtlIHlvdSBoYXZlIG5vdCB1c2VkIHp1c3RhbmQgcHJvdmlkZXIgYXMgYW4gYW5jZXN0b3IuXCIpO1xuICAgIH1cbiAgICByZXR1cm4gdXNlTWVtbygoKSA9PiAoe1xuICAgICAgZ2V0U3RhdGU6IHVzZVByb3ZpZGVyU3RvcmUuZ2V0U3RhdGUsXG4gICAgICBzZXRTdGF0ZTogdXNlUHJvdmlkZXJTdG9yZS5zZXRTdGF0ZSxcbiAgICAgIHN1YnNjcmliZTogdXNlUHJvdmlkZXJTdG9yZS5zdWJzY3JpYmUsXG4gICAgICBkZXN0cm95OiB1c2VQcm92aWRlclN0b3JlLmRlc3Ryb3lcbiAgICB9KSwgW3VzZVByb3ZpZGVyU3RvcmVdKTtcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBQcm92aWRlcixcbiAgICB1c2VTdG9yZSxcbiAgICB1c2VTdG9yZUFwaVxuICB9O1xufVxuXG5leHBvcnQgeyBjcmVhdGVDb250ZXh0IGFzIGRlZmF1bHQgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/react-flow-renderer/node_modules/zustand/esm/context.js\n"));

/***/ }),

/***/ "./node_modules/react-flow-renderer/node_modules/zustand/esm/index.js":
/*!****************************************************************************!*\
  !*** ./node_modules/react-flow-renderer/node_modules/zustand/esm/index.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ create; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n\nfunction createStore(createState) {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (nextState !== state) {\n      const previousState = state;\n      state = replace ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const subscribeWithSelector = (listener, selector = getState, equalityFn = Object.is) => {\n    console.warn(\"[DEPRECATED] Please use `subscribeWithSelector` middleware\");\n    let currentSlice = selector(state);\n    function listenerToAdd() {\n      const nextSlice = selector(state);\n      if (!equalityFn(currentSlice, nextSlice)) {\n        const previousSlice = currentSlice;\n        listener(currentSlice = nextSlice, previousSlice);\n      }\n    }\n    listeners.add(listenerToAdd);\n    return () => listeners.delete(listenerToAdd);\n  };\n  const subscribe = (listener, selector, equalityFn) => {\n    if (selector || equalityFn) {\n      return subscribeWithSelector(listener, selector, equalityFn);\n    }\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const destroy = () => listeners.clear();\n  const api = { setState, getState, subscribe, destroy };\n  state = createState(setState, getState, api);\n  return api;\n}\n\nconst isSSR = typeof window === \"undefined\" || !window.navigator || /ServerSideRendering|^Deno\\//.test(window.navigator.userAgent);\nconst useIsomorphicLayoutEffect = isSSR ? react__WEBPACK_IMPORTED_MODULE_0__.useEffect : react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect;\nfunction create(createState) {\n  const api = typeof createState === \"function\" ? createStore(createState) : createState;\n  const useStore = (selector = api.getState, equalityFn = Object.is) => {\n    const [, forceUpdate] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useReducer)((c) => c + 1, 0);\n    const state = api.getState();\n    const stateRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(state);\n    const selectorRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(selector);\n    const equalityFnRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(equalityFn);\n    const erroredRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    const currentSliceRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n    if (currentSliceRef.current === void 0) {\n      currentSliceRef.current = selector(state);\n    }\n    let newStateSlice;\n    let hasNewStateSlice = false;\n    if (stateRef.current !== state || selectorRef.current !== selector || equalityFnRef.current !== equalityFn || erroredRef.current) {\n      newStateSlice = selector(state);\n      hasNewStateSlice = !equalityFn(currentSliceRef.current, newStateSlice);\n    }\n    useIsomorphicLayoutEffect(() => {\n      if (hasNewStateSlice) {\n        currentSliceRef.current = newStateSlice;\n      }\n      stateRef.current = state;\n      selectorRef.current = selector;\n      equalityFnRef.current = equalityFn;\n      erroredRef.current = false;\n    });\n    const stateBeforeSubscriptionRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(state);\n    useIsomorphicLayoutEffect(() => {\n      const listener = () => {\n        try {\n          const nextState = api.getState();\n          const nextStateSlice = selectorRef.current(nextState);\n          if (!equalityFnRef.current(currentSliceRef.current, nextStateSlice)) {\n            stateRef.current = nextState;\n            currentSliceRef.current = nextStateSlice;\n            forceUpdate();\n          }\n        } catch (error) {\n          erroredRef.current = true;\n          forceUpdate();\n        }\n      };\n      const unsubscribe = api.subscribe(listener);\n      if (api.getState() !== stateBeforeSubscriptionRef.current) {\n        listener();\n      }\n      return unsubscribe;\n    }, []);\n    const sliceToReturn = hasNewStateSlice ? newStateSlice : currentSliceRef.current;\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useDebugValue)(sliceToReturn);\n    return sliceToReturn;\n  };\n  Object.assign(useStore, api);\n  useStore[Symbol.iterator] = function() {\n    console.warn(\"[useStore, api] = create() is deprecated and will be removed in v4\");\n    const items = [useStore, api];\n    return {\n      next() {\n        const done = items.length <= 0;\n        return { value: items.shift(), done };\n      }\n    };\n  };\n  return useStore;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtZmxvdy1yZW5kZXJlci9ub2RlX21vZHVsZXMvenVzdGFuZC9lc20vaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXNGOztBQUV0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwwQ0FBMEMsNENBQVMsR0FBRyxrREFBZTtBQUNyRTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsaURBQVU7QUFDdEM7QUFDQSxxQkFBcUIsNkNBQU07QUFDM0Isd0JBQXdCLDZDQUFNO0FBQzlCLDBCQUEwQiw2Q0FBTTtBQUNoQyx1QkFBdUIsNkNBQU07QUFDN0IsNEJBQTRCLDZDQUFNO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsdUNBQXVDLDZDQUFNO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLElBQUksb0RBQWE7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRTZCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9yZWFjdC1mbG93LXJlbmRlcmVyL25vZGVfbW9kdWxlcy96dXN0YW5kL2VzbS9pbmRleC5qcz9iZjVhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVJlZHVjZXIsIHVzZVJlZiwgdXNlRGVidWdWYWx1ZSwgdXNlRWZmZWN0LCB1c2VMYXlvdXRFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0b3JlKGNyZWF0ZVN0YXRlKSB7XG4gIGxldCBzdGF0ZTtcbiAgY29uc3QgbGlzdGVuZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgY29uc3Qgc2V0U3RhdGUgPSAocGFydGlhbCwgcmVwbGFjZSkgPT4ge1xuICAgIGNvbnN0IG5leHRTdGF0ZSA9IHR5cGVvZiBwYXJ0aWFsID09PSBcImZ1bmN0aW9uXCIgPyBwYXJ0aWFsKHN0YXRlKSA6IHBhcnRpYWw7XG4gICAgaWYgKG5leHRTdGF0ZSAhPT0gc3RhdGUpIHtcbiAgICAgIGNvbnN0IHByZXZpb3VzU3RhdGUgPSBzdGF0ZTtcbiAgICAgIHN0YXRlID0gcmVwbGFjZSA/IG5leHRTdGF0ZSA6IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCBuZXh0U3RhdGUpO1xuICAgICAgbGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PiBsaXN0ZW5lcihzdGF0ZSwgcHJldmlvdXNTdGF0ZSkpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgZ2V0U3RhdGUgPSAoKSA9PiBzdGF0ZTtcbiAgY29uc3Qgc3Vic2NyaWJlV2l0aFNlbGVjdG9yID0gKGxpc3RlbmVyLCBzZWxlY3RvciA9IGdldFN0YXRlLCBlcXVhbGl0eUZuID0gT2JqZWN0LmlzKSA9PiB7XG4gICAgY29uc29sZS53YXJuKFwiW0RFUFJFQ0FURURdIFBsZWFzZSB1c2UgYHN1YnNjcmliZVdpdGhTZWxlY3RvcmAgbWlkZGxld2FyZVwiKTtcbiAgICBsZXQgY3VycmVudFNsaWNlID0gc2VsZWN0b3Ioc3RhdGUpO1xuICAgIGZ1bmN0aW9uIGxpc3RlbmVyVG9BZGQoKSB7XG4gICAgICBjb25zdCBuZXh0U2xpY2UgPSBzZWxlY3RvcihzdGF0ZSk7XG4gICAgICBpZiAoIWVxdWFsaXR5Rm4oY3VycmVudFNsaWNlLCBuZXh0U2xpY2UpKSB7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzU2xpY2UgPSBjdXJyZW50U2xpY2U7XG4gICAgICAgIGxpc3RlbmVyKGN1cnJlbnRTbGljZSA9IG5leHRTbGljZSwgcHJldmlvdXNTbGljZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGxpc3RlbmVycy5hZGQobGlzdGVuZXJUb0FkZCk7XG4gICAgcmV0dXJuICgpID0+IGxpc3RlbmVycy5kZWxldGUobGlzdGVuZXJUb0FkZCk7XG4gIH07XG4gIGNvbnN0IHN1YnNjcmliZSA9IChsaXN0ZW5lciwgc2VsZWN0b3IsIGVxdWFsaXR5Rm4pID0+IHtcbiAgICBpZiAoc2VsZWN0b3IgfHwgZXF1YWxpdHlGbikge1xuICAgICAgcmV0dXJuIHN1YnNjcmliZVdpdGhTZWxlY3RvcihsaXN0ZW5lciwgc2VsZWN0b3IsIGVxdWFsaXR5Rm4pO1xuICAgIH1cbiAgICBsaXN0ZW5lcnMuYWRkKGxpc3RlbmVyKTtcbiAgICByZXR1cm4gKCkgPT4gbGlzdGVuZXJzLmRlbGV0ZShsaXN0ZW5lcik7XG4gIH07XG4gIGNvbnN0IGRlc3Ryb3kgPSAoKSA9PiBsaXN0ZW5lcnMuY2xlYXIoKTtcbiAgY29uc3QgYXBpID0geyBzZXRTdGF0ZSwgZ2V0U3RhdGUsIHN1YnNjcmliZSwgZGVzdHJveSB9O1xuICBzdGF0ZSA9IGNyZWF0ZVN0YXRlKHNldFN0YXRlLCBnZXRTdGF0ZSwgYXBpKTtcbiAgcmV0dXJuIGFwaTtcbn1cblxuY29uc3QgaXNTU1IgPSB0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiIHx8ICF3aW5kb3cubmF2aWdhdG9yIHx8IC9TZXJ2ZXJTaWRlUmVuZGVyaW5nfF5EZW5vXFwvLy50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KTtcbmNvbnN0IHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgPSBpc1NTUiA/IHVzZUVmZmVjdCA6IHVzZUxheW91dEVmZmVjdDtcbmZ1bmN0aW9uIGNyZWF0ZShjcmVhdGVTdGF0ZSkge1xuICBjb25zdCBhcGkgPSB0eXBlb2YgY3JlYXRlU3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IGNyZWF0ZVN0b3JlKGNyZWF0ZVN0YXRlKSA6IGNyZWF0ZVN0YXRlO1xuICBjb25zdCB1c2VTdG9yZSA9IChzZWxlY3RvciA9IGFwaS5nZXRTdGF0ZSwgZXF1YWxpdHlGbiA9IE9iamVjdC5pcykgPT4ge1xuICAgIGNvbnN0IFssIGZvcmNlVXBkYXRlXSA9IHVzZVJlZHVjZXIoKGMpID0+IGMgKyAxLCAwKTtcbiAgICBjb25zdCBzdGF0ZSA9IGFwaS5nZXRTdGF0ZSgpO1xuICAgIGNvbnN0IHN0YXRlUmVmID0gdXNlUmVmKHN0YXRlKTtcbiAgICBjb25zdCBzZWxlY3RvclJlZiA9IHVzZVJlZihzZWxlY3Rvcik7XG4gICAgY29uc3QgZXF1YWxpdHlGblJlZiA9IHVzZVJlZihlcXVhbGl0eUZuKTtcbiAgICBjb25zdCBlcnJvcmVkUmVmID0gdXNlUmVmKGZhbHNlKTtcbiAgICBjb25zdCBjdXJyZW50U2xpY2VSZWYgPSB1c2VSZWYoKTtcbiAgICBpZiAoY3VycmVudFNsaWNlUmVmLmN1cnJlbnQgPT09IHZvaWQgMCkge1xuICAgICAgY3VycmVudFNsaWNlUmVmLmN1cnJlbnQgPSBzZWxlY3RvcihzdGF0ZSk7XG4gICAgfVxuICAgIGxldCBuZXdTdGF0ZVNsaWNlO1xuICAgIGxldCBoYXNOZXdTdGF0ZVNsaWNlID0gZmFsc2U7XG4gICAgaWYgKHN0YXRlUmVmLmN1cnJlbnQgIT09IHN0YXRlIHx8IHNlbGVjdG9yUmVmLmN1cnJlbnQgIT09IHNlbGVjdG9yIHx8IGVxdWFsaXR5Rm5SZWYuY3VycmVudCAhPT0gZXF1YWxpdHlGbiB8fCBlcnJvcmVkUmVmLmN1cnJlbnQpIHtcbiAgICAgIG5ld1N0YXRlU2xpY2UgPSBzZWxlY3RvcihzdGF0ZSk7XG4gICAgICBoYXNOZXdTdGF0ZVNsaWNlID0gIWVxdWFsaXR5Rm4oY3VycmVudFNsaWNlUmVmLmN1cnJlbnQsIG5ld1N0YXRlU2xpY2UpO1xuICAgIH1cbiAgICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAgIGlmIChoYXNOZXdTdGF0ZVNsaWNlKSB7XG4gICAgICAgIGN1cnJlbnRTbGljZVJlZi5jdXJyZW50ID0gbmV3U3RhdGVTbGljZTtcbiAgICAgIH1cbiAgICAgIHN0YXRlUmVmLmN1cnJlbnQgPSBzdGF0ZTtcbiAgICAgIHNlbGVjdG9yUmVmLmN1cnJlbnQgPSBzZWxlY3RvcjtcbiAgICAgIGVxdWFsaXR5Rm5SZWYuY3VycmVudCA9IGVxdWFsaXR5Rm47XG4gICAgICBlcnJvcmVkUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICB9KTtcbiAgICBjb25zdCBzdGF0ZUJlZm9yZVN1YnNjcmlwdGlvblJlZiA9IHVzZVJlZihzdGF0ZSk7XG4gICAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICBjb25zdCBsaXN0ZW5lciA9ICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBuZXh0U3RhdGUgPSBhcGkuZ2V0U3RhdGUoKTtcbiAgICAgICAgICBjb25zdCBuZXh0U3RhdGVTbGljZSA9IHNlbGVjdG9yUmVmLmN1cnJlbnQobmV4dFN0YXRlKTtcbiAgICAgICAgICBpZiAoIWVxdWFsaXR5Rm5SZWYuY3VycmVudChjdXJyZW50U2xpY2VSZWYuY3VycmVudCwgbmV4dFN0YXRlU2xpY2UpKSB7XG4gICAgICAgICAgICBzdGF0ZVJlZi5jdXJyZW50ID0gbmV4dFN0YXRlO1xuICAgICAgICAgICAgY3VycmVudFNsaWNlUmVmLmN1cnJlbnQgPSBuZXh0U3RhdGVTbGljZTtcbiAgICAgICAgICAgIGZvcmNlVXBkYXRlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGVycm9yZWRSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICAgICAgZm9yY2VVcGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gYXBpLnN1YnNjcmliZShsaXN0ZW5lcik7XG4gICAgICBpZiAoYXBpLmdldFN0YXRlKCkgIT09IHN0YXRlQmVmb3JlU3Vic2NyaXB0aW9uUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgbGlzdGVuZXIoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB1bnN1YnNjcmliZTtcbiAgICB9LCBbXSk7XG4gICAgY29uc3Qgc2xpY2VUb1JldHVybiA9IGhhc05ld1N0YXRlU2xpY2UgPyBuZXdTdGF0ZVNsaWNlIDogY3VycmVudFNsaWNlUmVmLmN1cnJlbnQ7XG4gICAgdXNlRGVidWdWYWx1ZShzbGljZVRvUmV0dXJuKTtcbiAgICByZXR1cm4gc2xpY2VUb1JldHVybjtcbiAgfTtcbiAgT2JqZWN0LmFzc2lnbih1c2VTdG9yZSwgYXBpKTtcbiAgdXNlU3RvcmVbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUud2FybihcIlt1c2VTdG9yZSwgYXBpXSA9IGNyZWF0ZSgpIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB2NFwiKTtcbiAgICBjb25zdCBpdGVtcyA9IFt1c2VTdG9yZSwgYXBpXTtcbiAgICByZXR1cm4ge1xuICAgICAgbmV4dCgpIHtcbiAgICAgICAgY29uc3QgZG9uZSA9IGl0ZW1zLmxlbmd0aCA8PSAwO1xuICAgICAgICByZXR1cm4geyB2YWx1ZTogaXRlbXMuc2hpZnQoKSwgZG9uZSB9O1xuICAgICAgfVxuICAgIH07XG4gIH07XG4gIHJldHVybiB1c2VTdG9yZTtcbn1cblxuZXhwb3J0IHsgY3JlYXRlIGFzIGRlZmF1bHQgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/react-flow-renderer/node_modules/zustand/esm/index.js\n"));

/***/ }),

/***/ "./node_modules/react-flow-renderer/node_modules/zustand/esm/shallow.js":
/*!******************************************************************************!*\
  !*** ./node_modules/react-flow-renderer/node_modules/zustand/esm/shallow.js ***!
  \******************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ shallow; }\n/* harmony export */ });\nfunction shallow(objA, objB) {\n  if (Object.is(objA, objB)) {\n    return true;\n  }\n  if (typeof objA !== \"object\" || objA === null || typeof objB !== \"object\" || objB === null) {\n    return false;\n  }\n  const keysA = Object.keys(objA);\n  if (keysA.length !== Object.keys(objB).length) {\n    return false;\n  }\n  for (let i = 0; i < keysA.length; i++) {\n    if (!Object.prototype.hasOwnProperty.call(objB, keysA[i]) || !Object.is(objA[keysA[i]], objB[keysA[i]])) {\n      return false;\n    }\n  }\n  return true;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtZmxvdy1yZW5kZXJlci9ub2RlX21vZHVsZXMvenVzdGFuZC9lc20vc2hhbGxvdy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixrQkFBa0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUU4QiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcmVhY3QtZmxvdy1yZW5kZXJlci9ub2RlX21vZHVsZXMvenVzdGFuZC9lc20vc2hhbGxvdy5qcz80NWE2Il0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIHNoYWxsb3cob2JqQSwgb2JqQikge1xuICBpZiAoT2JqZWN0LmlzKG9iakEsIG9iakIpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKHR5cGVvZiBvYmpBICE9PSBcIm9iamVjdFwiIHx8IG9iakEgPT09IG51bGwgfHwgdHlwZW9mIG9iakIgIT09IFwib2JqZWN0XCIgfHwgb2JqQiA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCBrZXlzQSA9IE9iamVjdC5rZXlzKG9iakEpO1xuICBpZiAoa2V5c0EubGVuZ3RoICE9PSBPYmplY3Qua2V5cyhvYmpCKS5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzQS5sZW5ndGg7IGkrKykge1xuICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iakIsIGtleXNBW2ldKSB8fCAhT2JqZWN0LmlzKG9iakFba2V5c0FbaV1dLCBvYmpCW2tleXNBW2ldXSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydCB7IHNoYWxsb3cgYXMgZGVmYXVsdCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/react-flow-renderer/node_modules/zustand/esm/shallow.js\n"));

/***/ })

});